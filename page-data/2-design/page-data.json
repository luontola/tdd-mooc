{"componentChunkName":"component---src-templates-info-page-template-js","path":"/2-design","result":{"data":{"page":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{"id":"four-elements-of-simple-design","style":"position:relative;"},"children":[{"type":"text","value":"Four elements of simple design"},{"type":"element","tagName":"a","properties":{"href":"#four-elements-of-simple-design","ariaLabel":"four elements of simple design permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In priority order:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Passes its tests"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Minimizes duplication"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Maximizes clarity"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Has fewer elements"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"With TDD, point 1 is a given. If points 2 and 3 are covered, then point 4 rarely comes up. Thus the rules can be summarized:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Remove duplication"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fix bad names"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Keep practising these, and in a few decades every other design principle and pattern will emerge."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Read more:\n"},{"type":"element","tagName":"a","properties":{"href":"https://blog.jbrains.ca/permalink/the-four-elements-of-simple-design","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://blog.jbrains.ca/permalink/the-four-elements-of-simple-design"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"a","properties":{"href":"https://martinfowler.com/bliki/BeckDesignRules.html","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://martinfowler.com/bliki/BeckDesignRules.html"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"naming-things","style":"position:relative;"},"children":[{"type":"text","value":"Naming things"},{"type":"element","tagName":"a","properties":{"href":"#naming-things","ariaLabel":"naming things permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are only two hard things in Computer Science: cache invalidation and naming things."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"- Phil Karlton"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Naming is a process: nonsense, vague, precise, meaningful. Never stop improving."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Removing duplication and improving names feed into each other in a virtuous cycle."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Read more:\n"},{"type":"element","tagName":"a","properties":{"href":"https://agileinaflash.blogspot.com/2009/02/meaningful-names.html","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://agileinaflash.blogspot.com/2009/02/meaningful-names.html"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"a","properties":{"href":"https://blog.thecodewhisperer.com/permalink/a-model-for-improving-names","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://blog.thecodewhisperer.com/permalink/a-model-for-improving-names"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"a","properties":{"href":"https://www.digdeeproots.com/articles/on/naming-process/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://www.digdeeproots.com/articles/on/naming-process/"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"a","properties":{"href":"https://martinfowler.com/bliki/TwoHardThings.html","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://martinfowler.com/bliki/TwoHardThings.html"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"composed-method","style":"position:relative;"},"children":[{"type":"text","value":"Composed method"},{"type":"element","tagName":"a","properties":{"href":"#composed-method","ariaLabel":"composed method permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Divide your program into methods that perform one identifiable task. Keep all of the operations in a method at the same level of abstraction. This will naturally result in programs with many small methods, each a few lines long."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"- Kent Beck, Smalltalk Best Practice Patterns (1996)"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Read more:\n"},{"type":"element","tagName":"a","properties":{"href":"https://farenda.com/patterns/composed-method-pattern/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://farenda.com/patterns/composed-method-pattern/"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"a","properties":{"href":"https://wiki.c2.com/?ComposedMethod","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://wiki.c2.com/?ComposedMethod"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"small-safe-steps","style":"position:relative;"},"children":[{"type":"text","value":"Small, safe steps"},{"type":"element","tagName":"a","properties":{"href":"#small-safe-steps","ariaLabel":"small safe steps permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Many small changes is faster than one big change."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When you refactor, don't change behavior. When you change behavior, don't refactor. Maintain three points of contact like a rock climber. 🧗"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Read more:\n"},{"type":"element","tagName":"a","properties":{"href":"https://www.infoq.com/presentations/responsive-design/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://www.infoq.com/presentations/responsive-design/"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"four-strategies","style":"position:relative;"},"children":[{"type":"text","value":"Four strategies"},{"type":"element","tagName":"a","properties":{"href":"#four-strategies","ariaLabel":"four strategies permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Leap:"}]},{"type":"text","value":" The change is small enough. Just do it."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Parallel:"}]},{"type":"text","value":" Build the new solution side-by-side with the old solution, until the new can replace the old."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Stepping stone:"}]},{"type":"text","value":" You want to build thing A, but if you built thing B first, that could make it easier to build thing A. (Beware of gold plating.)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Simplification:"}]},{"type":"text","value":" Solve a trivialized version of the problem first. 1×1 sudoku."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Read more:\n"},{"type":"element","tagName":"a","properties":{"href":"https://www.infoq.com/presentations/responsive-design/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://www.infoq.com/presentations/responsive-design/"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"test-quality","style":"position:relative;"},"children":[{"type":"text","value":"Test quality"},{"type":"element","tagName":"a","properties":{"href":"#test-quality","ariaLabel":"test quality permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tests should be sensitive to behavior changes and insensitive to structure changes."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Each test should test only one thing."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Each bug should cause only one test to fail."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"From the pattern of failing tests, it should be possible to guess in which function or line the problem is."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If some code can be commented out and no test fails, the code should be dead."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In five seconds you will have forgotten over half of your working memory. Make test so fast that you won't forget what you were thinking."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[]},{"type":"element","tagName":"figure","properties":{"className":["gatsby-resp-image-figure"],"style":"margin-bottom: 1rem;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 539px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/460a7c0c4db93ce8d1fe133754cd3c0e/10f9a/working-memory-decay.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 70.86956521739131%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAABMklEQVQoz5VS0Y7jIAzM//8joq0qlDSFEINtCBBWrVdRtLen682TZTN4bM/Qe6+1LsuSUqI3mJmIEFECySDiUWLmGCMzD733lJLWWn6ptbbWjuDAubTvOzOHEF7k5/Opta619o+xbVuMcVjX1Xu/risittY+JyPiYIyZ5xkRSymI+CE55/zqbK29XC7W2t47EeWc/0O2MQYAiEiy4zge8b/JWmullHNOsnIJZvbeA4Ak933/XfbtdnPOybTnRykl7z0RlVL+ujAAcM4ty/Jrk9YaIk7T9OOLnPP3na21Qv5TngDfkHXKOUsp3w6rtQLAYaMfPhNLybNxHKdpSilZa+/3+4sMAEopIoI3YozW2nme4wnX69U5J64OITweD6XUIGq3bTvrlG5iAWNMCOEQfB77Cy7/MR6dVPWWAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"picture","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/460a7c0c4db93ce8d1fe133754cd3c0e/a0b58/working-memory-decay.webp 230w","/static/460a7c0c4db93ce8d1fe133754cd3c0e/bc10c/working-memory-decay.webp 460w","/static/460a7c0c4db93ce8d1fe133754cd3c0e/9cb26/working-memory-decay.webp 539w"],"sizes":"(max-width: 539px) 100vw, 539px","type":"image/webp"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/460a7c0c4db93ce8d1fe133754cd3c0e/81c8e/working-memory-decay.png 230w","/static/460a7c0c4db93ce8d1fe133754cd3c0e/08a84/working-memory-decay.png 460w","/static/460a7c0c4db93ce8d1fe133754cd3c0e/10f9a/working-memory-decay.png 539w"],"sizes":"(max-width: 539px) 100vw, 539px","type":"image/png"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"src":"/static/460a7c0c4db93ce8d1fe133754cd3c0e/10f9a/working-memory-decay.png","alt":"Diagram: Decay of working memory if rehearsal is prevented. ","title":"The first image search result for [working memory decay](https://www.researchgate.net/figure/Decay-of-working-memory-if-rehearsal-is-prevented-The-time-scale-is-of-the-order-of-a_fig7_35883885).","loading":"lazy","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"},"children":[]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"figcaption","properties":{"className":["gatsby-resp-image-figcaption"]},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The first image search result for "},{"type":"element","tagName":"a","properties":{"href":"https://www.researchgate.net/figure/Decay-of-working-memory-if-rehearsal-is-prevented-The-time-scale-is-of-the-order-of-a_fig7_35883885","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"working memory decay"}]},{"type":"text","value":"."}]}]},{"type":"text","value":"\n  "}]},{"type":"element","tagName":"p","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Read more:\n"},{"type":"element","tagName":"a","properties":{"href":"https://agileinaflash.blogspot.com/2009/02/first.html","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://agileinaflash.blogspot.com/2009/02/first.html"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"a","properties":{"href":"https://medium.com/@kentbeck_7670/programmer-test-principles-d01c064d7934","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://medium.com/@kentbeck_7670/programmer-test-principles-d01c064d7934"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"test-smells","style":"position:relative;"},"children":[{"type":"text","value":"Test smells"},{"type":"element","tagName":"a","properties":{"href":"#test-smells","ariaLabel":"test smells permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Many asserts per test:"}]},{"type":"text","value":" Normally tests are structured in the "},{"type":"element","tagName":"a","properties":{"href":"https://agileinaflash.blogspot.com/2009/03/arrange-act-assert.html","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Arrange-Act-Assert"}]},{"type":"text","value":"/"},{"type":"element","tagName":"a","properties":{"href":"https://dannorth.net/introducing-bdd/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Given-When-Then"}]},{"type":"text","value":"/"},{"type":"element","tagName":"a","properties":{"href":"https://en.wikipedia.org/wiki/Hoare_logic","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Hoare Triple"}]},{"type":"text","value":" format. But if they are instead "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Arrange-Act-Assert-Act-Assert-Act..."}]},{"type":"text","value":", that usually indicates that a test is lacking focus and testing many different things (making the test's purpose harder to decipher), or that it's testing how the system does things instead of what the system does (making refactoring harder). Depending on the testing framework, earlier test failures may also mask later test failures, making it harder to know why the test failed. Instead, write many small focused tests."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Complex test setup:"}]},{"type":"text","value":" If the "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"arrange"}]},{"type":"text","value":" part of a test is long, requiring the careful arrangement of many collaborators to get the system into the desired initial state for the test, it may indicate design problems in the code. Lots of constructor arguments is a similar smell (which is why dependency injection frameworks are best avoided - they make it too easy to add dependencies). Instead, try to think of a design which eliminates some of the dependencies."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{"id":"exercise-2-small-safe-steps","style":"position:relative;"},"children":[{"type":"text","value":"Exercise 2: small, safe steps"},{"type":"element","tagName":"a","properties":{"href":"#exercise-2-small-safe-steps","ariaLabel":"exercise 2 small safe steps permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Clone the project "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/martinsson/Refactoring-Kata-Lift-Pass-Pricing","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://github.com/martinsson/Refactoring-Kata-Lift-Pass-Pricing"}]},{"type":"text","value":" and switch to its "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"with_tests"}]},{"type":"text","value":" branch. Use the JavaScript/TypeScript version in the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"typescript"}]},{"type":"text","value":" directory. Install the "},{"type":"element","tagName":"a","properties":{"href":"https://www.npmjs.com/package/@js-temporal/polyfill","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"@js-temporal/polyfill"}]},{"type":"text","value":" polyfill."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The assignment is to "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"refactor the above code to replace "},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Date"}]},{"type":"text","value":" class with "},{"type":"element","tagName":"a","properties":{"href":"https://tc39.es/proposal-temporal/docs/plaindate.html","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Temporal.PlainDate"}]},{"type":"text","value":" class."}]},{"type":"text","value":" Repeat this refactoring many times. Focus on doing as small changes as possible, so that all tests will pass between every change."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Afterwards we will have a competition between the students of this course about doing this refactoring using the smallest possible steps."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"TODO: extract a minimal JS-only project, preinstall the polyfill, split the big function into many small functions"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Course artifact:"}]},{"type":"text","value":" Performing this refactoring live in the weekly exercise groups."}]}],"data":{"quirksMode":false}},"html":"<h2 id=\"four-elements-of-simple-design\" style=\"position:relative;\">Four elements of simple design<a href=\"#four-elements-of-simple-design\" aria-label=\"four elements of simple design permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>In priority order:</p>\n<ol>\n<li>Passes its tests</li>\n<li>Minimizes duplication</li>\n<li>Maximizes clarity</li>\n<li>Has fewer elements</li>\n</ol>\n<p>With TDD, point 1 is a given. If points 2 and 3 are covered, then point 4 rarely comes up. Thus the rules can be summarized:</p>\n<ul>\n<li>Remove duplication</li>\n<li>Fix bad names</li>\n</ul>\n<p>Keep practising these, and in a few decades every other design principle and pattern will emerge.</p>\n<p>Read more:\n<a href=\"https://blog.jbrains.ca/permalink/the-four-elements-of-simple-design\" target=\"_blank\" rel=\"noopener noreferrer\">https://blog.jbrains.ca/permalink/the-four-elements-of-simple-design</a>\n<a href=\"https://martinfowler.com/bliki/BeckDesignRules.html\" target=\"_blank\" rel=\"noopener noreferrer\">https://martinfowler.com/bliki/BeckDesignRules.html</a></p>\n<h2 id=\"naming-things\" style=\"position:relative;\">Naming things<a href=\"#naming-things\" aria-label=\"naming things permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<blockquote>\n<p>There are only two hard things in Computer Science: cache invalidation and naming things.</p>\n<p>- Phil Karlton</p>\n</blockquote>\n<p>Naming is a process: nonsense, vague, precise, meaningful. Never stop improving.</p>\n<p>Removing duplication and improving names feed into each other in a virtuous cycle.</p>\n<p>Read more:\n<a href=\"https://agileinaflash.blogspot.com/2009/02/meaningful-names.html\" target=\"_blank\" rel=\"noopener noreferrer\">https://agileinaflash.blogspot.com/2009/02/meaningful-names.html</a>\n<a href=\"https://blog.thecodewhisperer.com/permalink/a-model-for-improving-names\" target=\"_blank\" rel=\"noopener noreferrer\">https://blog.thecodewhisperer.com/permalink/a-model-for-improving-names</a>\n<a href=\"https://www.digdeeproots.com/articles/on/naming-process/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.digdeeproots.com/articles/on/naming-process/</a>\n<a href=\"https://martinfowler.com/bliki/TwoHardThings.html\" target=\"_blank\" rel=\"noopener noreferrer\">https://martinfowler.com/bliki/TwoHardThings.html</a></p>\n<h2 id=\"composed-method\" style=\"position:relative;\">Composed method<a href=\"#composed-method\" aria-label=\"composed method permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<blockquote>\n<p>Divide your program into methods that perform one identifiable task. Keep all of the operations in a method at the same level of abstraction. This will naturally result in programs with many small methods, each a few lines long.</p>\n<p>- Kent Beck, Smalltalk Best Practice Patterns (1996)</p>\n</blockquote>\n<p>Read more:\n<a href=\"https://farenda.com/patterns/composed-method-pattern/\" target=\"_blank\" rel=\"noopener noreferrer\">https://farenda.com/patterns/composed-method-pattern/</a>\n<a href=\"https://wiki.c2.com/?ComposedMethod\" target=\"_blank\" rel=\"noopener noreferrer\">https://wiki.c2.com/?ComposedMethod</a></p>\n<h2 id=\"small-safe-steps\" style=\"position:relative;\">Small, safe steps<a href=\"#small-safe-steps\" aria-label=\"small safe steps permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Many small changes is faster than one big change.</p>\n<p>When you refactor, don't change behavior. When you change behavior, don't refactor. Maintain three points of contact like a rock climber. 🧗</p>\n<p>Read more:\n<a href=\"https://www.infoq.com/presentations/responsive-design/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.infoq.com/presentations/responsive-design/</a></p>\n<h2 id=\"four-strategies\" style=\"position:relative;\">Four strategies<a href=\"#four-strategies\" aria-label=\"four strategies permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<ul>\n<li><strong>Leap:</strong> The change is small enough. Just do it.</li>\n<li><strong>Parallel:</strong> Build the new solution side-by-side with the old solution, until the new can replace the old.</li>\n<li><strong>Stepping stone:</strong> You want to build thing A, but if you built thing B first, that could make it easier to build thing A. (Beware of gold plating.)</li>\n<li><strong>Simplification:</strong> Solve a trivialized version of the problem first. 1×1 sudoku.</li>\n</ul>\n<p>Read more:\n<a href=\"https://www.infoq.com/presentations/responsive-design/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.infoq.com/presentations/responsive-design/</a></p>\n<h2 id=\"test-quality\" style=\"position:relative;\">Test quality<a href=\"#test-quality\" aria-label=\"test quality permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Tests should be sensitive to behavior changes and insensitive to structure changes.</p>\n<p>Each test should test only one thing.</p>\n<p>Each bug should cause only one test to fail.</p>\n<p>From the pattern of failing tests, it should be possible to guess in which function or line the problem is.</p>\n<p>If some code can be commented out and no test fails, the code should be dead.</p>\n<p>In five seconds you will have forgotten over half of your working memory. Make test so fast that you won't forget what you were thinking.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"margin-bottom: 1rem;\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 539px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/460a7c0c4db93ce8d1fe133754cd3c0e/10f9a/working-memory-decay.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70.86956521739131%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAABMklEQVQoz5VS0Y7jIAzM//8joq0qlDSFEINtCBBWrVdRtLen682TZTN4bM/Qe6+1LsuSUqI3mJmIEFECySDiUWLmGCMzD733lJLWWn6ptbbWjuDAubTvOzOHEF7k5/Opta619o+xbVuMcVjX1Xu/risittY+JyPiYIyZ5xkRSymI+CE55/zqbK29XC7W2t47EeWc/0O2MQYAiEiy4zge8b/JWmullHNOsnIJZvbeA4Ak933/XfbtdnPOybTnRykl7z0RlVL+ujAAcM4ty/Jrk9YaIk7T9OOLnPP3na21Qv5TngDfkHXKOUsp3w6rtQLAYaMfPhNLybNxHKdpSilZa+/3+4sMAEopIoI3YozW2nme4wnX69U5J64OITweD6XUIGq3bTvrlG5iAWNMCOEQfB77Cy7/MR6dVPWWAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/460a7c0c4db93ce8d1fe133754cd3c0e/a0b58/working-memory-decay.webp 230w,\n/static/460a7c0c4db93ce8d1fe133754cd3c0e/bc10c/working-memory-decay.webp 460w,\n/static/460a7c0c4db93ce8d1fe133754cd3c0e/9cb26/working-memory-decay.webp 539w\"\n              sizes=\"(max-width: 539px) 100vw, 539px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/460a7c0c4db93ce8d1fe133754cd3c0e/81c8e/working-memory-decay.png 230w,\n/static/460a7c0c4db93ce8d1fe133754cd3c0e/08a84/working-memory-decay.png 460w,\n/static/460a7c0c4db93ce8d1fe133754cd3c0e/10f9a/working-memory-decay.png 539w\"\n            sizes=\"(max-width: 539px) 100vw, 539px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/460a7c0c4db93ce8d1fe133754cd3c0e/10f9a/working-memory-decay.png\"\n            alt=\"Diagram: Decay of working memory if rehearsal is prevented. \"\n            title=\"The first image search result for [working memory decay](https://www.researchgate.net/figure/Decay-of-working-memory-if-rehearsal-is-prevented-The-time-scale-is-of-the-order-of-a_fig7_35883885).\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>The first image search result for <a href=\"https://www.researchgate.net/figure/Decay-of-working-memory-if-rehearsal-is-prevented-The-time-scale-is-of-the-order-of-a_fig7_35883885\" target=\"_blank\" rel=\"noopener noreferrer\">working memory decay</a>.</p></figcaption>\n  </figure></p>\n<p>Read more:\n<a href=\"https://agileinaflash.blogspot.com/2009/02/first.html\" target=\"_blank\" rel=\"noopener noreferrer\">https://agileinaflash.blogspot.com/2009/02/first.html</a>\n<a href=\"https://medium.com/@kentbeck_7670/programmer-test-principles-d01c064d7934\" target=\"_blank\" rel=\"noopener noreferrer\">https://medium.com/@kentbeck_7670/programmer-test-principles-d01c064d7934</a></p>\n<h2 id=\"test-smells\" style=\"position:relative;\">Test smells<a href=\"#test-smells\" aria-label=\"test smells permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><strong>Many asserts per test:</strong> Normally tests are structured in the <a href=\"https://agileinaflash.blogspot.com/2009/03/arrange-act-assert.html\" target=\"_blank\" rel=\"noopener noreferrer\">Arrange-Act-Assert</a>/<a href=\"https://dannorth.net/introducing-bdd/\" target=\"_blank\" rel=\"noopener noreferrer\">Given-When-Then</a>/<a href=\"https://en.wikipedia.org/wiki/Hoare_logic\" target=\"_blank\" rel=\"noopener noreferrer\">Hoare Triple</a> format. But if they are instead <em>Arrange-Act-Assert-Act-Assert-Act...</em>, that usually indicates that a test is lacking focus and testing many different things (making the test's purpose harder to decipher), or that it's testing how the system does things instead of what the system does (making refactoring harder). Depending on the testing framework, earlier test failures may also mask later test failures, making it harder to know why the test failed. Instead, write many small focused tests.</p>\n<p><strong>Complex test setup:</strong> If the <em>arrange</em> part of a test is long, requiring the careful arrangement of many collaborators to get the system into the desired initial state for the test, it may indicate design problems in the code. Lots of constructor arguments is a similar smell (which is why dependency injection frameworks are best avoided - they make it too easy to add dependencies). Instead, try to think of a design which eliminates some of the dependencies.</p>\n<h1 id=\"exercise-2-small-safe-steps\" style=\"position:relative;\">Exercise 2: small, safe steps<a href=\"#exercise-2-small-safe-steps\" aria-label=\"exercise 2 small safe steps permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<p>Clone the project <a href=\"https://github.com/martinsson/Refactoring-Kata-Lift-Pass-Pricing\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/martinsson/Refactoring-Kata-Lift-Pass-Pricing</a> and switch to its <code class=\"language-text\">with_tests</code> branch. Use the JavaScript/TypeScript version in the <code class=\"language-text\">typescript</code> directory. Install the <a href=\"https://www.npmjs.com/package/@js-temporal/polyfill\" target=\"_blank\" rel=\"noopener noreferrer\">@js-temporal/polyfill</a> polyfill.</p>\n<p>The assignment is to <em>refactor the above code to replace <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date\" target=\"_blank\" rel=\"noopener noreferrer\">Date</a> class with <a href=\"https://tc39.es/proposal-temporal/docs/plaindate.html\" target=\"_blank\" rel=\"noopener noreferrer\">Temporal.PlainDate</a> class.</em> Repeat this refactoring many times. Focus on doing as small changes as possible, so that all tests will pass between every change.</p>\n<p>Afterwards we will have a competition between the students of this course about doing this refactoring using the smallest possible steps.</p>\n<p>TODO: extract a minimal JS-only project, preinstall the polyfill, split the big function into many small functions</p>\n<p><strong>Course artifact:</strong> Performing this refactoring live in the weekly exercise groups.</p>","frontmatter":{"path":"/2-design","title":"Part 2: Refactoring and design","banner":null},"fileAbsolutePath":"/Users/esko/devel/tdd-mooc/data/2-design.md"}},"pageContext":{}},"staticQueryHashes":["3294351120","994120085"]}