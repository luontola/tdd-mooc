{"componentChunkName":"component---src-templates-info-page-template-js","path":"/1-tdd","result":{"data":{"page":{"htmlAst":{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The philosophy of this course material is that if something has been written online, there is no need to repeat it here. Instead, we just link to it. The "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"recommended reading"}]},{"type":"text","value":" links contain additional information which makes the summaries in this course material more understandable. The inline links, on the other hand, just explain terms and provide sources."}]},{"type":"element","tagName":"h2","properties":{"id":"history","style":"position:relative;"},"children":[{"type":"text","value":"History"},{"type":"element","tagName":"a","properties":{"href":"#history","ariaLabel":"history permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Sometime in the 1970s, the 12-year-old "},{"type":"element","tagName":"a","properties":{"href":"https://en.wikipedia.org/wiki/Kent_Beck","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Kent Beck"}]},{"type":"text","value":" "},{"type":"element","tagName":"a","properties":{"href":"https://www.amazon.com/Test-Driven-Development-Kent-Beck/dp/0321146530","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"[1]"}]},{"type":"text","value":" was reading books that his father had brought home. One of the books said that this is how you write programs: "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"You take the input tape, look at its contents, and type manually the output tape that you expect to create. Then programming is the process of writing a program until the actual output tape matches the expected output tape."}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Some things that should not have been forgotten were lost. And for two decades, the technique passed out of all knowledge. Until, when chance came, it was rediscovered."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Fast forward to 1990s. Kent Beck had followed in his father's footsteps and was now a software consultant. He had written the first unit testing framework in the xUnit family, SUnit for Smalltalk. It was then that Kent remembered the book he had read as a kid. "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"\"If I took this type-the-output-tape-first schema seriously, then I would write the test before I had the code.\""}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"He thought the idea was stupid, so he had to try it."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Kent tried it with a stack, and half an hour later he was hooked. All the anxieties he had felt while programming, which had been getting worse as experience accrued, just dropped away. "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"\"I'm not done until all the tests that I can imagine are all passing. But I don't have to make them all pass at once. I can just type one in and then make it work. And type the next one and make that work. Eventually... can I think of any other tests? No. I must be done.\""}]},{"type":"text","value":" He was completely relaxed.\n"},{"type":"element","tagName":"a","properties":{"href":"https://youtu.be/tM1iOJsR7p4?t=2080","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"[2]"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"a","properties":{"href":"https://youtu.be/cGuTmOUdFbo?t=325","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"[3]"}]}]},{"type":"element","tagName":"h2","properties":{"id":"what-is-tdd","style":"position:relative;"},"children":[{"type":"text","value":"What is TDD"},{"type":"element","tagName":"a","properties":{"href":"#what-is-tdd","ariaLabel":"what is tdd permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://dx.doi.org/10.1109/TSE.2017.2776152","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"A study from 2017"}]},{"type":"text","value":" found that only 12% of developers who claimed to do TDD, did actually follow it.  Since there is such "},{"type":"element","tagName":"a","properties":{"href":"https://martinfowler.com/bliki/SemanticDiffusion.html","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"semantic diffusion"}]},{"type":"text","value":" about TDD, let's start with a definition:"}]},{"type":"element","tagName":"h3","properties":{"id":"three-laws-of-tdd","style":"position:relative;"},"children":[{"type":"text","value":"Three laws of TDD"},{"type":"element","tagName":"a","properties":{"href":"#three-laws-of-tdd","ariaLabel":"three laws of tdd permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"TDD can be described in terms of these three rules:"}]},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"You shall not write any production code, unless required by a failing unit test."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"You shall not write more of a unit test, than is required to fail (assertion failure/program crash/compile error)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"You shall not write more production code, than is sufficient to make the one failing unit test pass."}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"recommended-reading","properties":{},"children":[{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://www.butunclebob.com/ArticleS.UncleBob.TheThreeRulesOfTdd","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"The Three Laws of TDD"}]},{"type":"text","value":" - a definition of TDD"}]},{"type":"text","value":"\n"}]}]},{"type":"element","tagName":"h3","properties":{"id":"red-green-refactor","style":"position:relative;"},"children":[{"type":"text","value":"Red, Green, Refactor"},{"type":"element","tagName":"a","properties":{"href":"#red-green-refactor","ariaLabel":"red green refactor permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Another way to describe TDD is the following cycle of three phases. Every few minutes, in order:"}]},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Red"}]},{"type":"text","value":": Write a failing test. Predict (mentally or out loud) how the test should fail. Run the test. See it fail. If it failed in an unexpected way, check your assumptions. Improve the failure's readability."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Green"}]},{"type":"text","value":": Make the test pass. ASAP. Commit any sins necessary. Hard-coded values. If statements. Fake it until you make it."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Refactor"}]},{"type":"text","value":": Improve the design of the code, without changing its behavior. Atone for your sins. Remove duplication. Improve names. Minimal code which passes the current tests."}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Repeat until there are no more tests to write or until bored."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the current design makes it difficult to make a new test pass, consider commenting out the new test and refactoring first. \"Make the change easy (warning: this may be hard), then make the easy change.\" "},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/KentBeck/status/250733358307500032","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"[1]"}]}]},{"type":"element","tagName":"recommended-reading","properties":{},"children":[{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://www.jamesshore.com/v2/blog/2005/red-green-refactor","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Red-Green-Refactor"}]},{"type":"text","value":" - a definition of TDD"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://blog.cleancoder.com/uncle-bob/2014/12/17/TheCyclesOfTDD.html","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"The Cycles of TDD"}]},{"type":"text","value":" - the various iterative cycles of TDD, from the second-by-second up to the hour-by-hour scale"}]},{"type":"text","value":"\n"}]}]},{"type":"element","tagName":"h4","properties":{"id":"triangulation","style":"position:relative;"},"children":[{"type":"text","value":"Triangulation"},{"type":"element","tagName":"a","properties":{"href":"#triangulation","ariaLabel":"triangulation permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"\"As the tests get more specific, the code gets more generic.\" "},{"type":"element","tagName":"a","properties":{"href":"https://thecleancoder.blogspot.com/2010/11/craftsman-63-specifics-and-generics.html","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"[1]"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In the "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"green"}]},{"type":"text","value":" phase, it's important to not write any more code than is required to pass the test. This means at first using hard-coded return values and naive implementations. If we added behavior without first specifying it with a test, then we would be adding unspecified behavior."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is called "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"triangulation"}]},{"type":"text","value":" when we write tests to expose the deficiencies of still naive production code. By making those tests pass, the production code approaches a completely tested solution which will handle all edge cases."}]},{"type":"element","tagName":"recommended-reading","properties":{},"children":[{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://codingitwrong.com/2020/12/23/why-write-the-minimum-code-to-pass-the-test.html","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Why Write the Minimum Code to Pass the Test?"}]},{"type":"text","value":" - on the importance of implementing features in small iterative steps"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://www.tddfellow.com/blog/2016/08/31/getting-stuck-while-doing-tdd-part-3-triangulation-to-the-rescue/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Getting Stuck While Doing TDD. Part 3: Triangulation to the Rescue!"}]},{"type":"text","value":" - what is triangulation and an example of doing it"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://blog.wingman-sw.com/tdd-guided-by-zombies","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"TDD Guided by ZOMBIES"}]},{"type":"text","value":" - an acronym about in which order to implement things and what to consider"}]},{"type":"text","value":"\n"}]}]},{"type":"element","tagName":"h4","properties":{"id":"test-list","style":"position:relative;"},"children":[{"type":"text","value":"Test list"},{"type":"element","tagName":"a","properties":{"href":"#test-list","ariaLabel":"test list permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To stay focused on the current test and phase, it's helpful to maintain a "},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/ursenzler/status/1433096612088356866/photo/2","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"test list"}]},{"type":"text","value":" (on paper, a text file or as TODO comments in tests)."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Whenever you come up with an idea for a new test (e.g. a new feature or an edge case that needs to be covered), add it to your test list. Likewise for things that need refactoring. Then when you are done with the current feature, you can go through the list and handle them."}]},{"type":"element","tagName":"h2","properties":{"id":"what-it-looks-like","style":"position:relative;"},"children":[{"type":"text","value":"What it looks like"},{"type":"element","tagName":"a","properties":{"href":"#what-it-looks-like","ariaLabel":"what it looks like permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In the following video, "},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/otaviolemos","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Otavio Lemos"}]},{"type":"text","value":" demonstrates TDD using the "},{"type":"element","tagName":"a","properties":{"href":"https://kata-log.rocks/bowling-game-kata","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Bowling Game Kata"}]},{"type":"text","value":". Some points to pay attention to:"}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"No more code is added than is required to pass the tests. At first the implementation is trivial."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The code is refactored early and often."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If the current design makes passing the next test hard, the test is commented out and the code is first refactored toward a better design."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"As more tests are added to cover specific edge cases, the code grows toward a generic algorithm which handles them all."}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"iframe","properties":{"style":"width: 100%; aspect-ratio: 560/315;","src":"https://www.youtube-nocookie.com/embed/1o_EbACQpQ8","title":"Bowling Kata in TypeScript - YouTube video player","frameBorder":"0","allow":"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowFullScreen":true},"children":[]},{"type":"element","tagName":"h2","properties":{"id":"direct-and-indirect-effects-of-tdd","style":"position:relative;"},"children":[{"type":"text","value":"Direct and indirect effects of TDD"},{"type":"element","tagName":"a","properties":{"href":"#direct-and-indirect-effects-of-tdd","ariaLabel":"direct and indirect effects of tdd permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Direct effects"}]},{"type":"text","value":", if just following the three laws of TDD:"}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Guarantees code coverage"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Amplifies the pain caused by bad code"}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Indirect effects"}]},{"type":"text","value":", if the programmer is skilled enough:"}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Enables changing the code without breaking it"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Improves the quality of the code"}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"recommended-reading","properties":{},"children":[{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://blog.orfjackal.net/2010/04/direct-and-indirect-effects-of-tdd.html","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Direct and Indirect Effects of TDD"}]},{"type":"text","value":" - how TDD works as a "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"design feedback mechanism"}]},{"type":"text","value":" and why pain is good"}]},{"type":"text","value":"\n"}]}]},{"type":"element","tagName":"h2","properties":{"id":"what-tests-to-write","style":"position:relative;"},"children":[{"type":"text","value":"What tests to write?"},{"type":"element","tagName":"a","properties":{"href":"#what-tests-to-write","ariaLabel":"what tests to write permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Ask yourself: What is the next most important thing, which the system "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"does not"}]},{"type":"text","value":" yet do? "},{"type":"element","tagName":"a","properties":{"href":"https://dannorth.net/introducing-bdd/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"[1]"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Stop thinking about "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"HOW your software works"}]},{"type":"text","value":". Instead, specify "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"WHAT your software does"}]},{"type":"text","value":" from the point of view of its user. "},{"type":"element","tagName":"a","properties":{"href":"https://www.youtube.com/watch?v=gXh0iUt4TXA&t=380s","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"[2]"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When writing the first test, it helps to start small and simplify the problem: Where to start writing a sudoku solver? Solving a 1Ã—1 sudoku. "},{"type":"element","tagName":"a","properties":{"href":"https://www.infoq.com/presentations/responsive-design/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"[3]"}]}]},{"type":"element","tagName":"h3","properties":{"id":"test-names-should-be-sentences","style":"position:relative;"},"children":[{"type":"text","value":"Test names should be sentences"},{"type":"element","tagName":"a","properties":{"href":"#test-names-should-be-sentences","ariaLabel":"test names should be sentences permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The test names should be sentences which describe what the system should do - its behavior. Think of them as a specification of what your software does."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Thought exercise: All production and test code has disappeared. The only thing remaining is the test names. Can someone reimplement the system, so that it will do pretty much the same things as before?"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Corollary: All test names have disappeared. Can someone read the test code and understand what behavior it is specifying, so that they can write a test name which says pretty much the same as it said before?"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When a test fails, look at the name of the test - the behavior that it defines. There are three possibilities:"}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The system has a bug. Fix the implementation."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The behavior is still needed, but the test needs updating. Change the test. Think of how to decouple the test from unrelated behaviors, to have fewer unwanted test failures."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The behavior is no more needed. Delete the test."}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"recommended-reading","properties":{},"children":[{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://dannorth.net/introducing-bdd/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Introducing BDD"}]},{"type":"text","value":" - the original article about Behavior-Driven Development; on naming tests and how replacing the word "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"test"}]},{"type":"text","value":" with "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"behavior"}]},{"type":"text","value":" or "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"specification"}]},{"type":"text","value":" might help in learning what is "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"TDD done well"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://www.youtube.com/watch?v=gXh0iUt4TXA","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"An Ultimate Guide To BDD"}]}]},{"type":"text","value":"\n"}]}]},{"type":"element","tagName":"h2","properties":{"id":"is-tdd-testing","style":"position:relative;"},"children":[{"type":"text","value":"Is TDD testing?"},{"type":"element","tagName":"a","properties":{"href":"#is-tdd-testing","ariaLabel":"is tdd testing permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The tests written as part of TDD do help ensure a level of "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"basic correctness"}]},{"type":"text","value":" in the software, but it's still a "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"development"}]},{"type":"text","value":" technique - that's what the last D in TDD stands for. The role of the tests in TDD is to support building the software, whereas the role of tests in software testing is to break the software. Think of scaffolding instead of a wrecking ball."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"TDD's tests can be thought of as a specification of the system's behavior, or as small examples of how the code works. In the software development life cycle, the TDD mindset focuses more on requirements and design than on verification, though the verification side is also important to support refactoring and adding new features."}]},{"type":"element","tagName":"p","properties":{},"children":[]},{"type":"element","tagName":"figure","properties":{"className":["gatsby-resp-image-figure"],"style":"margin-bottom: 1rem;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 920px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/e6271d2d78d7a34d61af498816395c1a/b17f8/tdd-vs-testing.jpg","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 62.60869565217391%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAUBAwT/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABvWM5MowI/8QAHRAAAgIBBQAAAAAAAAAAAAAAAgMABAEREhQiI//aAAgBAQABBQJljUWP98dscYYVNcCoG3//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAaEAADAAMBAAAAAAAAAAAAAAAAATECEkFC/9oACAEBAAY/Ap0b8my6Vipcj//EABsQAAMAAgMAAAAAAAAAAAAAAAABESFBMZHB/9oACAEBAAE/IVMSrwJctfRKkRaDLjqsciCTuP/aAAwDAQACAAMAAAAQQz//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREx/9oACAEDAQE/EFFhT//EABYRAQEBAAAAAAAAAAAAAAAAAAARMf/aAAgBAgEBPxDUf//EABwQAQEAAgIDAAAAAAAAAAAAAAERANEhQTGBsf/aAAgBAQABPxAaoCkeIafMBQRVnKpvF5YYXWRxb2axlTMtFyEAeo1n/9k='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"picture","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/e6271d2d78d7a34d61af498816395c1a/a0b58/tdd-vs-testing.webp 230w","/static/e6271d2d78d7a34d61af498816395c1a/bc10c/tdd-vs-testing.webp 460w","/static/e6271d2d78d7a34d61af498816395c1a/966d8/tdd-vs-testing.webp 920w","/static/e6271d2d78d7a34d61af498816395c1a/445df/tdd-vs-testing.webp 1380w","/static/e6271d2d78d7a34d61af498816395c1a/fad48/tdd-vs-testing.webp 1600w"],"sizes":"(max-width: 920px) 100vw, 920px","type":"image/webp"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/e6271d2d78d7a34d61af498816395c1a/e83b4/tdd-vs-testing.jpg 230w","/static/e6271d2d78d7a34d61af498816395c1a/e41a8/tdd-vs-testing.jpg 460w","/static/e6271d2d78d7a34d61af498816395c1a/4d836/tdd-vs-testing.jpg 920w","/static/e6271d2d78d7a34d61af498816395c1a/89b2d/tdd-vs-testing.jpg 1380w","/static/e6271d2d78d7a34d61af498816395c1a/b17f8/tdd-vs-testing.jpg 1600w"],"sizes":"(max-width: 920px) 100vw, 920px","type":"image/jpeg"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"src":"/static/e6271d2d78d7a34d61af498816395c1a/4d836/tdd-vs-testing.jpg","alt":"Photos of scaffolding around a building and a wrecking ball destroying a brick wall.","title":"Photo credits: [Niklas Hamann](https://unsplash.com/photos/jAj0pjdzvic), [Rhys Asplundh](https://www.flickr.com/photos/rhysasplundh/5202454842)","loading":"lazy","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"},"children":[]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"figcaption","properties":{"className":["gatsby-resp-image-figcaption"]},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Photo credits: "},{"type":"element","tagName":"a","properties":{"href":"https://unsplash.com/photos/jAj0pjdzvic","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Niklas Hamann"}]},{"type":"text","value":", "},{"type":"element","tagName":"a","properties":{"href":"https://www.flickr.com/photos/rhysasplundh/5202454842","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Rhys Asplundh"}]}]}]},{"type":"text","value":"\n  "}]},{"type":"element","tagName":"p","properties":{},"children":[]},{"type":"element","tagName":"recommended-reading","properties":{},"children":[{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://blog.thecodewhisperer.com/permalink/interlude-basic-correctness","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Interlude: Basic Correctness"}]},{"type":"text","value":" - discussion between a TDD and a software testing expert"}]},{"type":"text","value":"\n"}]}]},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Proceed to "},{"type":"element","tagName":"a","properties":{"href":"/2-design"},"children":[{"type":"text","value":"Chapter 2: Refactoring and design"}]},{"type":"text","value":" or "},{"type":"element","tagName":"a","properties":{"href":"/exercises"},"children":[{"type":"text","value":"Exercises"}]}]}]},"html":"<div><p>The philosophy of this course material is that if something has been written online, there is no need to repeat it here. Instead, we just link to it. The <em>recommended reading</em> links contain additional information which makes the summaries in this course material more understandable. The inline links, on the other hand, just explain terms and provide sources.</p><h2 id=\"history\" style=\"position:relative;\">History<a href=\"#history\" aria-label=\"history permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2><p>Sometime in the 1970s, the 12-year-old <a href=\"https://en.wikipedia.org/wiki/Kent_Beck\" target=\"_blank\" rel=\"noopener noreferrer\">Kent Beck</a> <a href=\"https://www.amazon.com/Test-Driven-Development-Kent-Beck/dp/0321146530\" target=\"_blank\" rel=\"noopener noreferrer\">[1]</a> was reading books that his father had brought home. One of the books said that this is how you write programs: <em>You take the input tape, look at its contents, and type manually the output tape that you expect to create. Then programming is the process of writing a program until the actual output tape matches the expected output tape.</em></p><p>Some things that should not have been forgotten were lost. And for two decades, the technique passed out of all knowledge. Until, when chance came, it was rediscovered.</p><p>Fast forward to 1990s. Kent Beck had followed in his father's footsteps and was now a software consultant. He had written the first unit testing framework in the xUnit family, SUnit for Smalltalk. It was then that Kent remembered the book he had read as a kid. <em>\"If I took this type-the-output-tape-first schema seriously, then I would write the test before I had the code.\"</em></p><p>He thought the idea was stupid, so he had to try it.</p><p>Kent tried it with a stack, and half an hour later he was hooked. All the anxieties he had felt while programming, which had been getting worse as experience accrued, just dropped away. <em>\"I'm not done until all the tests that I can imagine are all passing. But I don't have to make them all pass at once. I can just type one in and then make it work. And type the next one and make that work. Eventually... can I think of any other tests? No. I must be done.\"</em> He was completely relaxed.\n<a href=\"https://youtu.be/tM1iOJsR7p4?t=2080\" target=\"_blank\" rel=\"noopener noreferrer\">[2]</a>\n<a href=\"https://youtu.be/cGuTmOUdFbo?t=325\" target=\"_blank\" rel=\"noopener noreferrer\">[3]</a></p><h2 id=\"what-is-tdd\" style=\"position:relative;\">What is TDD<a href=\"#what-is-tdd\" aria-label=\"what is tdd permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2><p><a href=\"http://dx.doi.org/10.1109/TSE.2017.2776152\" target=\"_blank\" rel=\"noopener noreferrer\">A study from 2017</a> found that only 12% of developers who claimed to do TDD, did actually follow it.  Since there is such <a href=\"https://martinfowler.com/bliki/SemanticDiffusion.html\" target=\"_blank\" rel=\"noopener noreferrer\">semantic diffusion</a> about TDD, let's start with a definition:</p><h3 id=\"three-laws-of-tdd\" style=\"position:relative;\">Three laws of TDD<a href=\"#three-laws-of-tdd\" aria-label=\"three laws of tdd permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3><p>TDD can be described in terms of these three rules:</p><ol>\n<li>You shall not write any production code, unless required by a failing unit test.</li>\n<li>You shall not write more of a unit test, than is required to fail (assertion failure/program crash/compile error).</li>\n<li>You shall not write more production code, than is sufficient to make the one failing unit test pass.</li>\n</ol><recommended-reading><ul>\n<li><a href=\"http://www.butunclebob.com/ArticleS.UncleBob.TheThreeRulesOfTdd\" target=\"_blank\" rel=\"noopener noreferrer\">The Three Laws of TDD</a> - a definition of TDD</li>\n</ul></recommended-reading><h3 id=\"red-green-refactor\" style=\"position:relative;\">Red, Green, Refactor<a href=\"#red-green-refactor\" aria-label=\"red green refactor permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3><p>Another way to describe TDD is the following cycle of three phases. Every few minutes, in order:</p><ol>\n<li><strong>Red</strong>: Write a failing test. Predict (mentally or out loud) how the test should fail. Run the test. See it fail. If it failed in an unexpected way, check your assumptions. Improve the failure's readability.</li>\n<li><strong>Green</strong>: Make the test pass. ASAP. Commit any sins necessary. Hard-coded values. If statements. Fake it until you make it.</li>\n<li><strong>Refactor</strong>: Improve the design of the code, without changing its behavior. Atone for your sins. Remove duplication. Improve names. Minimal code which passes the current tests.</li>\n</ol><p>Repeat until there are no more tests to write or until bored.</p><p>If the current design makes it difficult to make a new test pass, consider commenting out the new test and refactoring first. \"Make the change easy (warning: this may be hard), then make the easy change.\" <a href=\"https://twitter.com/KentBeck/status/250733358307500032\" target=\"_blank\" rel=\"noopener noreferrer\">[1]</a></p><recommended-reading><ul>\n<li><a href=\"http://www.jamesshore.com/v2/blog/2005/red-green-refactor\" target=\"_blank\" rel=\"noopener noreferrer\">Red-Green-Refactor</a> - a definition of TDD</li>\n<li><a href=\"https://blog.cleancoder.com/uncle-bob/2014/12/17/TheCyclesOfTDD.html\" target=\"_blank\" rel=\"noopener noreferrer\">The Cycles of TDD</a> - the various iterative cycles of TDD, from the second-by-second up to the hour-by-hour scale</li>\n</ul></recommended-reading><h4 id=\"triangulation\" style=\"position:relative;\">Triangulation<a href=\"#triangulation\" aria-label=\"triangulation permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4><p>\"As the tests get more specific, the code gets more generic.\" <a href=\"https://thecleancoder.blogspot.com/2010/11/craftsman-63-specifics-and-generics.html\" target=\"_blank\" rel=\"noopener noreferrer\">[1]</a></p><p>In the <em>green</em> phase, it's important to not write any more code than is required to pass the test. This means at first using hard-coded return values and naive implementations. If we added behavior without first specifying it with a test, then we would be adding unspecified behavior.</p><p>It is called <em>triangulation</em> when we write tests to expose the deficiencies of still naive production code. By making those tests pass, the production code approaches a completely tested solution which will handle all edge cases.</p><recommended-reading><ul>\n<li><a href=\"https://codingitwrong.com/2020/12/23/why-write-the-minimum-code-to-pass-the-test.html\" target=\"_blank\" rel=\"noopener noreferrer\">Why Write the Minimum Code to Pass the Test?</a> - on the importance of implementing features in small iterative steps</li>\n<li><a href=\"https://www.tddfellow.com/blog/2016/08/31/getting-stuck-while-doing-tdd-part-3-triangulation-to-the-rescue/\" target=\"_blank\" rel=\"noopener noreferrer\">Getting Stuck While Doing TDD. Part 3: Triangulation to the Rescue!</a> - what is triangulation and an example of doing it</li>\n<li><a href=\"http://blog.wingman-sw.com/tdd-guided-by-zombies\" target=\"_blank\" rel=\"noopener noreferrer\">TDD Guided by ZOMBIES</a> - an acronym about in which order to implement things and what to consider</li>\n</ul></recommended-reading><h4 id=\"test-list\" style=\"position:relative;\">Test list<a href=\"#test-list\" aria-label=\"test list permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4><p>To stay focused on the current test and phase, it's helpful to maintain a <a href=\"https://twitter.com/ursenzler/status/1433096612088356866/photo/2\" target=\"_blank\" rel=\"noopener noreferrer\">test list</a> (on paper, a text file or as TODO comments in tests).</p><p>Whenever you come up with an idea for a new test (e.g. a new feature or an edge case that needs to be covered), add it to your test list. Likewise for things that need refactoring. Then when you are done with the current feature, you can go through the list and handle them.</p><h2 id=\"what-it-looks-like\" style=\"position:relative;\">What it looks like<a href=\"#what-it-looks-like\" aria-label=\"what it looks like permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2><p>In the following video, <a href=\"https://twitter.com/otaviolemos\" target=\"_blank\" rel=\"noopener noreferrer\">Otavio Lemos</a> demonstrates TDD using the <a href=\"https://kata-log.rocks/bowling-game-kata\" target=\"_blank\" rel=\"noopener noreferrer\">Bowling Game Kata</a>. Some points to pay attention to:</p><ul>\n<li>No more code is added than is required to pass the tests. At first the implementation is trivial.</li>\n<li>The code is refactored early and often.</li>\n<li>If the current design makes passing the next test hard, the test is commented out and the code is first refactored toward a better design.</li>\n<li>As more tests are added to cover specific edge cases, the code grows toward a generic algorithm which handles them all.</li>\n</ul><iframe style=\"width: 100%; aspect-ratio: 560/315;\"  src=\"https://www.youtube-nocookie.com/embed/1o_EbACQpQ8\" title=\"Bowling Kata in TypeScript - YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe><h2 id=\"direct-and-indirect-effects-of-tdd\" style=\"position:relative;\">Direct and indirect effects of TDD<a href=\"#direct-and-indirect-effects-of-tdd\" aria-label=\"direct and indirect effects of tdd permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2><p><em>Direct effects</em>, if just following the three laws of TDD:</p><ul>\n<li>Guarantees code coverage</li>\n<li>Amplifies the pain caused by bad code</li>\n</ul><p><em>Indirect effects</em>, if the programmer is skilled enough:</p><ul>\n<li>Enables changing the code without breaking it</li>\n<li>Improves the quality of the code</li>\n</ul><recommended-reading><ul>\n<li><a href=\"http://blog.orfjackal.net/2010/04/direct-and-indirect-effects-of-tdd.html\" target=\"_blank\" rel=\"noopener noreferrer\">Direct and Indirect Effects of TDD</a> - how TDD works as a <em>design feedback mechanism</em> and why pain is good</li>\n</ul></recommended-reading><h2 id=\"what-tests-to-write\" style=\"position:relative;\">What tests to write?<a href=\"#what-tests-to-write\" aria-label=\"what tests to write permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2><p>Ask yourself: What is the next most important thing, which the system <em>does not</em> yet do? <a href=\"https://dannorth.net/introducing-bdd/\" target=\"_blank\" rel=\"noopener noreferrer\">[1]</a></p><p>Stop thinking about <em>HOW your software works</em>. Instead, specify <em>WHAT your software does</em> from the point of view of its user. <a href=\"https://www.youtube.com/watch?v=gXh0iUt4TXA&#x26;t=380s\" target=\"_blank\" rel=\"noopener noreferrer\">[2]</a></p><p>When writing the first test, it helps to start small and simplify the problem: Where to start writing a sudoku solver? Solving a 1Ã—1 sudoku. <a href=\"https://www.infoq.com/presentations/responsive-design/\" target=\"_blank\" rel=\"noopener noreferrer\">[3]</a></p><h3 id=\"test-names-should-be-sentences\" style=\"position:relative;\">Test names should be sentences<a href=\"#test-names-should-be-sentences\" aria-label=\"test names should be sentences permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3><p>The test names should be sentences which describe what the system should do - its behavior. Think of them as a specification of what your software does.</p><p>Thought exercise: All production and test code has disappeared. The only thing remaining is the test names. Can someone reimplement the system, so that it will do pretty much the same things as before?</p><p>Corollary: All test names have disappeared. Can someone read the test code and understand what behavior it is specifying, so that they can write a test name which says pretty much the same as it said before?</p><p>When a test fails, look at the name of the test - the behavior that it defines. There are three possibilities:</p><ul>\n<li>The system has a bug. Fix the implementation.</li>\n<li>The behavior is still needed, but the test needs updating. Change the test. Think of how to decouple the test from unrelated behaviors, to have fewer unwanted test failures.</li>\n<li>The behavior is no more needed. Delete the test.</li>\n</ul><recommended-reading><ul>\n<li><a href=\"https://dannorth.net/introducing-bdd/\" target=\"_blank\" rel=\"noopener noreferrer\">Introducing BDD</a> - the original article about Behavior-Driven Development; on naming tests and how replacing the word <em>test</em> with <em>behavior</em> or <em>specification</em> might help in learning what is <em>TDD done well</em></li>\n<li><a href=\"https://www.youtube.com/watch?v=gXh0iUt4TXA\" target=\"_blank\" rel=\"noopener noreferrer\">An Ultimate Guide To BDD</a></li>\n</ul></recommended-reading><h2 id=\"is-tdd-testing\" style=\"position:relative;\">Is TDD testing?<a href=\"#is-tdd-testing\" aria-label=\"is tdd testing permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2><p>The tests written as part of TDD do help ensure a level of <em>basic correctness</em> in the software, but it's still a <em>development</em> technique - that's what the last D in TDD stands for. The role of the tests in TDD is to support building the software, whereas the role of tests in software testing is to break the software. Think of scaffolding instead of a wrecking ball.</p><p>TDD's tests can be thought of as a specification of the system's behavior, or as small examples of how the code works. In the software development life cycle, the TDD mindset focuses more on requirements and design than on verification, though the verification side is also important to support refactoring and adding new features.</p><p><figure class=\"gatsby-resp-image-figure\" style=\"margin-bottom: 1rem;\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 920px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e6271d2d78d7a34d61af498816395c1a/b17f8/tdd-vs-testing.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.60869565217391%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAUBAwT/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABvWM5MowI/8QAHRAAAgIBBQAAAAAAAAAAAAAAAgMABAEREhQiI//aAAgBAQABBQJljUWP98dscYYVNcCoG3//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAaEAADAAMBAAAAAAAAAAAAAAAAATECEkFC/9oACAEBAAY/Ap0b8my6Vipcj//EABsQAAMAAgMAAAAAAAAAAAAAAAABESFBMZHB/9oACAEBAAE/IVMSrwJctfRKkRaDLjqsciCTuP/aAAwDAQACAAMAAAAQQz//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREx/9oACAEDAQE/EFFhT//EABYRAQEBAAAAAAAAAAAAAAAAAAARMf/aAAgBAgEBPxDUf//EABwQAQEAAgIDAAAAAAAAAAAAAAERANEhQTGBsf/aAAgBAQABPxAaoCkeIafMBQRVnKpvF5YYXWRxb2axlTMtFyEAeo1n/9k='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/e6271d2d78d7a34d61af498816395c1a/a0b58/tdd-vs-testing.webp 230w,\n/static/e6271d2d78d7a34d61af498816395c1a/bc10c/tdd-vs-testing.webp 460w,\n/static/e6271d2d78d7a34d61af498816395c1a/966d8/tdd-vs-testing.webp 920w,\n/static/e6271d2d78d7a34d61af498816395c1a/445df/tdd-vs-testing.webp 1380w,\n/static/e6271d2d78d7a34d61af498816395c1a/fad48/tdd-vs-testing.webp 1600w\"\n              sizes=\"(max-width: 920px) 100vw, 920px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/e6271d2d78d7a34d61af498816395c1a/e83b4/tdd-vs-testing.jpg 230w,\n/static/e6271d2d78d7a34d61af498816395c1a/e41a8/tdd-vs-testing.jpg 460w,\n/static/e6271d2d78d7a34d61af498816395c1a/4d836/tdd-vs-testing.jpg 920w,\n/static/e6271d2d78d7a34d61af498816395c1a/89b2d/tdd-vs-testing.jpg 1380w,\n/static/e6271d2d78d7a34d61af498816395c1a/b17f8/tdd-vs-testing.jpg 1600w\"\n            sizes=\"(max-width: 920px) 100vw, 920px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/e6271d2d78d7a34d61af498816395c1a/4d836/tdd-vs-testing.jpg\"\n            alt=\"Photos of scaffolding around a building and a wrecking ball destroying a brick wall.\"\n            title=\"Photo credits: [Niklas Hamann](https://unsplash.com/photos/jAj0pjdzvic), [Rhys Asplundh](https://www.flickr.com/photos/rhysasplundh/5202454842)\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>Photo credits: <a href=\"https://unsplash.com/photos/jAj0pjdzvic\" target=\"_blank\" rel=\"noopener noreferrer\">Niklas Hamann</a>, <a href=\"https://www.flickr.com/photos/rhysasplundh/5202454842\" target=\"_blank\" rel=\"noopener noreferrer\">Rhys Asplundh</a></p></figcaption>\n  </figure></p><recommended-reading><ul>\n<li><a href=\"https://blog.thecodewhisperer.com/permalink/interlude-basic-correctness\" target=\"_blank\" rel=\"noopener noreferrer\">Interlude: Basic Correctness</a> - discussion between a TDD and a software testing expert</li>\n</ul></recommended-reading><hr><p>Proceed to <a href=\"/2-design\">Chapter 2: Refactoring and design</a> or <a href=\"/exercises\">Exercises</a></p></div>","frontmatter":{"path":"/1-tdd","title":"Chapter 1: What is TDD","banner":null},"fileAbsolutePath":"/Users/esko/devel/tdd-mooc/data/1-tdd.md"}},"pageContext":{}},"staticQueryHashes":["3294351120","994120085"]}