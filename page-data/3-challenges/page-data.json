{"componentChunkName":"component---src-templates-info-page-template-js","path":"/3-challenges","result":{"data":{"page":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{"id":"the-untestables","style":"position:relative;"},"children":[{"type":"text","value":"The Untestables"},{"type":"element","tagName":"a","properties":{"href":"#the-untestables","ariaLabel":"the untestables permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are things which make testing more challenging. Many of them are global variables of sorts. Global variables cause spooky action at a distance. Do the same thing over and over again, and get a different result. Tests may randomly pass or fail, depending on the order in which they are run."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"singletons","style":"position:relative;"},"children":[{"type":"text","value":"Singletons"},{"type":"element","tagName":"a","properties":{"href":"#singletons","ariaLabel":"singletons permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://en.wikipedia.org/wiki/Singleton_pattern","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Singleton"}]},{"type":"text","value":" is an anti-pattern. It is the object-oriented equivalent of a global variable. Instead, "},{"type":"element","tagName":"a","properties":{"href":"http://www.butunclebob.com/ArticleS.UncleBob.SingletonVsJustCreateOne","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"just create one"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"test-doubles","style":"position:relative;"},"children":[{"type":"text","value":"Test doubles"},{"type":"element","tagName":"a","properties":{"href":"#test-doubles","ariaLabel":"test doubles permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the SUT (system under test) is not a pure function and it's hard to test together with the real objects, its dependencies can be replaced with "},{"type":"element","tagName":"a","properties":{"href":"https://martinfowler.com/bliki/TestDouble.html","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"test doubles"}]},{"type":"text","value":". The dependencies can be provided as method or constructor arguments (aka dependency injection)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are five main categories of test doubles:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Dummy"}]},{"type":"text","value":" is a placeholder to make the code compile, but doesn't affect the SUT."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Stub"}]},{"type":"text","value":" returns data to the SUT e.g. using hard-coded method return values."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Spy"}]},{"type":"text","value":" records how the SUT calls the spy, so that the test can afterwards assert on the recorded data."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Mock"}]},{"type":"text","value":" contains pre-recorded expectations on how the SUT should call it, and will itself automatically verify the expectations. Requires a mocking framework."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Fake"}]},{"type":"text","value":" is a simplified implementation of a dependency, not appropriate for production use, e.g. persistence layer based on a hashmap."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Only mock types you own."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Read more:\n"},{"type":"element","tagName":"a","properties":{"href":"http://xunitpatterns.com/Test%20Double.html","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"http://xunitpatterns.com/Test%20Double.html"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"a","properties":{"href":"https://jesusvalerareales.medium.com/testing-with-test-doubles-7c3abb9eb3f2","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://jesusvalerareales.medium.com/testing-with-test-doubles-7c3abb9eb3f2"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"a","properties":{"href":"https://medium.com/@xpmatteo/how-i-learned-to-love-mocks-1-fb341b71328","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://medium.com/@xpmatteo/how-i-learned-to-love-mocks-1-fb341b71328"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"a","properties":{"href":"http://www.mockobjects.com/2009/09/brief-history-of-mock-objects.html","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"http://www.mockobjects.com/2009/09/brief-history-of-mock-objects.html"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"file-system","style":"position:relative;"},"children":[{"type":"text","value":"File system"},{"type":"element","tagName":"a","properties":{"href":"#file-system","ariaLabel":"file system permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The file system is a global variable which persists between test executions."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If a test needs to write to the disk, create a unique temporary directory on test setup and delete it recursively on teardown."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the test process is killed or there are file locks, the teardown may not be able to delete the temporary directory. Avoid using "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/tmp"}]},{"type":"text","value":" and instead place the temporary directory inside the project directory, under the build target directory, so that any stale directories will be removed on a clean build."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"database","style":"position:relative;"},"children":[{"type":"text","value":"Database"},{"type":"element","tagName":"a","properties":{"href":"#database","ariaLabel":"database permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The database is a global variable which persists between test executions."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Make it easy to run the tests locally. "},{"type":"element","tagName":"a","properties":{"href":"https://docs.docker.com/compose/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Docker Compose"}]},{"type":"text","value":" is simple and easy. For cloud-only databases, using a development instance in the cloud is necessary."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Usually tests create the database schema on test setup, and remove it on teardown. Another style is to remove and recreate the schema on test setup, which makes it the responsibility of the next test to clean up what the previous test produced. Clean-before allows peeking the data after a test run, but you would still need to focus run a single test, so commenting out the teardown or using a sleep gives the same effect with the clean-after approach. Mom always told to clean up after yourself."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In focused integration tests, it may be possible to run each test in a rollback-only transaction. This should make tests faster by avoiding the need to recreate the database schema for each test. If more than one thread is involved or the SUT is complex, this strategy is usually not possible."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tests may create their own test data, or there may be a shared set of test data in the database. The former makes tests more understandable and decoupled from each other. The latter can be used for also testing database migrations."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The test schema name may be hard-coded or unique. Unique names for each test make it possible to run tests in parallel. If the test process is killed, test teardown is never executed, so the tests should automatically remove stale test schemas (especially if using a shared long-running database instead of a local container/VM), or you will learn the database's soft and hard limits."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Never run tests against a production database."}]},{"type":"text","value":" One safeguard is for the tests to only connect to a database whose name starts with \"test\"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Database tests can be made faster by "},{"type":"element","tagName":"a","properties":{"href":"https://pythonspeed.com/articles/faster-db-tests/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"disabling fsync or using a RAM disk"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"dead-ends","style":"position:relative;"},"children":[{"type":"text","value":"Dead ends"},{"type":"element","tagName":"a","properties":{"href":"#dead-ends","ariaLabel":"dead ends permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"could"}]},{"type":"text","value":" replace the database with an in-memory fake implementation for tests (e.g. hashmap). It will make the tests faster, but will require maintaining two parallel implementations - the real and the fake persistence layer. Even when using "},{"type":"element","tagName":"a","properties":{"href":"https://blog.thecodewhisperer.com/permalink/getting-started-with-contract-tests","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"contract tests"}]},{"type":"text","value":" to make the implementations functionally equivalent, they will be leaky abstractions with non-obvious differences (transactions, foreign key contraints etc.). It's better to decouple business logic from persistence: you won't need to fake dependencies if you have no dependencies ("},{"type":"element","tagName":"a","properties":{"href":"https://knowyourmeme.com/memes/roll-safe","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"insert meme here"}]},{"type":"text","value":")."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Some people use an embedded in-memory database in tests and a different database in production, for example HSQLDB vs PostgreSQL. This is a road to madness. Even if SQL is a standard, each implementation is different ("},{"type":"element","tagName":"a","properties":{"href":"https://xkcd.com/927/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"insert meme here"}]},{"type":"text","value":"), so you will anyways need to run the tests against both databases. It might avoid having to install a database and the data will be removed after the test process exits, but nowadays "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"docker compose up -d db"}]},{"type":"text","value":" is easy and even with an in-memory database you will need to handle isolation between test cases. Speed is not an argument either; a PostgreSQL which is already running is faster than a HSQLDB that needs to start every test run, not to speak of runtime performance. Most importantly, you would be limited to a subset of SQL that works on both databases, or you will need to maintain alternative versions of the queries; you would miss out on useful database-specific features such as "},{"type":"element","tagName":"a","properties":{"href":"https://www.postgresql.org/docs/13/plpgsql-trigger.html","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"triggers/stored procedures"}]},{"type":"text","value":" and "},{"type":"element","tagName":"a","properties":{"href":"https://medium.com/pyankit/postgres-range-types-are-dope-ca18923f3d46","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"range types"}]},{"type":"text","value":". Summa summarum, use the same technology in tests as in production."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I just saved you 5-10 years of experimenting."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"network-sockets","style":"position:relative;"},"children":[{"type":"text","value":"Network sockets"},{"type":"element","tagName":"a","properties":{"href":"#network-sockets","ariaLabel":"network sockets permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Network socket port numbers are a global variable at the operating system level."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If using a shared "},{"type":"element","tagName":"a","properties":{"href":"https://martinfowler.com/articles/continuousIntegration.html","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"continuous integration"}]},{"type":"text","value":" server, there can be many builds running on the same machine and they compete for the same port numbers. Even when running tests locally, you will typically have an application instance for manual testing running at the same time as the automated tests. The local development instance may use hard-coded ports, but the tests should allocate a random free port for the database and web server."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Most servers you can bind to listen on port 0 and the operating system will assign it an unused port number. After the server has started, you can find out what port was assigned to it and use that in the tests. "},{"type":"element","tagName":"a","properties":{"href":"https://docs.docker.com/compose/reference/port/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"docker compose port"}]}]},{"type":"text","value":" is handy for that. The other approach is to programmatically bind a socket to port 0, check what port number was assigned, close the socket, and then use that port number for starting the actual server - a port collision should be unlikely."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"P.S. Docker by default binds to network interface 0.0.0.0 and it "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/moby/moby/issues/22054","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"bypasses the firewall"}]},{"type":"text","value":", so your development servers will be "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"publicly accessible even if your firewall is configured to block all incoming connections"}]},{"type":"text","value":". Always bind explicitly to 127.0.0.1 when publishing container ports to the host."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"time","style":"position:relative;"},"children":[{"type":"text","value":"Time"},{"type":"element","tagName":"a","properties":{"href":"#time","ariaLabel":"time permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Time is a global variable which is ever changing (hopefully monotonically increasing)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"TODO"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"concurrency","style":"position:relative;"},"children":[{"type":"text","value":"Concurrency"},{"type":"element","tagName":"a","properties":{"href":"#concurrency","ariaLabel":"concurrency permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The order of memory reads and writes between parallel threads, and the operating system's context switching, are unpredictable global variables."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"TODO: latches, no sleeps, inspect ruthlessly"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"user-interface","style":"position:relative;"},"children":[{"type":"text","value":"User interface"},{"type":"element","tagName":"a","properties":{"href":"#user-interface","ariaLabel":"user interface permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"TODO"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"legacy-code","style":"position:relative;"},"children":[{"type":"text","value":"Legacy code"},{"type":"element","tagName":"a","properties":{"href":"#legacy-code","ariaLabel":"legacy code permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"TODO"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"fixing-bugs-test-first","style":"position:relative;"},"children":[{"type":"text","value":"Fixing bugs test-first"},{"type":"element","tagName":"a","properties":{"href":"#fixing-bugs-test-first","ariaLabel":"fixing bugs test first permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"TODO"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"seams","style":"position:relative;"},"children":[{"type":"text","value":"Seams"},{"type":"element","tagName":"a","properties":{"href":"#seams","ariaLabel":"seams permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"TODO"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"code-coverage","style":"position:relative;"},"children":[{"type":"text","value":"Code coverage"},{"type":"element","tagName":"a","properties":{"href":"#code-coverage","ariaLabel":"code coverage permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"TODO"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"golden-mastersnapshotapprovalcharacterization-testing","style":"position:relative;"},"children":[{"type":"text","value":"Golden master/Snapshot/Approval/Characterization testing"},{"type":"element","tagName":"a","properties":{"href":"#golden-mastersnapshotapprovalcharacterization-testing","ariaLabel":"golden mastersnapshotapprovalcharacterization testing permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"TODO"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"walking-skeleton","style":"position:relative;"},"children":[{"type":"text","value":"Walking skeleton"},{"type":"element","tagName":"a","properties":{"href":"#walking-skeleton","ariaLabel":"walking skeleton permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"TODO"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Read more:\n"},{"type":"element","tagName":"a","properties":{"href":"https://www.henricodolfing.com/2018/04/start-your-project-with-walking-skeleton.html","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://www.henricodolfing.com/2018/04/start-your-project-with-walking-skeleton.html"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"continuous-delivery","style":"position:relative;"},"children":[{"type":"text","value":"Continuous delivery"},{"type":"element","tagName":"a","properties":{"href":"#continuous-delivery","ariaLabel":"continuous delivery permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"TODO"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{"id":"exercise-3-testing-legacy-code","style":"position:relative;"},"children":[{"type":"text","value":"Exercise 3: Testing legacy code"},{"type":"element","tagName":"a","properties":{"href":"#exercise-3-testing-legacy-code","ariaLabel":"exercise 3 testing legacy code permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Clone the project "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/emilybache/GildedRose-Refactoring-Kata","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://github.com/emilybache/GildedRose-Refactoring-Kata"}]},{"type":"text","value":". Take one of the JavaScript editions of that project and configure it to use the "},{"type":"element","tagName":"a","properties":{"href":"https://stryker-mutator.io/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Stryker mutation testing framework"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The assignment is to "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"write tests for the above code, until it has 100% mutation test coverage."}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"TODO: simplify the project, preconfigure stryker"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Course artifact:"}]},{"type":"text","value":" Git repository with the source code and history of you doing this exercise. Also include a file with the mutation test results."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{"id":"exercise-4-full-stack-web-app","style":"position:relative;"},"children":[{"type":"text","value":"Exercise 4: Full-stack web app"},{"type":"element","tagName":"a","properties":{"href":"#exercise-4-full-stack-web-app","ariaLabel":"exercise 4 full stack web app permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The assignment is to "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"write a To-Do List app using TDD."}]},{"type":"text","value":" It needs to have a web user interface, an API backend and a database."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Only a few basic features are needed: adding to-do items, renaming to-do items, marking to-to items completed. A to-do list doesn't have much business logic, so write at least comprehensive validation rules. Authentication is not needed."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Start the app's development using the "},{"type":"element","tagName":"a","properties":{"href":"#walking-skeleton"},"children":[{"type":"text","value":"walking skeleton"}]},{"type":"text","value":" approach. Focus on writing tests on every level of the stack:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"unit tests to cover as much of the code as is possible to unit test"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"also unit test the user interface components (visual testing is optional)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"focused integration tests for the database and API layers"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"one (1) end-to-end test against a fully deployed application (e.g. Docker containers running locally) to make sure that things are connected correctly (start with this - see "},{"type":"element","tagName":"a","properties":{"href":"#walking-skeleton"},"children":[{"type":"text","value":"walking skeleton"}]},{"type":"text","value":")"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"TODO: project template, some example tests, docker-compose.yaml"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Course artifact:"}]},{"type":"text","value":" Git repository with the source code and history of you doing this exercise."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Proceed to "},{"type":"element","tagName":"a","properties":{"href":"/4-afterword"},"children":[{"type":"text","value":"Part 4: To infinity and beyond"}]}]}],"data":{"quirksMode":false}},"html":"<h2 id=\"the-untestables\" style=\"position:relative;\">The Untestables<a href=\"#the-untestables\" aria-label=\"the untestables permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>There are things which make testing more challenging. Many of them are global variables of sorts. Global variables cause spooky action at a distance. Do the same thing over and over again, and get a different result. Tests may randomly pass or fail, depending on the order in which they are run.</p>\n<h3 id=\"singletons\" style=\"position:relative;\">Singletons<a href=\"#singletons\" aria-label=\"singletons permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><a href=\"https://en.wikipedia.org/wiki/Singleton_pattern\" target=\"_blank\" rel=\"noopener noreferrer\">Singleton</a> is an anti-pattern. It is the object-oriented equivalent of a global variable. Instead, <a href=\"http://www.butunclebob.com/ArticleS.UncleBob.SingletonVsJustCreateOne\" target=\"_blank\" rel=\"noopener noreferrer\">just create one</a>.</p>\n<h3 id=\"test-doubles\" style=\"position:relative;\">Test doubles<a href=\"#test-doubles\" aria-label=\"test doubles permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>If the SUT (system under test) is not a pure function and it's hard to test together with the real objects, its dependencies can be replaced with <a href=\"https://martinfowler.com/bliki/TestDouble.html\" target=\"_blank\" rel=\"noopener noreferrer\">test doubles</a>. The dependencies can be provided as method or constructor arguments (aka dependency injection).</p>\n<p>There are five main categories of test doubles:</p>\n<ul>\n<li><strong>Dummy</strong> is a placeholder to make the code compile, but doesn't affect the SUT.</li>\n<li><strong>Stub</strong> returns data to the SUT e.g. using hard-coded method return values.</li>\n<li><strong>Spy</strong> records how the SUT calls the spy, so that the test can afterwards assert on the recorded data.</li>\n<li><strong>Mock</strong> contains pre-recorded expectations on how the SUT should call it, and will itself automatically verify the expectations. Requires a mocking framework.</li>\n<li><strong>Fake</strong> is a simplified implementation of a dependency, not appropriate for production use, e.g. persistence layer based on a hashmap.</li>\n</ul>\n<p>Only mock types you own.</p>\n<p>Read more:\n<a href=\"http://xunitpatterns.com/Test%20Double.html\" target=\"_blank\" rel=\"noopener noreferrer\">http://xunitpatterns.com/Test%20Double.html</a>\n<a href=\"https://jesusvalerareales.medium.com/testing-with-test-doubles-7c3abb9eb3f2\" target=\"_blank\" rel=\"noopener noreferrer\">https://jesusvalerareales.medium.com/testing-with-test-doubles-7c3abb9eb3f2</a>\n<a href=\"https://medium.com/@xpmatteo/how-i-learned-to-love-mocks-1-fb341b71328\" target=\"_blank\" rel=\"noopener noreferrer\">https://medium.com/@xpmatteo/how-i-learned-to-love-mocks-1-fb341b71328</a>\n<a href=\"http://www.mockobjects.com/2009/09/brief-history-of-mock-objects.html\" target=\"_blank\" rel=\"noopener noreferrer\">http://www.mockobjects.com/2009/09/brief-history-of-mock-objects.html</a></p>\n<h3 id=\"file-system\" style=\"position:relative;\">File system<a href=\"#file-system\" aria-label=\"file system permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The file system is a global variable which persists between test executions.</p>\n<p>If a test needs to write to the disk, create a unique temporary directory on test setup and delete it recursively on teardown.</p>\n<p>If the test process is killed or there are file locks, the teardown may not be able to delete the temporary directory. Avoid using <code class=\"language-text\">/tmp</code> and instead place the temporary directory inside the project directory, under the build target directory, so that any stale directories will be removed on a clean build.</p>\n<h3 id=\"database\" style=\"position:relative;\">Database<a href=\"#database\" aria-label=\"database permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The database is a global variable which persists between test executions.</p>\n<p>Make it easy to run the tests locally. <a href=\"https://docs.docker.com/compose/\" target=\"_blank\" rel=\"noopener noreferrer\">Docker Compose</a> is simple and easy. For cloud-only databases, using a development instance in the cloud is necessary.</p>\n<p>Usually tests create the database schema on test setup, and remove it on teardown. Another style is to remove and recreate the schema on test setup, which makes it the responsibility of the next test to clean up what the previous test produced. Clean-before allows peeking the data after a test run, but you would still need to focus run a single test, so commenting out the teardown or using a sleep gives the same effect with the clean-after approach. Mom always told to clean up after yourself.</p>\n<p>In focused integration tests, it may be possible to run each test in a rollback-only transaction. This should make tests faster by avoiding the need to recreate the database schema for each test. If more than one thread is involved or the SUT is complex, this strategy is usually not possible.</p>\n<p>Tests may create their own test data, or there may be a shared set of test data in the database. The former makes tests more understandable and decoupled from each other. The latter can be used for also testing database migrations.</p>\n<p>The test schema name may be hard-coded or unique. Unique names for each test make it possible to run tests in parallel. If the test process is killed, test teardown is never executed, so the tests should automatically remove stale test schemas (especially if using a shared long-running database instead of a local container/VM), or you will learn the database's soft and hard limits.</p>\n<p><em>Never run tests against a production database.</em> One safeguard is for the tests to only connect to a database whose name starts with \"test\".</p>\n<p>Database tests can be made faster by <a href=\"https://pythonspeed.com/articles/faster-db-tests/\" target=\"_blank\" rel=\"noopener noreferrer\">disabling fsync or using a RAM disk</a>.</p>\n<h4 id=\"dead-ends\" style=\"position:relative;\">Dead ends<a href=\"#dead-ends\" aria-label=\"dead ends permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>You <em>could</em> replace the database with an in-memory fake implementation for tests (e.g. hashmap). It will make the tests faster, but will require maintaining two parallel implementations - the real and the fake persistence layer. Even when using <a href=\"https://blog.thecodewhisperer.com/permalink/getting-started-with-contract-tests\" target=\"_blank\" rel=\"noopener noreferrer\">contract tests</a> to make the implementations functionally equivalent, they will be leaky abstractions with non-obvious differences (transactions, foreign key contraints etc.). It's better to decouple business logic from persistence: you won't need to fake dependencies if you have no dependencies (<a href=\"https://knowyourmeme.com/memes/roll-safe\" target=\"_blank\" rel=\"noopener noreferrer\">insert meme here</a>).</p>\n<p>Some people use an embedded in-memory database in tests and a different database in production, for example HSQLDB vs PostgreSQL. This is a road to madness. Even if SQL is a standard, each implementation is different (<a href=\"https://xkcd.com/927/\" target=\"_blank\" rel=\"noopener noreferrer\">insert meme here</a>), so you will anyways need to run the tests against both databases. It might avoid having to install a database and the data will be removed after the test process exits, but nowadays <code class=\"language-text\">docker compose up -d db</code> is easy and even with an in-memory database you will need to handle isolation between test cases. Speed is not an argument either; a PostgreSQL which is already running is faster than a HSQLDB that needs to start every test run, not to speak of runtime performance. Most importantly, you would be limited to a subset of SQL that works on both databases, or you will need to maintain alternative versions of the queries; you would miss out on useful database-specific features such as <a href=\"https://www.postgresql.org/docs/13/plpgsql-trigger.html\" target=\"_blank\" rel=\"noopener noreferrer\">triggers/stored procedures</a> and <a href=\"https://medium.com/pyankit/postgres-range-types-are-dope-ca18923f3d46\" target=\"_blank\" rel=\"noopener noreferrer\">range types</a>. Summa summarum, use the same technology in tests as in production.</p>\n<p>I just saved you 5-10 years of experimenting.</p>\n<h3 id=\"network-sockets\" style=\"position:relative;\">Network sockets<a href=\"#network-sockets\" aria-label=\"network sockets permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Network socket port numbers are a global variable at the operating system level.</p>\n<p>If using a shared <a href=\"https://martinfowler.com/articles/continuousIntegration.html\" target=\"_blank\" rel=\"noopener noreferrer\">continuous integration</a> server, there can be many builds running on the same machine and they compete for the same port numbers. Even when running tests locally, you will typically have an application instance for manual testing running at the same time as the automated tests. The local development instance may use hard-coded ports, but the tests should allocate a random free port for the database and web server.</p>\n<p>Most servers you can bind to listen on port 0 and the operating system will assign it an unused port number. After the server has started, you can find out what port was assigned to it and use that in the tests. <a href=\"https://docs.docker.com/compose/reference/port/\" target=\"_blank\" rel=\"noopener noreferrer\"><code class=\"language-text\">docker compose port</code></a> is handy for that. The other approach is to programmatically bind a socket to port 0, check what port number was assigned, close the socket, and then use that port number for starting the actual server - a port collision should be unlikely.</p>\n<p>P.S. Docker by default binds to network interface 0.0.0.0 and it <a href=\"https://github.com/moby/moby/issues/22054\" target=\"_blank\" rel=\"noopener noreferrer\">bypasses the firewall</a>, so your development servers will be <em>publicly accessible even if your firewall is configured to block all incoming connections</em>. Always bind explicitly to 127.0.0.1 when publishing container ports to the host.</p>\n<h3 id=\"time\" style=\"position:relative;\">Time<a href=\"#time\" aria-label=\"time permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Time is a global variable which is ever changing (hopefully monotonically increasing).</p>\n<p>TODO</p>\n<h3 id=\"concurrency\" style=\"position:relative;\">Concurrency<a href=\"#concurrency\" aria-label=\"concurrency permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The order of memory reads and writes between parallel threads, and the operating system's context switching, are unpredictable global variables.</p>\n<p>TODO: latches, no sleeps, inspect ruthlessly</p>\n<h3 id=\"user-interface\" style=\"position:relative;\">User interface<a href=\"#user-interface\" aria-label=\"user interface permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>TODO</p>\n<h2 id=\"legacy-code\" style=\"position:relative;\">Legacy code<a href=\"#legacy-code\" aria-label=\"legacy code permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>TODO</p>\n<h3 id=\"fixing-bugs-test-first\" style=\"position:relative;\">Fixing bugs test-first<a href=\"#fixing-bugs-test-first\" aria-label=\"fixing bugs test first permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>TODO</p>\n<h3 id=\"seams\" style=\"position:relative;\">Seams<a href=\"#seams\" aria-label=\"seams permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>TODO</p>\n<h3 id=\"code-coverage\" style=\"position:relative;\">Code coverage<a href=\"#code-coverage\" aria-label=\"code coverage permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>TODO</p>\n<h3 id=\"golden-mastersnapshotapprovalcharacterization-testing\" style=\"position:relative;\">Golden master/Snapshot/Approval/Characterization testing<a href=\"#golden-mastersnapshotapprovalcharacterization-testing\" aria-label=\"golden mastersnapshotapprovalcharacterization testing permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>TODO</p>\n<h2 id=\"walking-skeleton\" style=\"position:relative;\">Walking skeleton<a href=\"#walking-skeleton\" aria-label=\"walking skeleton permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>TODO</p>\n<p>Read more:\n<a href=\"https://www.henricodolfing.com/2018/04/start-your-project-with-walking-skeleton.html\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.henricodolfing.com/2018/04/start-your-project-with-walking-skeleton.html</a></p>\n<h2 id=\"continuous-delivery\" style=\"position:relative;\">Continuous delivery<a href=\"#continuous-delivery\" aria-label=\"continuous delivery permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>TODO</p>\n<h1 id=\"exercise-3-testing-legacy-code\" style=\"position:relative;\">Exercise 3: Testing legacy code<a href=\"#exercise-3-testing-legacy-code\" aria-label=\"exercise 3 testing legacy code permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<p>Clone the project <a href=\"https://github.com/emilybache/GildedRose-Refactoring-Kata\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/emilybache/GildedRose-Refactoring-Kata</a>. Take one of the JavaScript editions of that project and configure it to use the <a href=\"https://stryker-mutator.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Stryker mutation testing framework</a>.</p>\n<p>The assignment is to <em>write tests for the above code, until it has 100% mutation test coverage.</em></p>\n<p>TODO: simplify the project, preconfigure stryker</p>\n<p><strong>Course artifact:</strong> Git repository with the source code and history of you doing this exercise. Also include a file with the mutation test results.</p>\n<h1 id=\"exercise-4-full-stack-web-app\" style=\"position:relative;\">Exercise 4: Full-stack web app<a href=\"#exercise-4-full-stack-web-app\" aria-label=\"exercise 4 full stack web app permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<p>The assignment is to <em>write a To-Do List app using TDD.</em> It needs to have a web user interface, an API backend and a database.</p>\n<p>Only a few basic features are needed: adding to-do items, renaming to-do items, marking to-to items completed. A to-do list doesn't have much business logic, so write at least comprehensive validation rules. Authentication is not needed.</p>\n<p>Start the app's development using the <a href=\"#walking-skeleton\">walking skeleton</a> approach. Focus on writing tests on every level of the stack:</p>\n<ul>\n<li>unit tests to cover as much of the code as is possible to unit test</li>\n<li>also unit test the user interface components (visual testing is optional)</li>\n<li>focused integration tests for the database and API layers</li>\n<li>one (1) end-to-end test against a fully deployed application (e.g. Docker containers running locally) to make sure that things are connected correctly (start with this - see <a href=\"#walking-skeleton\">walking skeleton</a>)</li>\n</ul>\n<p>TODO: project template, some example tests, docker-compose.yaml</p>\n<p><strong>Course artifact:</strong> Git repository with the source code and history of you doing this exercise.</p>\n<hr>\n<p>Proceed to <a href=\"/4-afterword\">Part 4: To infinity and beyond</a></p>","frontmatter":{"path":"/3-challenges","title":"Part 3: Here be dragons","banner":null},"fileAbsolutePath":"/Users/esko/devel/tdd-mooc/data/3-challenges.md"}},"pageContext":{}},"staticQueryHashes":["3294351120","994120085"]}