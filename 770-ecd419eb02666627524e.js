(self.webpackChunktdd_mooc=self.webpackChunktdd_mooc||[]).push([[770],{40770:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return jl}});var r=n(92137),o=n(41788),i=n(87757),a=n.n(i),l=n(67294),s=n(84119),c=n(50238),u=n(54021),d=n(52520),p=n(13578),f=n(52311),m=n(69290),g=n(71322);function h(e){var t=e.i18n,n=e.defaultNS,r=e.children,o=(0,l.useMemo)((function(){return{i18n:t,defaultNS:n}}),[t,n]);return(0,l.createElement)(g.OO.Provider,{value:o},r)}var b=n(70511),v={en:{common:JSON.parse('{"button":{"cancel":"Cancel","close":"Close","copy":"Copy","ok":"Yes","reset":"Reset","run":"Run","stop":"Stop","submit":"Submit","send":"Send"},"allTestsPassed":"All tests passed!","authenticationRequired":"Authentication required","browserNotSupported":"Programming exercises do not support Safari browser.\\nYou can use one of the following browsers to complete the exercises:","copiedConfirmation":"Copied!","couldNotFindExerciseDetails":"Could not find exercise details.","deadlineExpired":"Exercise deadline exceeded.","dontSend":"Don\'t send","enterInputAndPressEnter":"Enter input and press \\"Enter\\"","exerciseNotYetUnlocked":"Exercise not yet unlocked. Please make sure that you have enough points from previous parts.","failedToEstablishConnectionToServer":"Failed to establish a connection to TestMyCode Server.","failedToDownloadExercise":"Failed to download exercise.","feedbackTitle":"Exercise completed, congratulations!","incompatibleExerciseTemplate":"Incompatible exercise template.","infiniteLoopMessage":"Make sure you don\'t have an infinite loop in your code.","initializing":"Initializing","malformedExerciseTemplate":"Malformed exercise template","modelSolution":"Model solution","needHelp":"Need help?","noExerciseFilesFound":"No exercise files found in the exercise template.","outputTitle":"Output","pleaseGiveFeedback":"If you wish, you can give feedback on the assignment to help develop the course.","pleaseReportFollowingErrorsToCourseInstructor":"Please report following errors to your course instructor","pointsAwarded":"Points awarded","problemsTitle":"Problems","rememberToSubmitToServer":"Remember to submit your solution for evaluation.","resetExerciseConfirmation":"Are you sure you want to reset the exercise to its initial state?","resetExerciseNotify":"This operation will remove all your code.","resetExerciseHeader":"Reset exercise template","running":"Running","runButtonText":"RUN","sendToTmcPaste":"Send to TMC Paste","selectFile":"Select File","showAll":"Show all","signInToSubmitExercise":"Sign in to submit exercise","stopButtonText":"STOP","submissionProcessFailed":"Submission process failed","submissionResult":"Submissions Results","submissionTookTooLong":"Submission was taking a really long time.\\nPlease make sure your code doesn\'t have an infinite loop.","submitToServerQuestion":"Submit exercise?","submitting":"Submitting","submittingToServer":"Submitting exercise","testing":"Testing","testButtonText":"TEST","testResults":"Test Results","testsPassed":"Tests passed","thankYouForFeedback":"Thank you for your feedback!","tmcPasteDescription":"You can submit your code to TMC Paste and share the link to the course discussion channel and ask for help.","viewModelSolution":"View model solution","waitingForInput":"Waiting for input"}')},fi:{common:JSON.parse('{"button":{"cancel":"Peru","close":"Sulje","copy":"Kopioi","ok":"Kyllä","reset":"Resetoi","run":"Suorita","stop":"Pysäytä","submit":"Palauta","send":"Lähetä"},"allTestsPassed":"Testit menivät läpi!","authenticationRequired":"Sisään kirjautuminen vaaditaan","browserNotSupported":"Ohjelmointitehtäviä ei voi suorittaa Safari -selaimella.\\nVoit käyttää seuraavia selaimia suorittaaksesi tehtäviä:","copiedConfirmation":"Kopioitu!","couldNotFindExerciseDetails":"Tehtävän tietojen hakeminen epäonnistui.","deadlineExpired":"Tehtävän deadline on ylittynyt.","dontSend":"Älä lähetä","enterInputAndPressEnter":"Anna syöte ja paina \\"Enter\\"","exerciseNotYetUnlocked":"Tehtävää ei ole vielä avattu. Varmista, että sinulla on riittävästi pisteitä edellisistä osista.","failedToEstablishConnectionToServer":"Yhteyden muodostaminen TestMyCode-palvelimelle epäonnistui.","failedToDownloadExercise":"Tehtävän lataaminen epäonnistui.","feedbackTitle":"Tehtävä suoritettu, onneksi olkoon!","incompatibleExerciseTemplate":"Yhteensopimaton tehtäväpohja.","infiniteLoopMessage":"Varmista, että koodissasi ei ole ikuista silmukkaa.","initializing":"Alustetaan","malformedExerciseTemplate":"Väärän muotoinen tehtäväpohja","modelSolution":"Mallivastaus","needHelp":"Ongelmia?","noExerciseFilesFound":"Tehtävätiedostoa ei löytynyt tehtäväpohjasta.","outputTitle":"Tuloste","problemsTitle":"Ongelmat","pleaseGiveFeedback":"Voit halutessasi antaa tehtävästä palautetta auttaaksesi kurssin kehittämisessä.","pleaseReportFollowingErrorsToCourseInstructor":"Ilmoita seuraavista virheistä kurssin vetäjälle","pointsAwarded":"Saadut pisteet","rememberToSubmitToServer":"Muistathan palauttaa ratkaisusi arviointia varten.","resetExerciseConfirmation":"Haluatko varmasti palauttaa alkuperäisen tehtäväpohjan?","resetExerciseNotify":"Toiminto poistaa kaiken tekemäsi tehtäväkoodin.","resetExerciseHeader":"Palauta tehtäväpohja","runButtonText":"SUORITA","running":"Suoritetaan","sendToTmcPaste":"Lähetä TMC Pasteen","selectFile":"Valitse tiedosto","showAll":"Näytä kaikki","signInToSubmitExercise":"Kirjaudu sisään palauttaaksesi tehtävän","stopButtonText":"PYSÄYTÄ","submissionProcessFailed":"Tehtävän lähettäminen epäonnistui","submissionResult":"Palautuksen arviointi","submissionTookTooLong":"Tehtävän lähettäminen kesti liian kauan.\\nVarmistathan, että koodissasi ei ole ikuista silmukkaa.","submitToServerQuestion":"Palautetaanko tehtävä?","submitting":"Palautetaan","submittingToServer":"Palautetaan tehtävää","testing":"Ajetaan testejä","testButtonText":"TESTAA","testResults":"Testien tulokset","testsPassed":"Testejä läpi","thankYouForFeedback":"Kiitos palautteesta!","tmcPasteDescription":"Voit lähettää koodisi TMC Pasteen ja jakaa linkin kurssin keskustelukanavilla pyytääksesi apua.","viewModelSolution":"Näytä mallivastaus","waitingForInput":"Odotetaan syötettä"}')}},y=b.Z.createInstance();y.init({resources:v,ns:["common"],defaultNS:"common",lng:"en",interpolation:{escapeValue:!1},debug:!1});var w=y,C=n(79784),x=n(68270);function I(e,t){if(e){var n=window.localStorage.getItem(e);if(n)try{var r=JSON.parse(n);if(t(r))return r}catch(o){}}}var E=function(){return C.ou.local()},Z=n(83332),k=n(89711),A=n(31295),S=n(27136),T=n(81253),P=n(96156),B=n(22122),O=n(85505),N=n(34621),R=n(381),W=n(73935),j=n(70703),F=n(11291),G=n(57544);function H(e){return e.substring(2).toLowerCase()}var L=function(e){var t=e.children,n=e.disableReactTree,r=void 0!==n&&n,o=e.mouseEvent,i=void 0===o?"onClick":o,a=e.onClickAway,s=e.touchEvent,c=void 0===s?"onTouchEnd":s,u=l.useRef(!1),d=l.useRef(null),p=l.useRef(!1),f=l.useRef(!1);l.useEffect((function(){return setTimeout((function(){p.current=!0}),0),function(){p.current=!1}}),[]);var m=l.useCallback((function(e){d.current=W.findDOMNode(e)}),[]),g=(0,F.Z)(t.ref,m),h=(0,G.Z)((function(e){var t=f.current;if(f.current=!1,p.current&&d.current&&!function(e){return document.documentElement.clientWidth<e.clientX||document.documentElement.clientHeight<e.clientY}(e))if(u.current)u.current=!1;else{var n;if(e.composedPath)n=e.composedPath().indexOf(d.current)>-1;else n=!(0,j.Z)(d.current).documentElement.contains(e.target)||d.current.contains(e.target);n||!r&&t||a(e)}})),b=function(e){return function(n){f.current=!0;var r=t.props[e];r&&r(n)}},v={ref:g};return!1!==c&&(v[c]=b(c)),l.useEffect((function(){if(!1!==c){var e=H(c),t=(0,j.Z)(d.current),n=function(){u.current=!0};return t.addEventListener(e,h),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,h),t.removeEventListener("touchmove",n)}}}),[h,c]),!1!==i&&(v[i]=b(i)),l.useEffect((function(){if(!1!==i){var e=H(i),t=(0,j.Z)(d.current);return t.addEventListener(e,h),function(){t.removeEventListener(e,h)}}}),[h,i]),l.createElement(l.Fragment,null,l.cloneElement(t,v))},M=n(81664),K=n(88231),V=n(43337),D=n(58063),X=n(37595),Y=l.forwardRef((function(e,t){var n=e.action,r=e.classes,o=e.className,i=e.message,a=e.role,s=void 0===a?"alert":a,c=(0,T.Z)(e,["action","classes","className","message","role"]);return l.createElement(D.Z,(0,B.Z)({role:s,square:!0,elevation:6,className:(0,O.Z)(r.root,o),ref:t},c),l.createElement("div",{className:r.message},i),n?l.createElement("div",{className:r.action},n):null)})),z=(0,N.Z)((function(e){var t="light"===e.palette.type?.8:.98,n=(0,X._4)(e.palette.background.default,t);return{root:(0,B.Z)({},e.typography.body2,(0,P.Z)({color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiSnackbarContent"})(Y),U=l.forwardRef((function(e,t){var n=e.action,r=e.anchorOrigin,o=(r=void 0===r?{vertical:"bottom",horizontal:"center"}:r).vertical,i=r.horizontal,a=e.autoHideDuration,s=void 0===a?null:a,c=e.children,u=e.classes,d=e.className,p=e.ClickAwayListenerProps,f=e.ContentProps,m=e.disableWindowBlurListener,g=void 0!==m&&m,h=e.message,b=e.onClose,v=e.onEnter,y=e.onEntered,w=e.onEntering,C=e.onExit,x=e.onExited,I=e.onExiting,E=e.onMouseEnter,Z=e.onMouseLeave,k=e.open,A=e.resumeHideDuration,S=e.TransitionComponent,P=void 0===S?V.Z:S,N=e.transitionDuration,W=void 0===N?{enter:R.x9.enteringScreen,exit:R.x9.leavingScreen}:N,j=e.TransitionProps,F=(0,T.Z)(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),H=l.useRef(),D=l.useState(!0),X=D[0],Y=D[1],U=(0,G.Z)((function(){b&&b.apply(void 0,arguments)})),J=(0,G.Z)((function(e){b&&null!=e&&(clearTimeout(H.current),H.current=setTimeout((function(){U(null,"timeout")}),e))}));l.useEffect((function(){return k&&J(s),function(){clearTimeout(H.current)}}),[k,s,J]);var _=function(){clearTimeout(H.current)},Q=l.useCallback((function(){null!=s&&J(null!=A?A:.5*s)}),[s,A,J]);return l.useEffect((function(){if(!g&&k)return window.addEventListener("focus",Q),window.addEventListener("blur",_),function(){window.removeEventListener("focus",Q),window.removeEventListener("blur",_)}}),[g,Q,k]),!k&&X?null:l.createElement(L,(0,B.Z)({onClickAway:function(e){b&&b(e,"clickaway")}},p),l.createElement("div",(0,B.Z)({className:(0,O.Z)(u.root,u["anchorOrigin".concat((0,M.Z)(o)).concat((0,M.Z)(i))],d),onMouseEnter:function(e){E&&E(e),_()},onMouseLeave:function(e){Z&&Z(e),Q()},ref:t},F),l.createElement(P,(0,B.Z)({appear:!0,in:k,onEnter:(0,K.Z)((function(){Y(!1)}),v),onEntered:y,onEntering:w,onExit:C,onExited:(0,K.Z)((function(){Y(!0)}),x),onExiting:I,timeout:W,direction:"top"===o?"down":"up"},j),c||l.createElement(z,(0,B.Z)({message:h,action:n},f)))))})),J=(0,N.Z)((function(e){var t={top:8},n={bottom:8},r={justifyContent:"flex-end"},o={justifyContent:"flex-start"},i={top:24},a={bottom:24},l={right:24},s={left:24},c={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:(0,B.Z)({},t,(0,P.Z)({},e.breakpoints.up("sm"),(0,B.Z)({},i,c))),anchorOriginBottomCenter:(0,B.Z)({},n,(0,P.Z)({},e.breakpoints.up("sm"),(0,B.Z)({},a,c))),anchorOriginTopRight:(0,B.Z)({},t,r,(0,P.Z)({},e.breakpoints.up("sm"),(0,B.Z)({left:"auto"},i,l))),anchorOriginBottomRight:(0,B.Z)({},n,r,(0,P.Z)({},e.breakpoints.up("sm"),(0,B.Z)({left:"auto"},a,l))),anchorOriginTopLeft:(0,B.Z)({},t,o,(0,P.Z)({},e.breakpoints.up("sm"),(0,B.Z)({right:"auto"},i,s))),anchorOriginBottomLeft:(0,B.Z)({},n,o,(0,P.Z)({},e.breakpoints.up("sm"),(0,B.Z)({right:"auto"},a,s)))}}),{flip:!1,name:"MuiSnackbar"})(U);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}function oe(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.apply(n,[].concat(o,r))}}}function ie(e){return{}.toString.call(e).includes("Object")}function ae(e){return"function"==typeof e}var le=oe((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),se={changes:function(e,t){return ie(t)||le("changeType"),Object.keys(t).some((function(t){return n=e,r=t,!Object.prototype.hasOwnProperty.call(n,r);var n,r}))&&le("changeField"),t},selector:function(e){ae(e)||le("selectorType")},handler:function(e){ae(e)||ie(e)||le("handlerType"),ie(e)&&Object.values(e).some((function(e){return!ae(e)}))&&le("handlersType")},initial:function(e){var t;e||le("initialIsRequired"),ie(e)||le("initialType"),t=e,Object.keys(t).length||le("initialContent")}};function ce(e,t){return ae(t)?t(e.current):t}function ue(e,t){return e.current=ne(ne({},e.current),t),t}function de(e,t,n){return ae(t)?t(e.current):Object.keys(n).forEach((function(n){var r;return null===(r=t[n])||void 0===r?void 0:r.call(t,e.current[n])})),n}var pe={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};se.initial(e),se.handler(t);var n={current:e},r=oe(de)(n,t),o=oe(ue)(n),i=oe(se.changes)(e),a=oe(ce)(n);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return se.selector(e),e(n.current)}function s(e){re(r,o,i,a)(e)}return[l,s]}},fe={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.23.0/min/vs"}};var me=function(e){return{}.toString.call(e).includes("Object")};var ge={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},he=function(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.apply(n,[].concat(o,r))}}}((function(e,t){throw new Error(e[t]||e.default)}))(ge),be={config:function(e){return e||he("configIsRequired"),me(e)||he("configType"),e.urls?(console.warn(ge.deprecation),{paths:{vs:e.urls.monacoBase}}):e}},ve=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}};var ye=function e(t,n){return Object.keys(n).forEach((function(r){n[r]instanceof Object&&t[r]&&Object.assign(n[r],e(t[r],n[r]))})),$($({},t),n)},we={type:"cancelation",msg:"operation is manually canceled"};var Ce=function(e){var t=!1,n=new Promise((function(n,r){e.then((function(e){return t?r(we):n(e)})),e.catch(r)}));return n.cancel=function(){return t=!0},n},xe=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){o=!0,i=s}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(pe.create({config:fe,isInitialized:!1,resolve:null,reject:null,monaco:null}),2),Ie=xe[0],Ee=xe[1];function Ze(e){return document.body.appendChild(e)}function ke(e){var t,n,r=Ie((function(e){return{config:e.config,reject:e.reject}})),o=(t="".concat(r.config.paths.vs,"/loader.js"),n=document.createElement("script"),t&&(n.src=t),n);return o.onload=function(){return e()},o.onerror=r.reject,o}function Ae(){var e=Ie((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){Se(t),e.resolve(t)}),(function(t){e.reject(t)}))}function Se(e){Ie().monaco||Ee({monaco:e})}var Te=new Promise((function(e,t){return Ee({resolve:e,reject:t})})),Pe={config:function(e){Ee((function(t){return{config:ye(t.config,be.config(e))}}))},init:function(){if(!Ie((function(e){return{isInitialized:e.isInitialized}})).isInitialized){if(window.monaco&&window.monaco.editor)return Se(window.monaco),Ce(Promise.resolve(window.monaco));ve(Ze,ke)(Ae),Ee({isInitialized:!0})}return Ce(Te)},__getMonacoInstance:function(){return Ie((function(e){return e.monaco}))}},Be=n(28481),Oe={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};var Ne=function(e){var t=e.content;return l.createElement("div",{style:Oe},t)},Re={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}};function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fe=function(e){var t=e.width,n=e.height,r=e.isEditorReady,o=e.loading,i=e._ref,a=e.className,s=e.wrapperClassName;return l.createElement("section",{style:je(je({},Re.wrapper),{},{width:t,height:n}),className:s},!r&&l.createElement(Ne,{content:o}),l.createElement("div",{ref:i,style:je(je({},Re.fullWidth),!r&&Re.hide),className:a}))},Ge=(0,l.memo)(Fe);var He=function(e){(0,l.useEffect)(e,[])};var Le=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=(0,l.useRef)(!0);(0,l.useEffect)(r.current||!n?function(){r.current=!1}:e,t)};function Me(){}function Ke(e,t,n,r){return function(e,t){return e.editor.getModel(Ve(e,t))}(e,r)||function(e,t,n,r){return e.editor.createModel(t,n,r&&Ve(e,r))}(e,t,n,r)}function Ve(e,t){return e.Uri.parse(t)}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){var t=e.original,n=e.modified,r=e.language,o=e.originalLanguage,i=e.modifiedLanguage,a=e.originalModelPath,s=e.modifiedModelPath,c=e.keepCurrentOriginalModel,u=e.keepCurrentModifiedModel,d=e.theme,p=e.loading,f=e.options,m=e.height,g=e.width,h=e.className,b=e.wrapperClassName,v=e.beforeMount,y=e.onMount,w=(0,l.useState)(!1),C=(0,Be.Z)(w,2),x=C[0],I=C[1],E=(0,l.useState)(!0),Z=(0,Be.Z)(E,2),k=Z[0],A=Z[1],S=(0,l.useRef)(null),T=(0,l.useRef)(null),B=(0,l.useRef)(null),O=(0,l.useRef)(y),N=(0,l.useRef)(v);He((function(){var e=Pe.init();return e.then((function(e){return(T.current=e)&&A(!1)})).catch((function(e){return"cancelation"!==(null==e?void 0:e.type)&&console.error("Monaco initialization: error:",e)})),function(){return S.current?function(){var e,t,n=S.current.getModel();c||null===(e=n.original)||void 0===e||e.dispose();u||null===(t=n.modified)||void 0===t||t.dispose();S.current.dispose()}():e.cancel()}})),Le((function(){var e=S.current.getModifiedEditor();e.getOption(T.current.editor.EditorOption.readOnly)?e.setValue(n):n!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),e.pushUndoStop())}),[n],x),Le((function(){S.current.getModel().original.setValue(t)}),[t],x),Le((function(){var e=S.current.getModel(),t=e.original,n=e.modified;T.current.editor.setModelLanguage(t,o||r),T.current.editor.setModelLanguage(n,i||r)}),[r,o,i],x),Le((function(){T.current.editor.setTheme(d)}),[d],x),Le((function(){S.current.updateOptions(f)}),[f],x);var R=(0,l.useCallback)((function(){N.current(T.current);var e=T.current.editor.createModel(t,o||r,a&&T.current.Uri.parse(a)),l=T.current.editor.createModel(n,i||r,s&&T.current.Uri.parse(s));S.current.setModel({original:e,modified:l})}),[r,n,i,t,o,a,s]),W=(0,l.useCallback)((function(){S.current=T.current.editor.createDiffEditor(B.current,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({automaticLayout:!0},f)),R(),T.current.editor.setTheme(d),I(!0)}),[f,d,R]);return(0,l.useEffect)((function(){x&&O.current(S.current,T.current)}),[x]),(0,l.useEffect)((function(){!k&&!x&&W()}),[k,x,W]),l.createElement(Ge,{width:g,height:m,isEditorReady:x,loading:p,_ref:B,className:h,wrapperClassName:b})}Xe.defaultProps={theme:"light",loading:"Loading...",options:{},keepCurrentOriginalModel:!1,keepCurrentModifiedModel:!1,width:"100%",height:"100%",beforeMount:Me,onMount:Me};var Ye=function(e){var t=(0,l.useRef)();return(0,l.useEffect)((function(){t.current=e}),[e]),t.current};function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ue=pe.create({backup:null}),Je=(0,Be.Z)(Ue,2),_e=Je[0],Qe=Je[1],$e=new Map;function qe(e){var t=e.defaultValue,n=e.defaultLanguage,r=e.defaultPath,o=e.value,i=e.language,a=e.path,s=e.theme,c=e.line,u=e.loading,d=e.options,p=e.overrideServices,f=e.saveViewState,m=e.keepCurrentModel,g=e.width,h=e.height,b=e.className,v=e.wrapperClassName,y=e.beforeMount,w=e.onMount,C=e.onChange,x=e.onValidate,I=(0,l.useState)(!1),E=(0,Be.Z)(I,2),Z=E[0],k=E[1],A=(0,l.useState)(!0),S=(0,Be.Z)(A,2),T=S[0],B=S[1],O=(0,l.useRef)(null),N=(0,l.useRef)(null),R=(0,l.useRef)(null),W=(0,l.useRef)(w),j=(0,l.useRef)(y),F=(0,l.useRef)(null),G=(0,l.useRef)(o),H=Ye(a);He((function(){var e=Pe.init();return e.then((function(e){return(O.current=e)&&B(!1)})).catch((function(e){return"cancelation"!==(null==e?void 0:e.type)&&console.error("Monaco initialization: error:",e)})),function(){return N.current?function(){var e,t;null===(e=F.current)||void 0===e||e.dispose(),m?f&&$e.set(a,N.current.saveViewState()):null===(t=N.current.getModel())||void 0===t||t.dispose();N.current.dispose()}():e.cancel()}})),Le((function(){var e=Ke(O.current,t||o,n||i,a);e!==N.current.getModel()&&(f&&$e.set(H,N.current.saveViewState()),N.current.setModel(e),f&&N.current.restoreViewState($e.get(a)))}),[a],Z),Le((function(){N.current.updateOptions(d)}),[d],Z),Le((function(){N.current.getOption(O.current.editor.EditorOption.readOnly)?N.current.setValue(o):o!==N.current.getValue()&&(N.current.executeEdits("",[{range:N.current.getModel().getFullModelRange(),text:o,forceMoveMarkers:!0}]),N.current.pushUndoStop())}),[o],Z),Le((function(){O.current.editor.setModelLanguage(N.current.getModel(),i)}),[i],Z),Le((function(){void 0!==c&&N.current.revealLine(c)}),[c],Z),Le((function(){O.current.editor.setTheme(s)}),[s],Z);var L=(0,l.useCallback)((function(){j.current(O.current);var e=a||r,l=Ke(O.current,o||t,n||i,e);N.current=O.current.editor.create(R.current,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({model:l,automaticLayout:!0},d),p),f&&N.current.restoreViewState($e.get(e)),O.current.editor.setTheme(s),_e().backup||Qe({backup:O.current.editor.setModelMarkers}),k(!0)}),[t,n,r,o,i,a,d,p,f,s]);return(0,l.useEffect)((function(){Z&&W.current(N.current,O.current)}),[Z]),(0,l.useEffect)((function(){!T&&!Z&&L()}),[T,Z,L]),G.current=o,(0,l.useEffect)((function(){var e,t;Z&&C&&(null===(e=F.current)||void 0===e||e.dispose(),F.current=null===(t=N.current)||void 0===t?void 0:t.onDidChangeModelContent((function(e){var t=N.current.getValue();G.current!==t&&C(t,e)})))}),[Z,C]),(0,l.useEffect)((function(){Z&&(O.current.editor.setModelMarkers=function(e,t,n){var r;null===(r=_e().backup)||void 0===r||r.call(O.current.editor,e,t,n),null==x||x(n)})}),[Z,x]),l.createElement(Ge,{width:g,height:h,isEditorReady:Z,loading:u,_ref:R,className:b,wrapperClassName:v})}qe.defaultProps={theme:"light",loading:"Loading...",options:{},overrideServices:{},saveViewState:!0,keepCurrentModel:!1,width:"100%",height:"100%",beforeMount:Me,onMount:Me,onValidate:Me};var et,tt,nt,rt,ot,it,at=qe,lt=(0,l.memo)(at),st=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ct=s.ZP.div(et||(et=st(["\n  min-height: 200px;\n  max-height: 950px;\n  border: 1px inset;\n  height: ",";\n"],["\n  min-height: 200px;\n  max-height: 950px;\n  border: 1px inset;\n  height: ",";\n"])),(function(e){return e.height?e.height:"400px"})),ut=function(e){var t=e.editorValue,n=e.setEditorValue,r=e.editorHeight,o=e.setIsEditorReady;return l.createElement(ct,{height:r},l.createElement(lt,{value:t,language:"python",onChange:function(e){e&&n(e)},onMount:function(){o(!0)},options:{minimap:{enabled:!1},wordWrap:"on",scrollBeyondLastLine:!1,hideCursorInOverviewRuler:!0,scrollbar:{alwaysConsumeMouseWheel:!1}}}))},dt=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},pt=s.ZP.div(tt||(tt=dt(["\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n  bottom: 0;\n  min-height: 100px;\n  box-shadow: -2px 3px 2px 1px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n"],["\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n  bottom: 0;\n  min-height: 100px;\n  box-shadow: -2px 3px 2px 1px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n"]))),ft=(0,s.ZP)(D.Z)(ot||(ot=dt(["\n  animation: ","\n    0.2s ease-in-out;\n  border: 4px 4px 0px 0px;\n  position: relative;\n  width: 100%;\n"],["\n  animation: ","\n    0.2s ease-in-out;\n  border: 4px 4px 0px 0px;\n  position: relative;\n  width: 100%;\n"])),(function(e){return e.open?(t=e.animatefrom,(0,s.F4)(nt||(nt=dt(["\n    from {\n      transform: translateY(",");\n    }\n\n    to  {\n      transform: translateY(0px);\n    }\n  }\n"],["\n    from {\n      transform: translateY(",");\n    }\n\n    to  {\n      transform: translateY(0px);\n    }\n  }\n"])),t&&"auto"!==t?t:"225px")):function(e){return(0,s.F4)(rt||(rt=dt(["\n  from {\n    transform: translateY(0px);\n  }\n\n  to {\n    transform: translateY(",");\n  }\n"],["\n  from {\n    transform: translateY(0px);\n  }\n\n  to {\n    transform: translateY(",");\n  }\n"])),e&&"auto"!==e?e:"225px")}(e.animatefrom);var t})),mt=l.forwardRef((function(e,t){var n=(0,l.useState)(!1),r=n[0],o=n[1],i=(0,l.useState)(!1),a=i[0],s=i[1],c=e.isRunning,u=e.outputHeight,d=function(){o(!1)},p=function(){o(!0),s(!0)};(0,l.useEffect)((function(){c&&!a&&(s(!0),r||o(!0))}),[c]),(0,l.useImperativeHandle)(t,(function(){return{close:d,open:p}}));return a?l.createElement(pt,{"data-cy":"output-container"},l.createElement(ft,{animatefrom:u,open:r,onAnimationEnd:function(){r||s(!1)}},e.children)):null})),gt=new Uint8Array(16);function ht(){if(!it&&!(it="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return it(gt)}var bt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var vt=function(e){return"string"==typeof e&&bt.test(e)},yt=[],wt=0;wt<256;++wt)yt.push((wt+256).toString(16).substr(1));var Ct=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(yt[e[t+0]]+yt[e[t+1]]+yt[e[t+2]]+yt[e[t+3]]+"-"+yt[e[t+4]]+yt[e[t+5]]+"-"+yt[e[t+6]]+yt[e[t+7]]+"-"+yt[e[t+8]]+yt[e[t+9]]+"-"+yt[e[t+10]]+yt[e[t+11]]+yt[e[t+12]]+yt[e[t+13]]+yt[e[t+14]]+yt[e[t+15]]).toLowerCase();if(!vt(n))throw TypeError("Stringified UUID is invalid");return n};var xt,It=function(e,t,n){var r=(e=e||{}).random||(e.rng||ht)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return Ct(r)};!function(e){e[e.ExecutingCode=1]="ExecutingCode",e[e.Idle=2]="Idle",e[e.Initializing=4]="Initializing",e[e.RunAborted=8]="RunAborted",e[e.ShowHelp=16]="ShowHelp",e[e.ShowPassedFeedbackForm=32]="ShowPassedFeedbackForm",e[e.ShowProblems=64]="ShowProblems",e[e.ShowSubmissionResults=128]="ShowSubmissionResults",e[e.ShowTestResults=256]="ShowTestResults",e[e.Submitting=512]="Submitting",e[e.Testing=1024]="Testing",e[e.WaitingInput=2048]="WaitingInput",e[e.WorkerInitializing=4096]="WorkerInitializing",e[e.WorkerActive=7169]="WorkerActive"}(xt||(xt={}));var Et=n(80838),Zt=n(80453),kt=n(4998),At=n(85061),St=n(59355),Tt=n(64095),Pt=n(12933);var Bt=(0,N.Z)((function(e){return{thumb:{"&$open":{"& $offset":{transform:"scale(1) translateY(-10px)"}}},open:{},offset:(0,B.Z)({zIndex:1},e.typography.body2,{fontSize:e.typography.pxToRem(12),lineHeight:1.2,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),top:-34,transformOrigin:"bottom center",transform:"scale(0)",position:"absolute"}),circle:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"currentColor",transform:"rotate(-45deg)"},label:{color:e.palette.primary.contrastText,transform:"rotate(45deg)"}}}),{name:"PrivateValueLabel"})((function(e){var t=e.children,n=e.classes,r=e.className,o=e.open,i=e.value,a=e.valueLabelDisplay;return"off"===a?t:l.cloneElement(t,{className:(0,O.Z)(t.props.className,(o||"on"===a)&&n.open,n.thumb)},l.createElement("span",{className:(0,O.Z)(n.offset,r)},l.createElement("span",{className:n.circle},l.createElement("span",{className:n.label},i))))}));function Ot(e,t){return e-t}function Nt(e,t,n){return Math.min(Math.max(t,e),n)}function Rt(e,t){return e.reduce((function(e,n,r){var o=Math.abs(t-n);return null===e||o<e.distance||o===e.distance?{distance:o,index:r}:e}),null).index}function Wt(e,t){if(void 0!==t.current&&e.changedTouches){for(var n=0;n<e.changedTouches.length;n+=1){var r=e.changedTouches[n];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function jt(e,t,n){return 100*(e-t)/(n-t)}function Ft(e,t,n){var r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){var t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}var r=e.toString().split(".")[1];return r?r.length:0}(t)))}function Gt(e){var t=e.values,n=e.source,r=e.newValue,o=e.index;if(t[o]===r)return n;var i=t.slice();return i[o]=r,i}function Ht(e){var t=e.sliderRef,n=e.activeIndex,r=e.setActive;t.current.contains(document.activeElement)&&Number(document.activeElement.getAttribute("data-index"))===n||t.current.querySelector('[role="slider"][data-index="'.concat(n,'"]')).focus(),r&&r(n)}var Lt,Mt,Kt,Vt,Dt,Xt,Yt,zt,Ut,Jt,_t,Qt,$t,qt={horizontal:{offset:function(e){return{left:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},"horizontal-reverse":{offset:function(e){return{right:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},vertical:{offset:function(e){return{bottom:"".concat(e,"%")}},leap:function(e){return{height:"".concat(e,"%")}}}},en=function(e){return e},tn=l.forwardRef((function(e,t){var n=e["aria-label"],r=e["aria-labelledby"],o=e["aria-valuetext"],i=e.classes,a=e.className,s=e.color,c=void 0===s?"primary":s,u=e.component,d=void 0===u?"span":u,p=e.defaultValue,f=e.disabled,m=void 0!==f&&f,g=e.getAriaLabel,h=e.getAriaValueText,b=e.marks,v=void 0!==b&&b,y=e.max,w=void 0===y?100:y,C=e.min,x=void 0===C?0:C,I=e.name,E=e.onChange,Z=e.onChangeCommitted,k=e.onMouseDown,A=e.orientation,S=void 0===A?"horizontal":A,P=e.scale,N=void 0===P?en:P,R=e.step,W=void 0===R?1:R,H=e.ThumbComponent,L=void 0===H?"span":H,K=e.track,V=void 0===K?"normal":K,D=e.value,X=e.ValueLabelComponent,Y=void 0===X?Bt:X,z=e.valueLabelDisplay,U=void 0===z?"off":z,J=e.valueLabelFormat,_=void 0===J?en:J,Q=(0,T.Z)(e,["aria-label","aria-labelledby","aria-valuetext","classes","className","color","component","defaultValue","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","ThumbComponent","track","value","ValueLabelComponent","valueLabelDisplay","valueLabelFormat"]),$=(0,St.Z)(),q=l.useRef(),ee=l.useState(-1),te=ee[0],ne=ee[1],re=l.useState(-1),oe=re[0],ie=re[1],ae=(0,Pt.Z)({controlled:D,default:p,name:"Slider"}),le=(0,Be.Z)(ae,2),se=le[0],ce=le[1],ue=Array.isArray(se),de=ue?se.slice().sort(Ot):[se];de=de.map((function(e){return Nt(e,x,w)}));var pe=!0===v&&null!==W?(0,At.Z)(Array(Math.floor((w-x)/W)+1)).map((function(e,t){return{value:x+W*t}})):v||[],fe=(0,Tt.Z)(),me=fe.isFocusVisible,ge=fe.onBlurVisible,he=fe.ref,be=l.useState(-1),ve=be[0],ye=be[1],we=l.useRef(),Ce=(0,F.Z)(he,we),xe=(0,F.Z)(t,Ce),Ie=(0,G.Z)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));me(e)&&ye(t),ie(t)})),Ee=(0,G.Z)((function(){-1!==ve&&(ye(-1),ge()),ie(-1)})),Ze=(0,G.Z)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));ie(t)})),ke=(0,G.Z)((function(){ie(-1)})),Ae="rtl"===$.direction,Se=(0,G.Z)((function(e){var t,n=Number(e.currentTarget.getAttribute("data-index")),r=de[n],o=(w-x)/10,i=pe.map((function(e){return e.value})),a=i.indexOf(r),l=Ae?"ArrowLeft":"ArrowRight",s=Ae?"ArrowRight":"ArrowLeft";switch(e.key){case"Home":t=x;break;case"End":t=w;break;case"PageUp":W&&(t=r+o);break;case"PageDown":W&&(t=r-o);break;case l:case"ArrowUp":t=W?r+W:i[a+1]||i[i.length-1];break;case s:case"ArrowDown":t=W?r-W:i[a-1]||i[0];break;default:return}if(e.preventDefault(),W&&(t=Ft(t,W,x)),t=Nt(t,x,w),ue){var c=t;t=Gt({values:de,source:se,newValue:t,index:n}).sort(Ot),Ht({sliderRef:we,activeIndex:t.indexOf(c)})}ce(t),ye(n),E&&E(e,t),Z&&Z(e,t)})),Te=l.useRef(),Pe=S;Ae&&"vertical"!==S&&(Pe+="-reverse");var Oe=function(e){var t,n,r=e.finger,o=e.move,i=void 0!==o&&o,a=e.values,l=e.source,s=we.current.getBoundingClientRect(),c=s.width,u=s.height,d=s.bottom,p=s.left;if(t=0===Pe.indexOf("vertical")?(d-r.y)/u:(r.x-p)/c,-1!==Pe.indexOf("-reverse")&&(t=1-t),n=function(e,t,n){return(n-t)*e+t}(t,x,w),W)n=Ft(n,W,x);else{var f=pe.map((function(e){return e.value}));n=f[Rt(f,n)]}n=Nt(n,x,w);var m=0;if(ue){var g=n;m=(n=Gt({values:a,source:l,newValue:n,index:m=i?Te.current:Rt(a,n)}).sort(Ot)).indexOf(g),Te.current=m}return{newValue:n,activeIndex:m}},Ne=(0,G.Z)((function(e){var t=Wt(e,q);if(t){var n=Oe({finger:t,move:!0,values:de,source:se}),r=n.newValue,o=n.activeIndex;Ht({sliderRef:we,activeIndex:o,setActive:ne}),ce(r),E&&E(e,r)}})),Re=(0,G.Z)((function(e){var t=Wt(e,q);if(t){var n=Oe({finger:t,values:de,source:se}).newValue;ne(-1),"touchend"===e.type&&ie(-1),Z&&Z(e,n),q.current=void 0;var r=(0,j.Z)(we.current);r.removeEventListener("mousemove",Ne),r.removeEventListener("mouseup",Re),r.removeEventListener("touchmove",Ne),r.removeEventListener("touchend",Re)}})),We=(0,G.Z)((function(e){e.preventDefault();var t=e.changedTouches[0];null!=t&&(q.current=t.identifier);var n=Wt(e,q),r=Oe({finger:n,values:de,source:se}),o=r.newValue,i=r.activeIndex;Ht({sliderRef:we,activeIndex:i,setActive:ne}),ce(o),E&&E(e,o);var a=(0,j.Z)(we.current);a.addEventListener("touchmove",Ne),a.addEventListener("touchend",Re)}));l.useEffect((function(){var e=we.current;e.addEventListener("touchstart",We);var t=(0,j.Z)(e);return function(){e.removeEventListener("touchstart",We),t.removeEventListener("mousemove",Ne),t.removeEventListener("mouseup",Re),t.removeEventListener("touchmove",Ne),t.removeEventListener("touchend",Re)}}),[Re,Ne,We]);var je=(0,G.Z)((function(e){k&&k(e),e.preventDefault();var t=Wt(e,q),n=Oe({finger:t,values:de,source:se}),r=n.newValue,o=n.activeIndex;Ht({sliderRef:we,activeIndex:o,setActive:ne}),ce(r),E&&E(e,r);var i=(0,j.Z)(we.current);i.addEventListener("mousemove",Ne),i.addEventListener("mouseup",Re)})),Fe=jt(ue?de[0]:x,x,w),Ge=jt(de[de.length-1],x,w)-Fe,He=(0,B.Z)({},qt[Pe].offset(Fe),qt[Pe].leap(Ge));return l.createElement(d,(0,B.Z)({ref:xe,className:(0,O.Z)(i.root,i["color".concat((0,M.Z)(c))],a,m&&i.disabled,pe.length>0&&pe.some((function(e){return e.label}))&&i.marked,!1===V&&i.trackFalse,"vertical"===S&&i.vertical,"inverted"===V&&i.trackInverted),onMouseDown:je},Q),l.createElement("span",{className:i.rail}),l.createElement("span",{className:i.track,style:He}),l.createElement("input",{value:de.join(","),name:I,type:"hidden"}),pe.map((function(e,t){var n,r=jt(e.value,x,w),o=qt[Pe].offset(r);return n=!1===V?-1!==de.indexOf(e.value):"normal"===V&&(ue?e.value>=de[0]&&e.value<=de[de.length-1]:e.value<=de[0])||"inverted"===V&&(ue?e.value<=de[0]||e.value>=de[de.length-1]:e.value>=de[0]),l.createElement(l.Fragment,{key:e.value},l.createElement("span",{style:o,"data-index":t,className:(0,O.Z)(i.mark,n&&i.markActive)}),null!=e.label?l.createElement("span",{"aria-hidden":!0,"data-index":t,style:o,className:(0,O.Z)(i.markLabel,n&&i.markLabelActive)},e.label):null)})),de.map((function(e,t){var a=jt(e,x,w),s=qt[Pe].offset(a);return l.createElement(Y,{key:t,valueLabelFormat:_,valueLabelDisplay:U,className:i.valueLabel,value:"function"==typeof _?_(N(e),t):_,index:t,open:oe===t||te===t||"on"===U,disabled:m},l.createElement(L,{className:(0,O.Z)(i.thumb,i["thumbColor".concat((0,M.Z)(c))],te===t&&i.active,m&&i.disabled,ve===t&&i.focusVisible),tabIndex:m?null:0,role:"slider",style:s,"data-index":t,"aria-label":g?g(t):n,"aria-labelledby":r,"aria-orientation":S,"aria-valuemax":N(w),"aria-valuemin":N(x),"aria-valuenow":N(e),"aria-valuetext":h?h(N(e),t):o,onKeyDown:Se,onFocus:Ie,onBlur:Ee,onMouseOver:Ze,onMouseLeave:ke}))})))})),nn=(0,N.Z)((function(e){return{root:{height:2,width:"100%",boxSizing:"content-box",padding:"13px 0",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:e.palette.primary.main,WebkitTapHighlightColor:"transparent","&$disabled":{pointerEvents:"none",cursor:"default",color:e.palette.grey[400]},"&$vertical":{width:2,height:"100%",padding:"0 13px"},"@media (pointer: coarse)":{padding:"20px 0","&$vertical":{padding:"0 20px"}},"@media print":{colorAdjust:"exact"}},colorPrimary:{},colorSecondary:{color:e.palette.secondary.main},marked:{marginBottom:20,"&$vertical":{marginBottom:"auto",marginRight:20}},vertical:{},disabled:{},rail:{display:"block",position:"absolute",width:"100%",height:2,borderRadius:1,backgroundColor:"currentColor",opacity:.38,"$vertical &":{height:"100%",width:2}},track:{display:"block",position:"absolute",height:2,borderRadius:1,backgroundColor:"currentColor","$vertical &":{width:2}},trackFalse:{"& $track":{display:"none"}},trackInverted:{"& $track":{backgroundColor:"light"===e.palette.type?(0,X.$n)(e.palette.primary.main,.62):(0,X._j)(e.palette.primary.main,.5)},"& $rail":{opacity:1}},thumb:{position:"absolute",width:12,height:12,marginLeft:-6,marginTop:-5,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow"],{duration:e.transitions.duration.shortest}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",left:-15,top:-15,right:-15,bottom:-15},"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat((0,X.U1)(e.palette.primary.main,.16)),"@media (hover: none)":{boxShadow:"none"}},"&$active":{boxShadow:"0px 0px 0px 14px ".concat((0,X.U1)(e.palette.primary.main,.16))},"&$disabled":{width:8,height:8,marginLeft:-4,marginTop:-3,"&:hover":{boxShadow:"none"}},"$vertical &":{marginLeft:-5,marginBottom:-6},"$vertical &$disabled":{marginLeft:-3,marginBottom:-4}},thumbColorPrimary:{},thumbColorSecondary:{"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat((0,X.U1)(e.palette.secondary.main,.16))},"&$active":{boxShadow:"0px 0px 0px 14px ".concat((0,X.U1)(e.palette.secondary.main,.16))}},active:{},focusVisible:{},valueLabel:{left:"calc(-50% - 4px)"},mark:{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},markActive:{backgroundColor:e.palette.background.paper,opacity:.8},markLabel:(0,B.Z)({},e.typography.body2,{color:e.palette.text.secondary,position:"absolute",top:26,transform:"translateX(-50%)",whiteSpace:"nowrap","$vertical &":{top:"auto",left:26,transform:"translateY(50%)"},"@media (pointer: coarse)":{top:40,"$vertical &":{left:31}}}),markLabelActive:{color:e.palette.text.primary}}}),{name:"MuiSlider"})(tn),rn=n(61490),on=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},an=s.ZP.div(Lt||(Lt=on(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 9000;\n  background-color: rgba(127, 127, 127, 0.7);\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 9000;\n  background-color: rgba(127, 127, 127, 0.7);\n"]))),ln=(0,s.ZP)(D.Z)(Mt||(Mt=on(["\n  position: absolute;\n  overflow: hidden;\n  z-index: 9001;\n  width: 80%;\n  box-shadow: -2px 3px 2px 1px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n  margin: 3% 10% 3% 10%;\n  border-radius: 10px !important;\n"],["\n  position: absolute;\n  overflow: hidden;\n  z-index: 9001;\n  width: 80%;\n  box-shadow: -2px 3px 2px 1px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n  margin: 3% 10% 3% 10%;\n  border-radius: 10px !important;\n"]))),sn=s.ZP.div(Kt||(Kt=on(["\n  position: absolute;\n  top: 45%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"],["\n  position: absolute;\n  top: 45%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),cn=function(e){return l.createElement(an,null,l.createElement(ln,null,l.createElement(Et.Z,{container:!0,direction:"row"},e.children)))},un=function(e){return l.createElement(an,null,l.createElement(sn,null,e.children))},dn=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},pn=function(){return(pn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},fn=(0,s.ZP)(Et.Z)(Vt||(Vt=dn(["\n  padding: 5px;\n  display: table-cell;\n  min-height: 100px;\n  overflow: auto;\n  white-space: pre-wrap;\n"],["\n  padding: 5px;\n  display: table-cell;\n  min-height: 100px;\n  overflow: auto;\n  white-space: pre-wrap;\n"]))),mn=s.ZP.div(Dt||(Dt=dn(["\n  padding: 1px 25px;\n  background: #4caf50;\n  font-family: Roboto Slab, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto,\n    Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji,\n    Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;\n  color: white !important;\n  width: 100%;\n"],["\n  padding: 1px 25px;\n  background: #4caf50;\n  font-family: Roboto Slab, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto,\n    Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji,\n    Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;\n  color: white !important;\n  width: 100%;\n"]))),gn=s.ZP.div(Xt||(Xt=dn(["\n  border-top: 1px dashed black;\n  width: 100%;\n"],["\n  border-top: 1px dashed black;\n  width: 100%;\n"]))),hn=(0,s.ZP)(Zt.Z)(Yt||(Yt=dn(["\n  && {\n    font-size: 1.5rem;\n    padding: 9px 5px;\n    font-weight: 500;\n    color: white !important;\n  }\n"],["\n  && {\n    font-size: 1.5rem;\n    padding: 9px 5px;\n    font-weight: 500;\n    color: white !important;\n  }\n"]))),bn=s.ZP.span(zt||(zt=dn(["\n  cursor: pointer;\n  font-size: 2rem;\n  float: right;\n"],["\n  cursor: pointer;\n  font-size: 2rem;\n  float: right;\n"]))),vn=s.ZP.div(Ut||(Ut=dn(["\n  && {\n    font-size: 1rem;\n    padding: 9px 5px;\n  }\n"],["\n  && {\n    font-size: 1rem;\n    padding: 9px 5px;\n  }\n"]))),yn=(0,s.ZP)(kt.Z)(Jt||(Jt=dn(["\n  && {\n    color: white;\n    margin-right: 10px;\n  }\n"],["\n  && {\n    color: white;\n    margin-right: 10px;\n  }\n"]))),wn=(0,s.ZP)((function(e){return l.createElement(Z.Z,pn({variant:"contained"},e))}))(_t||(_t=dn(["\n  margin: 5px !important;\n"],["\n  margin: 5px !important;\n"]))),Cn=s.ZP.div(Qt||(Qt=dn(["\n  margin: 20px;\n"],["\n  margin: 20px;\n"]))),xn=(0,s.ZP)(Zt.Z)($t||($t=dn(["\n  && {\n    margin: 15px 10px 5px 10px;\n    font-weight: bold;\n  }\n"],["\n  && {\n    margin: 15px 10px 5px 10px;\n    font-weight: bold;\n  }\n"]))),In=function(e){var t=e.awardedPoints,n=e.onSubmitFeedback,r=e.onClose,o=e.feedbackQuestions,i=e.solutionUrl,a=(0,x.$)()[0],s=(0,l.useState)((null==o?void 0:o.map((function(e){if("text"===e.kind)return pn(pn({},e),{kind:"text",value:""});var t=e.kind.match(/intrange\[(-?[0-9]+)\.\.(-?[0-9]+)\]/);if(t&&t[0]===e.kind){var n=parseInt(t[1]),r=parseInt(t[2]);return pn(pn({},e),{kind:"intrange",value:n-1,min:n,max:r})}return pn(pn({},e),{kind:"other",value:-1})})))||[]),c=s[0],u=s[1],d=function(e,t){u((function(n){return n.map((function(n){return n.id!==e?n:pn(pn({},n),{value:t})}))}))},p=function(){return c.filter((function(e){return"intrange"===e.kind&&e.value>=e.min||"text"===e.kind&&""!==e.value.toString().trim()}))},f=function(){return o&&o.length>0};return l.createElement(cn,null,l.createElement(mn,null,l.createElement(hn,null,a("feedbackTitle"),l.createElement(bn,{onClick:r},"×")),(null==t?void 0:t.length)&&t.length>0&&l.createElement(vn,null,a("pointsAwarded"),": ",null==t?void 0:t.map((function(e){return l.createElement(yn,{key:e,label:e,variant:"outlined"})})))),f()&&l.createElement(Et.Z,{container:!0,direction:"column"},l.createElement(xn,null,a("pleaseGiveFeedback")),l.createElement(fn,null,l.createElement("form",{id:"feedback-form",onSubmit:function(e){e.preventDefault(),n(p().map((function(e){return{questionId:e.id,answer:e.value}}))),u([])}},c.map((function(e){switch(e.kind){case"intrange":for(var t=[{value:e.min-1,label:"-"}],n=e.min;n<=e.max;n++)t.push({value:n,label:n.toString()});return l.createElement(Cn,{key:e.id},l.createElement(Zt.Z,{gutterBottom:!0},e.question),l.createElement(nn,{defaultValue:e.min-1,valueLabelFormat:function(t){return t<e.min?null:t},"aria-labelledby":"discrete-slider-custom",step:1,marks:t,min:e.min-1,max:e.max,valueLabelDisplay:"auto",onChange:function(t,n){return d(e.id,n)},style:{width:"100%"}}));case"text":return l.createElement(Cn,{key:e.id},l.createElement(Zt.Z,{gutterBottom:!0},e.question),l.createElement(rn.Z,{"data-cy":"feedback-text",rowsMin:5,rowsMax:10,style:{width:"100%"},onChange:function(t){return d(e.id,t.target.value)}}));default:return null}}))))),l.createElement(gn,null,f()&&l.createElement(wn,{form:"feedback-form",disabled:p().length<=0,"data-cy":"yes-feedback",type:"submit"},a("button.send")),l.createElement(wn,{onClick:r,"data-cy":"no-feedback"},f()?a("dontSend"):a("button.close")),i&&l.createElement(wn,{onClick:function(){window.open(i,"_blank")},style:{float:"right"}},a("viewModelSolution"))))},En=atob("LyogZXNsaW50LWVudiB3b3JrZXIgKi8KCnNlbGYuaW1wb3J0U2NyaXB0cygiaHR0cHM6Ly9kb3dubG9hZC5tb29jLmZpL3B5b2RpZGUtY2RuL3YwLjE3LjAvcHlvZGlkZS5qcyIpCi8qIGdsb2JhbCBsb2FkUHlvZGlkZSwgcHlvZGlkZSAqLwoKYXN5bmMgZnVuY3Rpb24gbG9hZFB5b2RpZGVBbmRQYWNrYWdlcygpIHsKICBhd2FpdCBsb2FkUHlvZGlkZSh7CiAgICBpbmRleFVSTDogImh0dHBzOi8vZG93bmxvYWQubW9vYy5maS9weW9kaWRlLWNkbi92MC4xNy4wLyIsCiAgfSkKfQpsZXQgcHlvZGlkZVJlYWR5UHJvbWlzZSA9IGxvYWRQeW9kaWRlQW5kUGFja2FnZXMoKQoKbGV0IHByaW50QnVmZmVyID0gW10KbGV0IGludGVydmFsSWQgPSBudWxsCmNvbnN0IGJhdGNoU2l6ZSA9IDUwCmxldCBydW5uaW5nID0gZmFsc2UKCi8qKgogKiBwcmludEJ1ZmZlciBzaG91bGQgb25seSBjb250YWluIHN0cmluZ3MsIGlmIGFuIG9iamVjdCBpcyBlbmNvdW50ZXJlZCBpdCdzIGFuIGlucHV0IHJlcXVlc3QKICogQHJldHVybnMgVGhlIGxhc3QgZWxlbWVudCwgaS5lLiBpbnB1dCByZXF1ZXN0IGZyb20gcHJpbnRCdWZmZXIKICovCmNvbnN0IGNoZWNrRm9ySW5wdXRNZXNzYWdlID0gKCkgPT4gewogIGxldCBtc2dPYmplY3QgPSBudWxsCiAgaWYgKHR5cGVvZiBwcmludEJ1ZmZlcltwcmludEJ1ZmZlci5sZW5ndGggLSAxXSA9PT0gIm9iamVjdCIpIHsKICAgIG1zZ09iamVjdCA9IHByaW50QnVmZmVyLnBvcCgpCiAgfQogIHJldHVybiBtc2dPYmplY3QKfQoKY29uc3QgcHJpbnRCdWZmZXJNYW5hZ2VyID0gKHJ1bkluSW50ZXJ2YWxzKSA9PiB7CiAgaWYgKGludGVydmFsSWQpIHsKICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCkKICB9CiAgaWYgKHJ1bkluSW50ZXJ2YWxzKSB7CiAgICBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICBpZiAocHJpbnRCdWZmZXIubGVuZ3RoID4gMCkgewogICAgICAgIGxldCBpbnB1dE9iamVjdCA9IG51bGwKICAgICAgICAvLyBDb2RlIGhhbHRzIGF0IGlucHV0LCBpZiBpbnB1dCByZXF1ZXN0ZWQsIGl0J3MgdGhlIGxhc3QgZWxlbWVudCBpbiB0aGUgYnVmZmVyLgogICAgICAgIGlmIChwcmludEJ1ZmZlci5sZW5ndGggPD0gYmF0Y2hTaXplKSB7CiAgICAgICAgICBpbnB1dE9iamVjdCA9IGNoZWNrRm9ySW5wdXRNZXNzYWdlKCkKICAgICAgICB9CiAgICAgICAgY29uc3QgYmF0Y2ggPSBwcmludEJ1ZmZlci5zcGxpY2UoMCwgYmF0Y2hTaXplKQogICAgICAgIHBvc3RNZXNzYWdlKHsgdHlwZTogInByaW50X2JhdGNoIiwgbXNnOiBiYXRjaCB9KQogICAgICAgIGlmIChpbnB1dE9iamVjdCkgcG9zdE1lc3NhZ2UoaW5wdXRPYmplY3QpCiAgICAgIH0KICAgICAgaWYgKCFydW5uaW5nICYmIHByaW50QnVmZmVyLmxlbmd0aCA9PT0gMCkgewogICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCkKICAgICAgICBwb3N0TWVzc2FnZSh7IHR5cGU6ICJwcmludF9kb25lIiB9KQogICAgICB9CiAgICB9LCAxMDApCiAgfQp9CgpsZXQgcHJldkRhdGUgPSBudWxsCi8qKgogKiBQeXRob24gcHJpbnQgYWxpYXMgd2hlbiBydW5uaW5nIHdpdGggUHlvZGlkZS4gaW5jbHVkZSBsaW5lcwogKiBgZnJvbSBqcyBpbXBvcnQgcHJpbnRgIGFuZCBgX19idWlsdGluc19fLnByaW50ID0gcHJpbnRgIHRvIHVzZS4KICovCnNlbGYucHJpbnQgPSBmdW5jdGlvbiAoLi4uYXJncykgewogIGxldCBrd2FyZ3MgPSB7fQogIGlmICh0eXBlb2YgYXJnc1thcmdzLmxlbmd0aCAtIDFdID09PSAib2JqZWN0IikgewogICAga3dhcmdzID0gYXJncy5wb3AoKQogIH0KICBjb25zdCB0ZXh0ID0gYXJncy5qb2luKGt3YXJncz8uc2VwID8/ICIgIikgKyAoa3dhcmdzPy5lbmQgPz8gIlxuIikKICBwcmludEJ1ZmZlci5wdXNoKHRleHQpCgogIC8vIElmIGNvZGUgaXMgaW4gbG9vcCwgaW50ZXJ2YWxNYW5hZ2VyIGRvZXNuJ3QgcHJpbnQgYmF0Y2hlcyg/KQogIC8vIFRoaXMgYmVsb3cgbWFrZXMgc3VyZSB0aGVyZSBhcmUgcHJpbnRzIGRvbmUuCiAgY29uc3QgbmV3RGF0ZSA9IERhdGUubm93KCkKICBpZiAobmV3RGF0ZSAtIHByZXZEYXRlID4gNTApIHsKICAgIHBvc3RNZXNzYWdlKHsKICAgICAgdHlwZTogInByaW50X2JhdGNoIiwKICAgICAgbXNnOiBwcmludEJ1ZmZlci5zcGxpY2UoMCwgYmF0Y2hTaXplKSwKICAgIH0pCiAgICBwcmV2RGF0ZSA9IG5ld0RhdGUKICB9Cn0KCnNlbGYucHJpbnRFcnJvciA9IGZ1bmN0aW9uICguLi5hcmdzKSB7CiAgbGV0IGt3YXJncyA9IHt9CiAgaWYgKHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPT09ICJvYmplY3QiKSB7CiAgICBrd2FyZ3MgPSBhcmdzLnBvcCgpCiAgfQogIGNvbnN0IHRleHQgPSBhcmdzLmpvaW4oa3dhcmdzPy5zZXAgPz8gIiAiKSArIChrd2FyZ3M/LmVuZCA/PyAiXG4iKQogIHBvc3RNZXNzYWdlKHsKICAgIHR5cGU6ICJlcnJvciIsCiAgICBtc2c6IGZpeExpbmVOdW1iZXJPZmZzZXQodGV4dCksCiAgfSkKfQoKc2VsZi5pbnB1dFByb21pc2UgPSAoKSA9PiB7CiAgcHJpbnRCdWZmZXIucHVzaCh7IHR5cGU6ICJpbnB1dF9yZXF1aXJlZCIgfSkKICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcigKICAgICAgIm1lc3NhZ2UiLAogICAgICBmdW5jdGlvbiAoZSkgewogICAgICAgIGlmIChlLmRhdGEudHlwZSA9PT0gImlucHV0IikgewogICAgICAgICAgcmVzb2x2ZShlLmRhdGEubXNnKQogICAgICAgIH0KICAgICAgfSwKICAgICAgeyBvbmNlOiB0cnVlIH0sCiAgICApCiAgfSkKfQoKc2VsZi53YWl0ID0gZnVuY3Rpb24gKG1zKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXMpID0+IHNldFRpbWVvdXQocmVzLCBtcykpCn0KCnNlbGYuZXhpdCA9IGZ1bmN0aW9uICgpIHsKICBwb3N0TWVzc2FnZSh7IHR5cGU6ICJyZWFkeSIgfSkKICBydW5uaW5nID0gZmFsc2UKfQoKZnVuY3Rpb24gcnVuKHsgY29kZSwgZGVidWcgfSkgewogIGNvZGUgPSBgXAphc3luYyBkZWYgZXhlY3V0ZSgpOgogICAgX19uYW1lX18gPSAiX19tYWluX18iCiR7Y29kZQogIC5yZXBsYWNlKC9cXC9nLCAiXFxcXCIpCiAgLnJlcGxhY2UoLyIiIi9nLCAnXFwiXFwiXFwiJykKICAuc3BsaXQoIlxuIikKICAubWFwKCh4KSA9PiBgICAgICR7eH1gKQogIC5qb2luKCJcbiIpfQogICAgcGFzcyAjIFN5bnRheEVycm9yOiBFT0YgLSBNaXNzaW5nIGVuZCBwYXJlbnRoZXNlcyBhdCBlbmQgb2YgY29kZT8KCmltcG9ydCBhc3luY2lvCmZyb20ganMgaW1wb3J0IGV4aXQsIGlucHV0UHJvbWlzZSwgcHJpbnQsIHByaW50RXJyb3IsIHdhaXQKaW1wb3J0IHRyYWNlYmFjawoKYXN5bmMgZGVmIGlucHV0KHByb21wdD1Ob25lKToKICAgIGlmIHByb21wdDoKICAgICAgICBwcmludChwcm9tcHQsIGVuZD0iIikKICAgIHJldHVybiBhd2FpdCBpbnB1dFByb21pc2UoKQoKYXN5bmMgZGVmIHdyYXBfZXhlY3V0aW9uKCk6CiAgdHJ5OgogICAgICBhd2FpdCBleGVjdXRlKCkKICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgIHRiID0gdHJhY2ViYWNrLmZvcm1hdF9leGMoKQogICAgICBwcmludEVycm9yKHRiKQogIGV4aXQoKQoKYXN5bmNpby5jcmVhdGVfdGFzayh3cmFwX2V4ZWN1dGlvbigpKQpgCgogIGNvbnN0IHBhcnNlZENvZGUgPSBgCmltcG9ydCBhc3QKaW1wb3J0IHJlCgpjbGFzcyBQYXRjaENvZGUoYXN0Lk5vZGVUcmFuc2Zvcm1lcik6CiAgICBkZWYgZ2VuZXJpY192aXNpdChzZWxmLCBub2RlKToKICAgICAgc3VwZXIoKS5nZW5lcmljX3Zpc2l0KG5vZGUpCgogICAgICAjIFB5dGhvbiAzLjggaGlnaGVyIGFsbCBpcyBhc3QuQ29uc3RhbnQKICAgICAgaWYgaXNpbnN0YW5jZShub2RlLCBhc3QuQ29uc3RhbnQpIGFuZCBpc2luc3RhbmNlKG5vZGUudmFsdWUsIHN0cik6CiAgICAgICAgcmVtb3ZlX3BhZGRpbmcgPSByZS5zdWIoJ1tcXG5dICAgICcsICdcXG4nLCBub2RlLnZhbHVlKQogICAgICAgIHJlc3VsdCA9IGFzdC5Db25zdGFudChyZW1vdmVfcGFkZGluZykKICAgICAgICByZXR1cm4gYXN0LmNvcHlfbG9jYXRpb24ocmVzdWx0LCBub2RlKQogICAgICAjIFB5dGhvbiB2ZXIgMy44IGxvd2VyIGFzdC5TdHIgaXMgdXNlZAogICAgICBpZiBpc2luc3RhbmNlKG5vZGUsIGFzdC5TdHIpOgogICAgICAgIHJlbW92ZV9wYWRkaW5nID0gcmUuc3ViKCdbXFxuXSAgICAnLCAnXFxuJywgbm9kZS5zKQogICAgICAgIHJlc3VsdCA9IGFzdC5Db25zdGFudChyZW1vdmVfcGFkZGluZykKICAgICAgICByZXR1cm4gYXN0LmNvcHlfbG9jYXRpb24ocmVzdWx0LCBub2RlKQoKICAgICAgaW5wdXRfY29uZGl0aW9ucyA9ICgKICAgICAgICBpc2luc3RhbmNlKG5vZGUsIGFzdC5DYWxsKQogICAgICAgIGFuZCBpc2luc3RhbmNlKG5vZGUuZnVuYywgYXN0Lk5hbWUpCiAgICAgICAgYW5kIG5vZGUuZnVuYy5pZCA9PSAnaW5wdXQnCiAgICAgICkKICAgICAgaWYgaW5wdXRfY29uZGl0aW9uczoKICAgICAgICByZXN1bHQgPSBhc3QuQXdhaXQobm9kZSkKICAgICAgICByZXR1cm4gYXN0LmNvcHlfbG9jYXRpb24ocmVzdWx0LCBub2RlKQoKICAgICAgcmV0dXJuIG5vZGUKCnRyZWUgPSBhc3QucGFyc2UoIiIiJHtjb2RlfSIiIikKb3B0aW1pemVyID0gUGF0Y2hDb2RlKCkKdHJlZSA9IG9wdGltaXplci52aXNpdCh0cmVlKQpjb2RlID0gY29tcGlsZSh0cmVlLCAiPHN0cmluZz4iLCAiZXhlYyIpCmV4ZWMoY29kZSkKYAogIGlmIChkZWJ1ZykgewogICAgY29uc29sZS5sb2cocGFyc2VkQ29kZSkKICB9CiAgcHlvZGlkZVJlYWR5UHJvbWlzZQogICAgLnRoZW4oYXN5bmMgKCkgPT4gewogICAgICB0cnkgewogICAgICAgIHBvc3RNZXNzYWdlKHsgdHlwZTogInN0YXJ0X3J1biIgfSkKICAgICAgICBhd2FpdCBweW9kaWRlLnJ1blB5dGhvbkFzeW5jKHBhcnNlZENvZGUpCiAgICAgICAgaWYgKGRlYnVnKSBjb25zb2xlLmxvZygicnVubmluZyBweW9kaWRlIGNvbXBsZXRlZCIpCiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBwcmludEJ1ZmZlciA9IFtdCiAgICAgICAgcHJpbnRCdWZmZXIucHVzaCh7CiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgbXNnOiBmaXhMaW5lTnVtYmVyT2Zmc2V0KGUudG9TdHJpbmcoKSksCiAgICAgICAgfSkKICAgICAgICBzZWxmLmV4aXQoKQogICAgICB9CiAgICB9KQogICAgLmNhdGNoKChlKSA9PiB7CiAgICAgIHByaW50QnVmZmVyID0gW10KICAgICAgcHJpbnRCdWZmZXIucHVzaCh7CiAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICBtc2c6IGZpeExpbmVOdW1iZXJPZmZzZXQoZS50b1N0cmluZygpKSwKICAgICAgfSkKICAgICAgc2VsZi5leGl0KCkKICAgIH0pCn0KCmZ1bmN0aW9uIGxpbmVPZmZzZXRSZXBsYWNlcihtLCBudW1iZXIsIG8sIHMpIHsKICByZXR1cm4gImxpbmUgIiArIChwYXJzZUludChudW1iZXIpIC0gMikudG9TdHJpbmcoKQp9CgpmdW5jdGlvbiBmaXhMaW5lTnVtYmVyT2Zmc2V0KG1zZykgewogIHJldHVybiBtc2cucmVwbGFjZSgvbGluZVxzKFxkKykvZywgbGluZU9mZnNldFJlcGxhY2VyKQp9CgpmdW5jdGlvbiB0ZXN0KHsgY29kZSwgZGVidWcgfSkgewogIGlmIChkZWJ1ZykgewogICAgY29uc29sZS5sb2coY29kZSkKICB9CiAgcHlvZGlkZVJlYWR5UHJvbWlzZQogICAgLnRoZW4oYXN5bmMgKCkgPT4gewogICAgICB0cnkgewogICAgICAgIHBvc3RNZXNzYWdlKHsgdHlwZTogInN0YXJ0X3Rlc3QiIH0pCiAgICAgICAgYXdhaXQgcHlvZGlkZS5ydW5QeXRob25Bc3luYyhjb2RlKQogICAgICAgIGlmIChkZWJ1ZykgY29uc29sZS5sb2coInJ1bm5pbmcgcHlvZGlkZSBjb21wbGV0ZWQiKQogICAgICAgIHBvc3RNZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICJ0ZXN0X3Jlc3VsdHMiLAogICAgICAgICAgbXNnOiBKU09OLnBhcnNlKHB5b2RpZGUuZ2xvYmFscy5nZXQoInRlc3RPdXRwdXQiKSksCiAgICAgICAgfSkKICAgICAgICBwb3N0TWVzc2FnZSh7IHR5cGU6ICJyZWFkeSIgfSkKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHByaW50QnVmZmVyID0gW10KICAgICAgICBwcmludEJ1ZmZlci5wdXNoKHsgdHlwZTogImVycm9yIiwgbXNnOiBlLnRvU3RyaW5nKCkgfSkKICAgICAgfQogICAgfSkKICAgIC5jYXRjaCgoZSkgPT4gewogICAgICBwcmludEJ1ZmZlciA9IFtdCiAgICAgIHByaW50QnVmZmVyLnB1c2goeyB0eXBlOiAiZXJyb3IiLCBtc2c6IGUudG9TdHJpbmcoKSB9KQogICAgfSkKICAgIC5maW5hbGx5KCgpID0+IChydW5uaW5nID0gZmFsc2UpKQp9CgpzZWxmLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7CiAgY29uc3QgeyB0eXBlLCBtc2cgfSA9IGUuZGF0YQogIGlmICh0eXBlID09PSAicnVuIikgewogICAgcHJpbnRCdWZmZXJNYW5hZ2VyKHRydWUpCiAgICBydW5uaW5nID0gdHJ1ZQogICAgcHJpbnRCdWZmZXIgPSBbXQogICAgcnVuKG1zZykKICB9IGVsc2UgaWYgKHR5cGUgPT09ICJzdG9wIikgewogICAgcHJpbnRCdWZmZXJNYW5hZ2VyKGZhbHNlKQogIH0gZWxzZSBpZiAodHlwZSA9PT0gInJ1bl90ZXN0cyIpIHsKICAgIHByaW50QnVmZmVyTWFuYWdlcih0cnVlKQogICAgcnVubmluZyA9IHRydWUKICAgIHByaW50QnVmZmVyID0gW10KICAgIC8vY29uc29sZS5sb2cobXNnKQogICAgdGVzdChtc2cpCiAgfQp9Cg=="),Zn={fullName:"",shortName:"",originalContent:"",content:""},kn='# No ProgrammingExercise has been loaded.\n# This is the default file main.py\n\nfrom .utils import greeting, getLocality\n\ndef greetWorld():\n  print(greeting(getLocality()))\n\ndef foo():\n  print("foo!")\n',An="# No ProgrammingExercise has been loaded.\n# This is the default file test.py\n\nfrom .main import greetWorld\n\ngreetWorld()\n",Sn='# No ProgrammingExercise has been loaded.\n# This is the default file utils.py\n\n# Mutually recursive imports are disallowed.\n# Try uncommenting the line below!\n#from .main import foo\n\ndef greeting(recipient):\n  return "Hello " + recipient + "!"\n\ndef getLocality():\n  return "world"\n',Tn=[{fullName:"main.py",shortName:"main.py",originalContent:kn,content:kn},{fullName:"utils.py",shortName:"utils.py",originalContent:Sn,content:Sn},{fullName:"test.py",shortName:"test.py",originalContent:An,content:An}],Pn=URL.createObjectURL(new Blob([En],{type:"application/javascript"}));console.log("Creating first worker");var Bn,On,Nn=[new Worker(Pn)],Rn=function(e){var t=e.debug,n=(0,l.useState)(),r=n[0],o=n[1],i=(0,l.useState)([]),a=i[0],s=i[1];return(0,l.useEffect)((function(){r&&(a.forEach((function(e){return r.postMessage(e)})),s([]))}),[r]),[{setMessageListener:function(e){r&&(r.onmessage=e)},postMessage:function(e){r?r.postMessage(e):(s((function(t){return t.concat(e)})),function(){t&&console.log("Workerpool length is",Nn.length);var e=Nn.pop();0===Nn.length?(t&&console.log("Creating another worker"),Nn.push(new Worker(Pn))):t&&console.log("Returning worker without creating new"),o(e)}())},recycle:function(){r&&(Nn.push(r),t&&console.log("Recycling worker, pool size:",Nn.length)),o(void 0)},terminate:function(){t&&console.log("Terminating worker"),r&&(r.onmessage=null,r.terminate(),o(void 0))}}]},Wn=n(88014),jn=n(77606),Fn=n(1097),Gn=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Hn=s.ZP.div(Bn||(Bn=Gn(["\n  white-space: pre-wrap;\n"],["\n  white-space: pre-wrap;\n"]))),Ln=s.ZP.span(On||(On=Gn(["\n  background-color: #efefef;\n  border-radius: 3px 3px 3px 3px;\n  color: #292929;\n  margin: 3px;\n  padding: 3px;\n"],["\n  background-color: #efefef;\n  border-radius: 3px 3px 3px 3px;\n  color: #292929;\n  margin: 3px;\n  padding: 3px;\n"]))),Mn=function(e){var t=e.inputRequested,n=e.outputContent,r=e.scrollToBottom,o=e.sendInput,i=(0,x.$)()[0],a=l.createRef();(0,l.useEffect)((function(){var e;r(),t&&(null===(e=null==a?void 0:a.current)||void 0===e||e.focus())}),[t,n]);return l.createElement(Hn,null,l.createElement("pre",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"}},n.map((function(e){switch(e.type){case"input":return l.createElement(Ln,{key:e.id},e.text);default:return l.createElement(l.Fragment,{key:e.id},e.text)}}))),t&&l.createElement(Fn.Z,{inputRef:a,label:i("enterInputAndPressEnter"),margin:"dense",variant:"outlined",InputLabelProps:{shrink:!0},onKeyPress:function(e){"Enter"===e.key&&t&&o(e.target.value)},style:{display:"block"},"data-cy":"user-input-field"}))},Kn=n(47643),Vn="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,Dn=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(Vn&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var Xn=Vn&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),Dn))}};function Yn(e){return e&&"[object Function]"==={}.toString.call(e)}function zn(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function Un(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function Jn(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=zn(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?e:Jn(Un(e))}function _n(e){return e&&e.referenceNode?e.referenceNode:e}var Qn=Vn&&!(!window.MSInputMethodContext||!document.documentMode),$n=Vn&&/MSIE 10/.test(navigator.userAgent);function qn(e){return 11===e?Qn:10===e?$n:Qn||$n}function er(e){if(!e)return document.documentElement;for(var t=qn(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===zn(n,"position")?er(n):n:e?e.ownerDocument.documentElement:document.documentElement}function tr(e){return null!==e.parentNode?tr(e.parentNode):e}function nr(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var a,l,s=i.commonAncestorContainer;if(e!==s&&t!==s||r.contains(o))return"BODY"===(l=(a=s).nodeName)||"HTML"!==l&&er(a.firstElementChild)!==a?er(s):s;var c=tr(e);return c.host?nr(c.host,t):nr(e,tr(t).host)}function rr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var o=e.ownerDocument.documentElement,i=e.ownerDocument.scrollingElement||o;return i[n]}return e[n]}function or(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=rr(t,"top"),o=rr(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=o*i,e.right+=o*i,e}function ir(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function ar(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],qn(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function lr(e){var t=e.body,n=e.documentElement,r=qn(10)&&getComputedStyle(n);return{height:ar("Height",t,n,r),width:ar("Width",t,n,r)}}var sr=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},cr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ur=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function pr(e){return dr({},e,{right:e.left+e.width,bottom:e.top+e.height})}function fr(e){var t={};try{if(qn(10)){t=e.getBoundingClientRect();var n=rr(e,"top"),r=rr(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(d){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?lr(e.ownerDocument):{},a=i.width||e.clientWidth||o.width,l=i.height||e.clientHeight||o.height,s=e.offsetWidth-a,c=e.offsetHeight-l;if(s||c){var u=zn(e);s-=ir(u,"x"),c-=ir(u,"y"),o.width-=s,o.height-=c}return pr(o)}function mr(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=qn(10),o="HTML"===t.nodeName,i=fr(e),a=fr(t),l=Jn(e),s=zn(t),c=parseFloat(s.borderTopWidth),u=parseFloat(s.borderLeftWidth);n&&o&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=pr({top:i.top-a.top-c,left:i.left-a.left-u,width:i.width,height:i.height});if(d.marginTop=0,d.marginLeft=0,!r&&o){var p=parseFloat(s.marginTop),f=parseFloat(s.marginLeft);d.top-=c-p,d.bottom-=c-p,d.left-=u-f,d.right-=u-f,d.marginTop=p,d.marginLeft=f}return(r&&!n?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(d=or(d,t)),d}function gr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=mr(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:rr(n),l=t?0:rr(n,"left"),s={top:a-r.top+r.marginTop,left:l-r.left+r.marginLeft,width:o,height:i};return pr(s)}function hr(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===zn(e,"position"))return!0;var n=Un(e);return!!n&&hr(n)}function br(e){if(!e||!e.parentElement||qn())return document.documentElement;for(var t=e.parentElement;t&&"none"===zn(t,"transform");)t=t.parentElement;return t||document.documentElement}function vr(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},a=o?br(e):nr(e,_n(t));if("viewport"===r)i=gr(a,o);else{var l=void 0;"scrollParent"===r?"BODY"===(l=Jn(Un(t))).nodeName&&(l=e.ownerDocument.documentElement):l="window"===r?e.ownerDocument.documentElement:r;var s=mr(l,a,o);if("HTML"!==l.nodeName||hr(a))i=s;else{var c=lr(e.ownerDocument),u=c.height,d=c.width;i.top+=s.top-s.marginTop,i.bottom=u+s.top,i.left+=s.left-s.marginLeft,i.right=d+s.left}}var p="number"==typeof(n=n||0);return i.left+=p?n:n.left||0,i.top+=p?n:n.top||0,i.right-=p?n:n.right||0,i.bottom-=p?n:n.bottom||0,i}function yr(e){return e.width*e.height}function wr(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=vr(n,r,i,o),l={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},s=Object.keys(l).map((function(e){return dr({key:e},l[e],{area:yr(l[e])})})).sort((function(e,t){return t.area-e.area})),c=s.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),u=c.length>0?c[0].key:s[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function Cr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=r?br(t):nr(t,_n(n));return mr(n,o,r)}function xr(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function Ir(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function Er(e,t,n){n=n.split("-")[0];var r=xr(e),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",l=i?"left":"top",s=i?"height":"width",c=i?"width":"height";return o[a]=t[a]+t[s]/2-r[s]/2,o[l]=n===l?t[l]-r[c]:t[Ir(l)],o}function Zr(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function kr(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=Zr(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&Yn(n)&&(t.offsets.popper=pr(t.offsets.popper),t.offsets.reference=pr(t.offsets.reference),t=n(t,e))})),t}function Ar(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=Cr(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=wr(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=Er(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=kr(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function Sr(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function Tr(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],i=o?""+o+n:e;if(void 0!==document.body.style[i])return i}return null}function Pr(){return this.state.isDestroyed=!0,Sr(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Tr("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Br(e){var t=e.ownerDocument;return t?t.defaultView:window}function Or(e,t,n,r){var o="BODY"===e.nodeName,i=o?e.ownerDocument.defaultView:e;i.addEventListener(t,n,{passive:!0}),o||Or(Jn(i.parentNode),t,n,r),r.push(i)}function Nr(e,t,n,r){n.updateBound=r,Br(e).addEventListener("resize",n.updateBound,{passive:!0});var o=Jn(e);return Or(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function Rr(){this.state.eventsEnabled||(this.state=Nr(this.reference,this.options,this.state,this.scheduleUpdate))}function Wr(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Br(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function jr(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Fr(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&jr(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var Gr=Vn&&/Firefox/i.test(navigator.userAgent);function Hr(e,t,n){var r=Zr(e,(function(e){return e.name===t})),o=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!o){var i="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}var Lr=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Mr=Lr.slice(3);function Kr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Mr.indexOf(e),r=Mr.slice(n+1).concat(Mr.slice(0,n));return t?r.reverse():r}var Vr="flip",Dr="clockwise",Xr="counterclockwise";function Yr(e,t,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),l=a.indexOf(Zr(a,(function(e){return-1!==e.search(/,|\s/)})));a[l]&&-1===a[l].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var s=/\s*,\s*|\s+/,c=-1!==l?[a.slice(0,l).concat([a[l].split(s)[0]]),[a[l].split(s)[1]].concat(a.slice(l+1))]:[a];return(c=c.map((function(e,r){var o=(1===r?!i:i)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return e;if(0===a.indexOf("%")){var l=void 0;switch(a){case"%p":l=n;break;case"%":case"%r":default:l=r}return pr(l)[t]/100*i}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i;return i}(e,o,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){jr(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))}))})),o}var zr={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,i=o.reference,a=o.popper,l=-1!==["bottom","top"].indexOf(n),s=l?"left":"top",c=l?"width":"height",u={start:ur({},s,i[s]),end:ur({},s,i[s]+i[c]-a[c])};e.offsets.popper=dr({},a,u[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,o=e.offsets,i=o.popper,a=o.reference,l=r.split("-")[0],s=void 0;return s=jr(+n)?[+n,0]:Yr(n,i,a,l),"left"===l?(i.top+=s[0],i.left-=s[1]):"right"===l?(i.top+=s[0],i.left+=s[1]):"top"===l?(i.left+=s[0],i.top-=s[1]):"bottom"===l&&(i.left+=s[0],i.top+=s[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||er(e.instance.popper);e.instance.reference===n&&(n=er(n));var r=Tr("transform"),o=e.instance.popper.style,i=o.top,a=o.left,l=o[r];o.top="",o.left="",o[r]="";var s=vr(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=i,o.left=a,o[r]=l,t.boundaries=s;var c=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<s[e]&&!t.escapeWithReference&&(n=Math.max(u[e],s[e])),ur({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=u[n];return u[e]>s[e]&&!t.escapeWithReference&&(r=Math.min(u[n],s[e]-("right"===e?u.width:u.height))),ur({},n,r)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=dr({},u,d[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),l=a?"right":"bottom",s=a?"left":"top",c=a?"width":"height";return n[l]<i(r[s])&&(e.offsets.popper[s]=i(r[s])-n[c]),n[s]>i(r[l])&&(e.offsets.popper[s]=i(r[l])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Hr(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],i=e.offsets,a=i.popper,l=i.reference,s=-1!==["left","right"].indexOf(o),c=s?"height":"width",u=s?"Top":"Left",d=u.toLowerCase(),p=s?"left":"top",f=s?"bottom":"right",m=xr(r)[c];l[f]-m<a[d]&&(e.offsets.popper[d]-=a[d]-(l[f]-m)),l[d]+m>a[f]&&(e.offsets.popper[d]+=l[d]+m-a[f]),e.offsets.popper=pr(e.offsets.popper);var g=l[d]+l[c]/2-m/2,h=zn(e.instance.popper),b=parseFloat(h["margin"+u]),v=parseFloat(h["border"+u+"Width"]),y=g-e.offsets.popper[d]-b-v;return y=Math.max(Math.min(a[c]-m,y),0),e.arrowElement=r,e.offsets.arrow=(ur(n={},d,Math.round(y)),ur(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(Sr(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=vr(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=Ir(r),i=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case Vr:a=[r,o];break;case Dr:a=Kr(r);break;case Xr:a=Kr(r,!0);break;default:a=t.behavior}return a.forEach((function(l,s){if(r!==l||a.length===s+1)return e;r=e.placement.split("-")[0],o=Ir(r);var c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,p="left"===r&&d(c.right)>d(u.left)||"right"===r&&d(c.left)<d(u.right)||"top"===r&&d(c.bottom)>d(u.top)||"bottom"===r&&d(c.top)<d(u.bottom),f=d(c.left)<d(n.left),m=d(c.right)>d(n.right),g=d(c.top)<d(n.top),h=d(c.bottom)>d(n.bottom),b="left"===r&&f||"right"===r&&m||"top"===r&&g||"bottom"===r&&h,v=-1!==["top","bottom"].indexOf(r),y=!!t.flipVariations&&(v&&"start"===i&&f||v&&"end"===i&&m||!v&&"start"===i&&g||!v&&"end"===i&&h),w=!!t.flipVariationsByContent&&(v&&"start"===i&&m||v&&"end"===i&&f||!v&&"start"===i&&h||!v&&"end"===i&&g),C=y||w;(p||b||C)&&(e.flipped=!0,(p||b)&&(r=a[s+1]),C&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=dr({},e.offsets.popper,Er(e.instance.popper,e.offsets.reference,e.placement)),e=kr(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,i=r.reference,a=-1!==["left","right"].indexOf(n),l=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=i[n]-(l?o[a?"width":"height"]:0),e.placement=Ir(t),e.offsets.popper=pr(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Hr(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=Zr(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,o=e.offsets.popper,i=Zr(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:t.gpuAcceleration,l=er(e.instance.popper),s=fr(l),c={position:o.position},u=function(e,t){var n=e.offsets,r=n.popper,o=n.reference,i=Math.round,a=Math.floor,l=function(e){return e},s=i(o.width),c=i(r.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),p=t?u||d||s%2==c%2?i:a:l,f=t?i:l;return{left:p(s%2==1&&c%2==1&&!d&&t?r.left-1:r.left),top:f(r.top),bottom:f(r.bottom),right:p(r.right)}}(e,window.devicePixelRatio<2||!Gr),d="bottom"===n?"top":"bottom",p="right"===r?"left":"right",f=Tr("transform"),m=void 0,g=void 0;if(g="bottom"===d?"HTML"===l.nodeName?-l.clientHeight+u.bottom:-s.height+u.bottom:u.top,m="right"===p?"HTML"===l.nodeName?-l.clientWidth+u.right:-s.width+u.right:u.left,a&&f)c[f]="translate3d("+m+"px, "+g+"px, 0)",c[d]=0,c[p]=0,c.willChange="transform";else{var h="bottom"===d?-1:1,b="right"===p?-1:1;c[d]=g*h,c[p]=m*b,c.willChange=d+", "+p}var v={"x-placement":e.placement};return e.attributes=dr({},v,e.attributes),e.styles=dr({},c,e.styles),e.arrowStyles=dr({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return Fr(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&Fr(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,o){var i=Cr(o,t,e,n.positionFixed),a=wr(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),Fr(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},Ur=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};sr(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=Xn(this.update.bind(this)),this.options=dr({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(dr({},e.Defaults.modifiers,o.modifiers)).forEach((function(t){r.options.modifiers[t]=dr({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return dr({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&Yn(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return cr(e,[{key:"update",value:function(){return Ar.call(this)}},{key:"destroy",value:function(){return Pr.call(this)}},{key:"enableEventListeners",value:function(){return Rr.call(this)}},{key:"disableEventListeners",value:function(){return Wr.call(this)}}]),e}();Ur.Utils=("undefined"!=typeof window?window:n.g).PopperUtils,Ur.placements=Lr,Ur.Defaults=zr;var Jr=Ur,_r=n(4427),Qr=n(8590),$r=n(71474);function qr(e){return"function"==typeof e?e():e}var eo="undefined"!=typeof window?l.useLayoutEffect:l.useEffect,to={},no=l.forwardRef((function(e,t){var n=e.anchorEl,r=e.children,o=e.container,i=e.disablePortal,a=void 0!==i&&i,s=e.keepMounted,c=void 0!==s&&s,u=e.modifiers,d=e.open,p=e.placement,f=void 0===p?"bottom":p,m=e.popperOptions,g=void 0===m?to:m,h=e.popperRef,b=e.style,v=e.transition,y=void 0!==v&&v,w=(0,T.Z)(e,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),C=l.useRef(null),x=(0,F.Z)(C,t),I=l.useRef(null),E=(0,F.Z)(I,h),Z=l.useRef(E);eo((function(){Z.current=E}),[E]),l.useImperativeHandle(h,(function(){return I.current}),[]);var k=l.useState(!0),A=k[0],S=k[1],P=function(e,t){if("ltr"===(t&&t.direction||"ltr"))return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(f,(0,_r.Z)()),O=l.useState(P),N=O[0],R=O[1];l.useEffect((function(){I.current&&I.current.update()}));var W=l.useCallback((function(){if(C.current&&n&&d){I.current&&(I.current.destroy(),Z.current(null));var e=function(e){R(e.placement)},t=(qr(n),new Jr(qr(n),C.current,(0,B.Z)({placement:P},g,{modifiers:(0,B.Z)({},a?{}:{preventOverflow:{boundariesElement:"window"}},u,g.modifiers),onCreate:(0,K.Z)(e,g.onCreate),onUpdate:(0,K.Z)(e,g.onUpdate)})));Z.current(t)}}),[n,a,u,d,P,g]),j=l.useCallback((function(e){(0,$r.Z)(x,e),W()}),[x,W]),G=function(){I.current&&(I.current.destroy(),Z.current(null))};if(l.useEffect((function(){return function(){G()}}),[]),l.useEffect((function(){d||y||G()}),[d,y]),!c&&!d&&(!y||A))return null;var H={placement:N};return y&&(H.TransitionProps={in:d,onEnter:function(){S(!1)},onExited:function(){S(!0),G()}}),l.createElement(Qr.Z,{disablePortal:a,container:o},l.createElement("div",(0,B.Z)({ref:j,role:"tooltip"},w,{style:(0,B.Z)({position:"fixed",top:0,left:0,display:d||!c||y?null:"none"},b)}),"function"==typeof r?r(H):r))})),ro=n(15126);function oo(e){return Math.round(1e5*e)/1e5}var io=!1,ao=null;var lo=l.forwardRef((function(e,t){var n=e.arrow,r=void 0!==n&&n,o=e.children,i=e.classes,a=e.disableFocusListener,s=void 0!==a&&a,c=e.disableHoverListener,u=void 0!==c&&c,d=e.disableTouchListener,p=void 0!==d&&d,f=e.enterDelay,m=void 0===f?100:f,g=e.enterNextDelay,h=void 0===g?0:g,b=e.enterTouchDelay,v=void 0===b?700:b,y=e.id,w=e.interactive,C=void 0!==w&&w,x=e.leaveDelay,I=void 0===x?0:x,E=e.leaveTouchDelay,Z=void 0===E?1500:E,k=e.onClose,A=e.onOpen,S=e.open,P=e.placement,N=void 0===P?"bottom":P,R=e.PopperComponent,j=void 0===R?no:R,G=e.PopperProps,H=e.title,L=e.TransitionComponent,K=void 0===L?V.Z:L,D=e.TransitionProps,X=(0,T.Z)(e,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"]),Y=(0,St.Z)(),z=l.useState(),U=z[0],J=z[1],_=l.useState(null),Q=_[0],$=_[1],q=l.useRef(!1),ee=l.useRef(),te=l.useRef(),ne=l.useRef(),re=l.useRef(),oe=(0,Pt.Z)({controlled:S,default:!1,name:"Tooltip",state:"open"}),ie=(0,Be.Z)(oe,2),ae=ie[0],le=ie[1],se=ae,ce=(0,ro.Z)(y);l.useEffect((function(){return function(){clearTimeout(ee.current),clearTimeout(te.current),clearTimeout(ne.current),clearTimeout(re.current)}}),[]);var ue=function(e){clearTimeout(ao),io=!0,le(!0),A&&A(e)},de=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=o.props;"mouseover"===t.type&&n.onMouseOver&&e&&n.onMouseOver(t),q.current&&"touchstart"!==t.type||(U&&U.removeAttribute("title"),clearTimeout(te.current),clearTimeout(ne.current),m||io&&h?(t.persist(),te.current=setTimeout((function(){ue(t)}),io?h:m)):ue(t))}},pe=(0,Tt.Z)(),fe=pe.isFocusVisible,me=pe.onBlurVisible,ge=pe.ref,he=l.useState(!1),be=he[0],ve=he[1],ye=function(){be&&(ve(!1),me())},we=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){U||J(t.currentTarget),fe(t)&&(ve(!0),de()(t));var n=o.props;n.onFocus&&e&&n.onFocus(t)}},Ce=function(e){clearTimeout(ao),ao=setTimeout((function(){io=!1}),800+I),le(!1),k&&k(e),clearTimeout(ee.current),ee.current=setTimeout((function(){q.current=!1}),Y.transitions.duration.shortest)},xe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=o.props;"blur"===t.type&&(n.onBlur&&e&&n.onBlur(t),ye()),"mouseleave"===t.type&&n.onMouseLeave&&t.currentTarget===U&&n.onMouseLeave(t),clearTimeout(te.current),clearTimeout(ne.current),t.persist(),ne.current=setTimeout((function(){Ce(t)}),I)}},Ie=function(e){q.current=!0;var t=o.props;t.onTouchStart&&t.onTouchStart(e)},Ee=(0,F.Z)(J,t),Ze=(0,F.Z)(ge,Ee),ke=l.useCallback((function(e){(0,$r.Z)(Ze,W.findDOMNode(e))}),[Ze]),Ae=(0,F.Z)(o.ref,ke);""===H&&(se=!1);var Se=!se&&!u,Te=(0,B.Z)({"aria-describedby":se?ce:null,title:Se&&"string"==typeof H?H:null},X,o.props,{className:(0,O.Z)(X.className,o.props.className),onTouchStart:Ie,ref:Ae}),Pe={};p||(Te.onTouchStart=function(e){Ie(e),clearTimeout(ne.current),clearTimeout(ee.current),clearTimeout(re.current),e.persist(),re.current=setTimeout((function(){de()(e)}),v)},Te.onTouchEnd=function(e){o.props.onTouchEnd&&o.props.onTouchEnd(e),clearTimeout(re.current),clearTimeout(ne.current),e.persist(),ne.current=setTimeout((function(){Ce(e)}),Z)}),u||(Te.onMouseOver=de(),Te.onMouseLeave=xe(),C&&(Pe.onMouseOver=de(!1),Pe.onMouseLeave=xe(!1))),s||(Te.onFocus=we(),Te.onBlur=xe(),C&&(Pe.onFocus=we(!1),Pe.onBlur=xe(!1)));var Oe=l.useMemo((function(){return(0,Kn.Z)({popperOptions:{modifiers:{arrow:{enabled:Boolean(Q),element:Q}}}},G)}),[Q,G]);return l.createElement(l.Fragment,null,l.cloneElement(o,Te),l.createElement(j,(0,B.Z)({className:(0,O.Z)(i.popper,C&&i.popperInteractive,r&&i.popperArrow),placement:N,anchorEl:U,open:!!U&&se,id:Te["aria-describedby"],transition:!0},Pe,Oe),(function(e){var t=e.placement,n=e.TransitionProps;return l.createElement(K,(0,B.Z)({timeout:Y.transitions.duration.shorter},n,D),l.createElement("div",{className:(0,O.Z)(i.tooltip,i["tooltipPlacement".concat((0,M.Z)(t.split("-")[0]))],q.current&&i.touch,r&&i.tooltipArrow)},H,r?l.createElement("span",{className:i.arrow,ref:$}):null))})))})),so=(0,N.Z)((function(e){return{popper:{zIndex:e.zIndex.tooltip,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},popperArrow:{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}},tooltip:{backgroundColor:(0,X.U1)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat(oo(1.4),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:(0,X.U1)(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}},touch:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:"".concat(oo(16/14),"em"),fontWeight:e.typography.fontWeightRegular},tooltipPlacementLeft:(0,P.Z)({transformOrigin:"right center",margin:"0 24px "},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:(0,P.Z)({transformOrigin:"left center",margin:"0 24px"},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:(0,P.Z)({transformOrigin:"center bottom",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:(0,P.Z)({transformOrigin:"center top",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"})}}),{name:"MuiTooltip",flip:!1})(lo),co=n(15343),uo=n(87627),po=n(94982);var fo,mo,go,ho,bo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,uo.Z)(e,(0,B.Z)({defaultTheme:po.Z},t))}({problemsButton:{backgroundColor:"#BF0000",marginLeft:"10px !important"},runButton:{backgroundColor:"#0275d8",color:"#FFF","&:hover":{backgroundColor:"#0275d8",color:"#228B22"}},stopButton:{backgroundColor:"#0275d8",color:"#FFF","&:hover":{backgroundColor:"#0275d8",color:"#F44141"}},testButton:{backgroundColor:"#EBEBEB",color:"#FF7518",marginLeft:"10px !important","&:hover":{backgroundColor:"#D5D5D5",color:"#FF7518"}},normalButton:{backgroundColor:"#EBEBEB",marginLeft:"10px !important","&:hover":{backgroundColor:"#D5D5D5"}},blueButton:{margin:"5px",backgroundColor:"#0275d8",color:"#FFF","&:hover":{backgroundColor:"#0275d8"}},darkButton:{margin:"5px",backgroundColor:"#696969",color:"#FFF","&:hover":{backgroundColor:"#808080"},"&:disabled":{backgroundColor:"#A9A9A9"}},whiteText:{color:"#FFF",paddingLeft:"5px"},allTestsPassedPaper:{borderLeft:"10px solid #4caf50",margin:"5px",padding:"10px","& h2":{color:"#4caf50"}}}),vo=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},yo=function(){return(yo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},wo=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function l(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},Co=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(l){i=[6,l],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},xo=(0,N.Z)((function(e){return{tooltip:{backgroundColor:"#D3D3D3",color:"black",minWidth:400,maxWidth:600,fontSize:e.typography.pxToRem(12)},arrow:{color:"#D3D3D3"}}}))(so),Io=(0,s.ZP)((function(e){return l.createElement(co.Z,yo({},e))}))(fo||(fo=vo(["\n  margin: 1rem;\n  width: 60%;\n"],["\n  margin: 1rem;\n  width: 60%;\n"]))),Eo=function(e){var t=e.getPasteUrl,n=e.pasteDisabled,r=(0,l.useState)(!1),o=r[0],i=r[1],a=(0,l.useState)(!1),s=a[0],c=a[1],u=(0,l.useState)(),d=u[0],p=u[1],f=(0,l.useState)(!1),m=f[0],g=f[1],h=(0,l.useState)(!1),b=h[0],v=h[1],y=(0,x.$)()[0],w=bo(),C=function(){g(!1),v(!1),c(!1),p(void 0),i(!1)},I=function(){return wo(void 0,void 0,void 0,(function(){return Co(this,(function(e){return t().then((function(e){p(e),c(!0)})).catch((function(e){p(e)})),[2]}))}))},E=function(){var e=document.getElementById("textField");e instanceof HTMLInputElement&&(e.select(),document.execCommand("copy"),i(!0))};return l.createElement(L,{onClickAway:C},l.createElement("div",null,l.createElement(xo,{PopperProps:{disablePortal:!1},onClose:C,open:m,interactive:!0,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,placement:"bottom-end",title:l.createElement("div",{style:{margin:"10px"}},l.createElement(Zt.Z,null,y("tmcPasteDescription")),d&&l.createElement("div",null,l.createElement(Io,{id:"textField",value:d,"data-cy":"paste-input",readOnly:!0}),document.queryCommandSupported("copy")&&l.createElement(Z.Z,{className:w.blueButton,"data-cy":"copy-text-btn",onClick:E},y("button.copy")),o&&l.createElement("span",{style:{paddingLeft:"3px"}},y("copiedConfirmation"))),l.createElement(Z.Z,{className:w.darkButton,onClick:I,disabled:s,"data-cy":"send-to-paste-btn"},y("sendToTmcPaste"))),arrow:!0},l.createElement(Z.Z,{variant:"contained",disabled:n,onClick:b?C:function(){g(!0),v(!0)},"data-cy":"need-help-btn",className:w.blueButton},y("needHelp")))))},Zo=n(48086),ko=n(22702),Ao=n(65957),So=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},To=(0,N.Z)((function(e){return{root:{height:25,borderRadius:10},colorPrimary:{borderRadius:10},bar:{borderRadius:10,backgroundColor:"#0275d8"}}}))(Ao.Z),Po=s.ZP.div(mo||(mo=So(["\n  width: 100%;\n  height: 25px;\n  overflow: hidden;\n  text-align: center;\n  position: relative;\n"],["\n  width: 100%;\n  height: 25px;\n  overflow: hidden;\n  text-align: center;\n  position: relative;\n"]))),Bo=(0,s.ZP)(Zt.Z)(go||(go=So(["\n  width: 100%;\n  color: white;\n  z-index: 1;\n  display: block;\n  position: absolute;\n"],["\n  width: 100%;\n  color: white;\n  z-index: 1;\n  display: block;\n  position: absolute;\n"]))),Oo=function(e){var t=e.percentage;return t||0===t?l.createElement("div",{style:{marginLeft:"10px"}},l.createElement(Po,null,l.createElement(Bo,{variant:"button"},t," %"),l.createElement(To,{variant:"determinate",value:t}))):null},No=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Ro=function(){return(Ro=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Wo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};!function(e){e.Orange="rgb(255, 128, 0)",e.Gray="#E8E8E8"}(ho||(ho={}));var jo,Fo,Go,Ho,Lo,Mo,Ko,Vo,Do,Xo,Yo,zo=(0,s.ZP)((function(e){e.backgroundColor;var t=Wo(e,["backgroundColor"]);return l.createElement(Et.Z,Ro({container:!0,item:!0,direction:"row",alignItems:"center",justify:"space-between"},t))}))(jo||(jo=No(["\n  background-color: ",";\n  color: black;\n  border-radius: 3px 3px 0 0;\n  padding: 5px;\n"],["\n  background-color: ",";\n  color: black;\n  border-radius: 3px 3px 0 0;\n  padding: 5px;\n"])),(function(e){return e.backgroundColor})),Uo=(0,s.ZP)(Zt.Z)(Fo||(Fo=No(["\n  display: inline-block;\n  padding: 5px;\n  margin-left: 10px !important;\n  color: #252525;\n"],["\n  display: inline-block;\n  padding: 5px;\n  margin-left: 10px !important;\n  color: #252525;\n"]))),Jo=(0,s.ZP)(Et.Z)(Go||(Go=No(["\n  padding: 10px;\n  display: table-cell;\n"],["\n  padding: 10px;\n  display: table-cell;\n"]))),_o=(0,s.ZP)(Z.Z)(Ho||(Ho=No(["\n  margin: 5px !important;\n"],["\n  margin: 5px !important;\n"]))),Qo=function(e){return l.createElement(Et.Z,{container:!0,direction:"column"},e.children)},$o=function(e){return l.createElement(_o,{disabled:e.disabled,onClick:e.onClick,variant:"contained","data-cy":e.dataCy,className:e.className},e.label)},qo=(0,s.ZP)(Zt.Z)(Lo||(Lo=No(["\n  margin: 0 10px !important;\n  color: black;\n"],["\n  margin: 0 10px !important;\n  color: black;\n"]))),ei=function(e){return l.createElement(Jo,null,e.children)},ti=function(e){var t=e.children,n=e.color,r=e.title;return l.createElement(zo,{backgroundColor:n},l.createElement(Et.Z,{item:!0,xs:4},l.createElement(Uo,{variant:"h6"},r)),l.createElement(Et.Z,{container:!0,item:!0,xs:8,alignItems:"center",justify:"flex-end"},t))},ni=function(e){var t=e.children,n=e.color,r=e.percentage,o=e.showAll,i=e.setShowAll,a=e.showAllDisabled,s=(0,x.$)()[0];return l.createElement(zo,{backgroundColor:n},l.createElement(Et.Z,{style:{borderRight:"solid 1px lightgray"},item:!0,xs:3},l.createElement(Zo.Z,{label:s("showAll"),style:{paddingLeft:"5px"},control:l.createElement(ko.Z,{checked:o,disabled:a,onChange:function(){return null==i?void 0:i(!o)},color:"primary","data-cy":"show-all-results-checkbox"})})),l.createElement(Et.Z,{item:!0,xs:6},l.createElement(Oo,{percentage:r})),l.createElement(Et.Z,{container:!0,item:!0,xs:3,alignItems:"center",justify:"flex-end"},t))},ri=function(e){var t=e.children,n=e.color,r=(0,x.$)()[0];return l.createElement(zo,{backgroundColor:n},l.createElement(Et.Z,{style:{borderRight:"solid 1px lightgray"},item:!0,xs:3},l.createElement(Zo.Z,{label:r("showAll"),style:{paddingLeft:"5px"},control:l.createElement(ko.Z,{checked:!1,disabled:!0,color:"primary","data-cy":"show-all-results-checkbox"})})),l.createElement(Et.Z,{item:!0,xs:5}),l.createElement(Et.Z,{container:!0,item:!0,xs:4,alignItems:"center",justify:"flex-end"},t))},oi=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ii=s.ZP.div(Mo||(Mo=oi(["\n  max-height: ",";\n  min-height: 100px;\n  overflow: auto;\n"],["\n  max-height: ",";\n  min-height: 100px;\n  overflow: auto;\n"])),(function(e){return e.maxHeight&&"auto"!==e.maxHeight?e.maxHeight:"500px"})),ai=l.forwardRef((function(e,t){var n=e.children,r=e.maxHeight,o=l.createRef(),i=function(){(null==o?void 0:o.current)&&(o.current.scrollTop=o.current.scrollHeight)},a=function(){(null==o?void 0:o.current)&&(o.current.scrollTop=0)};return(0,l.useImperativeHandle)(t,(function(){return{scrollToBottom:i,scrollToTop:a}})),l.createElement(ii,{maxHeight:r,ref:o},n)})),li=ai,si=function(e){var t=e.editorState,n=e.getPasteLink,r=e.onClose,o=e.outputContent,i=e.outputHeight,a=e.pasteDisabled,s=e.sendInput,c=(0,x.$)()[0],u=l.createRef(),d=t===xt.WorkerInitializing,p=0!=(t&xt.WorkerActive),f=t===xt.WaitingInput;return l.createElement(Qo,null,l.createElement(ti,{title:c("outputTitle"),color:f?ho.Orange:ho.Gray},f?l.createElement(l.Fragment,null,l.createElement(jn.G,{icon:Wn.WV2}),l.createElement(qo,null,c("waitingForInput"))):p?l.createElement(l.Fragment,null,l.createElement(S.Z,{size:25,color:"inherit",disableShrink:!0}),l.createElement(qo,null,c(d?"initializing":"running"))):null,l.createElement(Eo,{getPasteUrl:n,pasteDisabled:p||a}),l.createElement($o,{label:c("button.close"),onClick:r,dataCy:"close-btn"})),l.createElement(ei,null,l.createElement(li,{maxHeight:i,ref:u},l.createElement(Mn,{inputRequested:f,outputContent:o,scrollToBottom:function(){var e;return null===(e=u.current)||void 0===e?void 0:e.scrollToBottom()},sendInput:s}))))},ci=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ui=function(){return(ui=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},di=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},pi=(0,s.ZP)((function(e){e.passed;var t=di(e,["passed"]);return l.createElement(D.Z,ui({},t))}))(Ko||(Ko=ci(["\n  border-left: 10px solid ",";\n  margin: 5px;\n  padding: 10px;\n"],["\n  border-left: 10px solid ",";\n  margin: 5px;\n  padding: 10px;\n"])),(function(e){return e.passed?"#4caf50":"#f44336"})),fi=(0,s.ZP)((function(e){e.passed;var t=di(e,["passed"]);return l.createElement(Zt.Z,ui({},t))}))(Vo||(Vo=ci(["\n  color: ",";\n  font-weight: 700;\n"],["\n  color: ",";\n  font-weight: 700;\n"])),(function(e){return e.passed?"#4caf50":"#f44336"})),mi=function(e){var t,n,r,o=e.testName,i=e.passed,a=e.feedback,s=o.match(/(\w+)\.(\w+)$/),c=s?s[1]+": "+s[2]:o,u=i?"PASS":"FAIL";return l.createElement(pi,{passed:i,"data-cy":"test-result"},l.createElement(fi,{passed:i},u,": ",c),l.createElement("pre",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"}},(n=(t=a).match(/^False is not true : ([\s\S]+)/i),r=t.match(/^True is not false : ([\s\S]+)/i),n?n[1]:r?r[1]:t)))},gi=function(e){var t=e.results,n=e.showAllTests,r=e.children;return t.testCases&&0!==t.testCases.length?l.createElement(Et.Z,{container:!0,direction:"row",justify:"space-between"},l.createElement(Et.Z,{item:!0,xs:12},r,function(){if(!n){var e=t.testCases.find((function(e){return!1===e.passed}));if(e)return l.createElement(mi,{key:e.id,testName:e.testName,passed:e.passed,feedback:e.feedback})}var r=t.testCases.map((function(e){return l.createElement(mi,{key:e.id,testName:e.testName,passed:e.passed,feedback:e.feedback})}));return l.createElement(l.Fragment,null,n&&r)}())):null},hi=function(e){var t=e.getPasteLink,n=e.onClose,r=e.onSubmit,o=e.outputHeight,i=e.submitDisabled,a=e.testResults,s=(0,x.$)()[0],c=(0,l.useState)(!1),u=c[0],d=c[1],p=l.createRef(),f=bo(),m=Math.round(100*a.testCases.filter((function(e){return e.passed})).length/a.testCases.length),g=function(){return l.createElement($o,{disabled:i,label:s("button.submit"),onClick:r,dataCy:"submit-btn",className:f.blueButton})};return l.createElement(Qo,null,l.createElement(ti,{title:s("testResults"),color:ho.Gray},l.createElement(Eo,{getPasteUrl:t,pasteDisabled:i}),l.createElement($o,{label:s("button.close"),onClick:n,dataCy:"close-btn"})),l.createElement(ei,null,l.createElement(li,{maxHeight:o,ref:p},l.createElement(gi,{results:a,showAllTests:u},a.allTestsPassed&&l.createElement(D.Z,{className:f.allTestsPassedPaper},l.createElement("h2",null,s("allTestsPassed")),l.createElement("p",null,s("rememberToSubmitToServer")),l.createElement(g,null))))),l.createElement(ni,{color:ho.Gray,percentage:m,showAll:u,setShowAll:d,showAllDisabled:1===a.testCases.length},!a.allTestsPassed&&l.createElement(g,null)))},bi=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},vi=function(){return(vi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},yi=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},wi=(0,s.ZP)(kt.Z)(Do||(Do=bi(["\n  && {\n    margin-right: 10px;\n  }\n"],["\n  && {\n    margin-right: 10px;\n  }\n"]))),Ci=(0,s.ZP)((function(e){e.points;var t=yi(e,["points"]);return l.createElement(D.Z,vi({},t))}))(Xo||(Xo=bi(["\n  border-left: 10px solid #4caf50;\n  margin: 5px;\n  padding: 10px;\n"],["\n  border-left: 10px solid #4caf50;\n  margin: 5px;\n  padding: 10px;\n"]))),xi=function(e){var t=e.points,n=(0,x.$)()[0];return l.createElement(Ci,{points:!0,"data-cy":"submission-points"},n("pointsAwarded"),": ",t.map((function(e){return l.createElement(wi,{key:e,label:e,variant:"outlined"})})))},Ii=function(e){var t,n=e.getPasteLink,r=e.onClose,o=e.onSubmit,i=e.testResults,a=e.pasteDisabled,s=e.outputHeight,c=(0,x.$)()[0],u=(0,l.useState)(!1),d=u[0],p=u[1],f=bo(),m=Math.round(100*i.testCases.filter((function(e){return e.passed})).length/i.testCases.length),g=l.createRef();return l.createElement(Qo,null,l.createElement(ti,{title:c("submissionResult"),color:ho.Gray},l.createElement(Eo,{getPasteUrl:n,pasteDisabled:a}),l.createElement($o,{label:c("button.close"),onClick:r,dataCy:"close-btn"})),l.createElement(ei,null,l.createElement(li,{maxHeight:s,ref:g},l.createElement(gi,{results:i,showAllTests:d},i.points.length>0&&l.createElement(xi,{points:i.points})))),l.createElement(ni,{color:ho.Gray,percentage:m,showAll:d,setShowAll:p,showAllDisabled:1===i.testCases.length&&null!==(t=!i.allTestsPassed)&&void 0!==t&&t},!i.allTestsPassed&&l.createElement($o,{disabled:!1,label:c("button.submit"),onClick:o,dataCy:"submit-btn",className:f.blueButton})))},Ei=function(e){var t=e.onClose,n=e.outputHeight,r=e.problems,o=(0,x.$)()[0],i=l.createRef();return l.createElement(Qo,null,l.createElement(ti,{title:o("problemsTitle"),color:ho.Gray},l.createElement($o,{label:o("button.close"),onClick:t,dataCy:"close-btn"})),l.createElement(ei,null,l.createElement(li,{maxHeight:n,ref:i},o("incompatibleExerciseTemplate")," ",o("pleaseReportFollowingErrorsToCourseInstructor"),":",r.map((function(e,t){return l.createElement("div",{key:t},e)})))))},Zi={prefix:"far",iconName:"eye",icon:[576,512,[],"f06e","M288 144a110.94 110.94 0 0 0-31.24 5 55.4 55.4 0 0 1 7.24 27 56 56 0 0 1-56 56 55.4 55.4 0 0 1-27-7.24A111.71 111.71 0 1 0 288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z"]},ki=function(e){var t=e.getPasteLink,n=e.onClose,r=(0,x.$)()[0],o=bo();return l.createElement(Qo,null,l.createElement(ti,{title:r("submitting"),color:ho.Gray},l.createElement(Eo,{getPasteUrl:t,pasteDisabled:!0}),l.createElement($o,{label:r("button.close"),onClick:n,disabled:!0,dataCy:"close-btn"})),l.createElement(ei,null,l.createElement("div",{style:{textAlign:"center",margin:"10px 0px"}},l.createElement(qo,{variant:"h5"},r("submittingToServer")),l.createElement(Ao.Z,{style:{width:"42%",margin:"0 auto"}}))),l.createElement(ri,{color:ho.Gray},l.createElement($o,{disabled:!0,label:r("button.submit"),dataCy:"submit-btn",className:o.blueButton})))},Ai=n(48649),Si=n(81423),Ti=n(19701),Pi={entering:{opacity:1},entered:{opacity:1}},Bi={enter:R.x9.enteringScreen,exit:R.x9.leavingScreen},Oi=l.forwardRef((function(e,t){var n=e.children,r=e.disableStrictModeCompat,o=void 0!==r&&r,i=e.in,a=e.onEnter,s=e.onEntered,c=e.onEntering,u=e.onExit,d=e.onExited,p=e.onExiting,f=e.style,m=e.TransitionComponent,g=void 0===m?Si.ZP:m,h=e.timeout,b=void 0===h?Bi:h,v=(0,T.Z)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),y=(0,St.Z)(),w=y.unstable_strictMode&&!o,C=l.useRef(null),x=(0,F.Z)(n.ref,t),I=(0,F.Z)(w?C:void 0,x),E=function(e){return function(t,n){if(e){var r=w?[C.current,t]:[t,n],o=(0,Be.Z)(r,2),i=o[0],a=o[1];void 0===a?e(i):e(i,a)}}},Z=E(c),k=E((function(e,t){(0,Ti.n)(e);var n=(0,Ti.C)({style:f,timeout:b},{mode:"enter"});e.style.webkitTransition=y.transitions.create("opacity",n),e.style.transition=y.transitions.create("opacity",n),a&&a(e,t)})),A=E(s),S=E(p),P=E((function(e){var t=(0,Ti.C)({style:f,timeout:b},{mode:"exit"});e.style.webkitTransition=y.transitions.create("opacity",t),e.style.transition=y.transitions.create("opacity",t),u&&u(e)})),O=E(d);return l.createElement(g,(0,B.Z)({appear:!0,in:i,nodeRef:w?C:void 0,onEnter:k,onEntered:A,onEntering:Z,onExit:P,onExited:O,onExiting:S,timeout:b},v),(function(e,t){return l.cloneElement(n,(0,B.Z)({style:(0,B.Z)({opacity:0,visibility:"exited"!==e||i?void 0:"hidden"},Pi[e],f,n.props.style),ref:I},t))}))})),Ni=l.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,i=e.invisible,a=void 0!==i&&i,s=e.open,c=e.transitionDuration,u=e.TransitionComponent,d=void 0===u?Oi:u,p=(0,T.Z)(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return l.createElement(d,(0,B.Z)({in:s,timeout:c},p),l.createElement("div",{className:(0,O.Z)(r.root,o,a&&r.invisible),"aria-hidden":!0,ref:t},n))})),Ri=(0,N.Z)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(Ni),Wi={enter:R.x9.enteringScreen,exit:R.x9.leavingScreen},ji=l.forwardRef((function(e,t){var n=e.BackdropProps,r=e.children,o=e.classes,i=e.className,a=e.disableBackdropClick,s=void 0!==a&&a,c=e.disableEscapeKeyDown,u=void 0!==c&&c,d=e.fullScreen,p=void 0!==d&&d,f=e.fullWidth,m=void 0!==f&&f,g=e.maxWidth,h=void 0===g?"sm":g,b=e.onBackdropClick,v=e.onClose,y=e.onEnter,w=e.onEntered,C=e.onEntering,x=e.onEscapeKeyDown,I=e.onExit,E=e.onExited,Z=e.onExiting,k=e.open,A=e.PaperComponent,S=void 0===A?D.Z:A,P=e.PaperProps,N=void 0===P?{}:P,R=e.scroll,W=void 0===R?"paper":R,j=e.TransitionComponent,F=void 0===j?Oi:j,G=e.transitionDuration,H=void 0===G?Wi:G,L=e.TransitionProps,K=e["aria-describedby"],V=e["aria-labelledby"],X=(0,T.Z)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),Y=l.useRef();return l.createElement(Ai.Z,(0,B.Z)({className:(0,O.Z)(o.root,i),BackdropComponent:Ri,BackdropProps:(0,B.Z)({transitionDuration:H},n),closeAfterTransition:!0,disableBackdropClick:s,disableEscapeKeyDown:u,onEscapeKeyDown:x,onClose:v,open:k,ref:t},X),l.createElement(F,(0,B.Z)({appear:!0,in:k,timeout:H,onEnter:y,onEntering:C,onEntered:w,onExit:I,onExiting:Z,onExited:E,role:"none presentation"},L),l.createElement("div",{className:(0,O.Z)(o.container,o["scroll".concat((0,M.Z)(W))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===Y.current&&(Y.current=null,b&&b(e),!s&&v&&v(e,"backdropClick"))},onMouseDown:function(e){Y.current=e.target}},l.createElement(S,(0,B.Z)({elevation:24,role:"dialog","aria-describedby":K,"aria-labelledby":V},N,{className:(0,O.Z)(o.paper,o["paperScroll".concat((0,M.Z)(W))],o["paperWidth".concat((0,M.Z)(String(h)))],N.className,p&&o.paperFullScreen,m&&o.paperFullWidth)}),r))))})),Fi=(0,N.Z)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":(0,P.Z)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":(0,P.Z)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":(0,P.Z)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":(0,P.Z)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":(0,P.Z)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(ji),Gi=l.forwardRef((function(e,t){var n=e.disableSpacing,r=void 0!==n&&n,o=e.classes,i=e.className,a=(0,T.Z)(e,["disableSpacing","classes","className"]);return l.createElement("div",(0,B.Z)({className:(0,O.Z)(o.root,i,!r&&o.spacing),ref:t},a))})),Hi=(0,N.Z)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(Gi),Li=l.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.dividers,i=void 0!==o&&o,a=(0,T.Z)(e,["classes","className","dividers"]);return l.createElement("div",(0,B.Z)({className:(0,O.Z)(n.root,r,i&&n.dividers),ref:t},a))})),Mi=(0,N.Z)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(Li),Ki=l.forwardRef((function(e,t){return l.createElement(Zt.Z,(0,B.Z)({component:"p",variant:"body1",color:"textSecondary",ref:t},e))})),Vi=(0,N.Z)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(Ki),Di=l.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,i=e.disableTypography,a=void 0!==i&&i,s=(0,T.Z)(e,["children","classes","className","disableTypography"]);return l.createElement("div",(0,B.Z)({className:(0,O.Z)(r.root,o),ref:t},s),a?n:l.createElement(Zt.Z,{component:"h2",variant:"h6"},n))})),Xi=(0,N.Z)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(Di),Yi=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},zi=function(){return(zi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ui=(0,s.ZP)((function(e){return l.createElement(Z.Z,zi({variant:"contained"},e))}))(Yo||(Yo=Yi(["\n  margin: 0.5em;\n"],["\n  margin: 0.5em;\n"]))),Ji=function(e){var t=e.resetExercise,n=(0,l.useState)(!1),r=n[0],o=n[1],i=(0,x.$)()[0],a=bo(),s=function(){o(!1)};return l.createElement("div",{style:{display:"inline"}},l.createElement(Ui,{"data-cy":"reset-btn",className:a.normalButton,onClick:function(){o(!0)}},i("button.reset")),l.createElement(Fi,{open:r,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.createElement(Xi,{id:"alert-dialog-title"},i("resetExerciseHeader")),l.createElement(Mi,null,l.createElement(Vi,{id:"alert-dialog-description"},i("resetExerciseConfirmation"),l.createElement("br",null),i("resetExerciseNotify"))),l.createElement(Hi,null,l.createElement(Z.Z,{onClick:s,color:"primary",autoFocus:!0},i("button.cancel")),l.createElement(Z.Z,{"data-cy":"reset-btn-ok",onClick:function(){t(),o(!1)},color:"primary"},i("button.ok")))))};function _i(e,t,n){var r=(0,l.useCallback)((function(e){return!!n(e.value)&&("number"==typeof e.timestamp&&e.timestamp>t.timestamp)}),[t.timestamp,n]),o=function(e,t,n){var r=(0,l.useState)((function(){var r;return null!==(r=I(e,n))&&void 0!==r?r:t})),o=r[0],i=r[1];return(0,l.useEffect)((function(){var r;i(null!==(r=I(e,n))&&void 0!==r?r:t)}),[e,n,t]),[o,(0,l.useCallback)((function(t){i((function(n){return t instanceof Function&&(t=t(n)),e&&window.localStorage.setItem(e,JSON.stringify(t)),t}))}),[e])]}(e,t,r),i=o[0],a=o[1],s=(0,l.useCallback)((function(e){a((function(t){return"function"==typeof e&&(e=e(t)),e.timestamp>=t.timestamp?e:t}))}),[a]);return[i.value,a,s]}var Qi,$i,qi=function(e){return!!Array.isArray(e)&&e.every((function(e){return ea(e)}))},ea=function(e){return"string"==typeof e.content&&("string"==typeof e.fullName&&(!(e.fullName.length<=0)&&("string"==typeof e.originalContent&&"string"==typeof e.shortName)))},ta=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},na=(0,s.ZP)(Et.Z)(Qi||(Qi=ta(["\n  padding: 5px;\n  display: table-cell;\n  min-height: 100px;\n  overflow: auto;\n  white-space: pre-wrap;\n"],["\n  padding: 5px;\n  display: table-cell;\n  min-height: 100px;\n  overflow: auto;\n  white-space: pre-wrap;\n"]))),ra=function(e){var t=e.children,n=(0,x.$)()[0],r=window.StyleMedia&&-1!==window.navigator.userAgent.indexOf("Edge");return l.createElement("div",{style:{position:"relative",width:"inherit"}},r&&l.createElement(cn,null,l.createElement(na,null,n("browserNotSupported"),l.createElement("ul",null,l.createElement("li",null,"Apple Safari"),l.createElement("li",null,"Google Chrome"),l.createElement("li",null,"Mozilla Firefox")))),t)},oa=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ia=function(){return(ia=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},aa=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function l(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},la=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(l){i=[6,l],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},sa=(0,s.ZP)((function(e){return l.createElement(Z.Z,ia({variant:"contained"},e))}))($i||($i=oa(["\n  margin: 0.5em;\n"],["\n  margin: 0.5em;\n"]))),ca={value:[Zn],timestamp:-1},ua=function(e){var t,n=e.submitFeedback,r=e.submitProgrammingExercise,o=e.submitToPaste,i=e.cacheKey,a=e.debug,s=e.exercise,c=e.submitDisabled,u=e.solutionUrl,d=e.editorHeight,p=e.outputHeight,f=(0,x.$)()[0],m=(0,l.useState)([]),g=m[0],h=m[1],b=(0,l.useState)(),v=b[0],y=b[1],w=(0,l.useState)(!0),C=w[0],I=w[1],E=function(e,t){var n=_i(e,t,qi),r=n[0],o=n[1],i=n[2],a=(0,l.useCallback)((function(e){"function"==typeof e&&(e=e(r)),o({value:e,timestamp:Date.now()})}),[r,o]);return[r,a,i]}(i,ca),Z=E[0],T=E[1],P=E[2],B=(0,l.useState)(0),O=B[0],N=B[1],R=(0,l.useState)(!1),W=R[0],j=R[1],F=(0,l.useState)(),G=F[0],H=F[1],L=Rn({debug:a})[0],M=l.createRef(),K=(0,l.useState)(xt.Initializing),V=K[0],D=K[1],X=bo();var Y=function(){D(xt.Submitting),y(void 0)};L.setMessageListener((function(e){var t=e.data,n=t.type,r=t.msg;switch(n){case"print":h(g.concat({id:It(),type:"output",text:r}));break;case"input_required":D(xt.WaitingInput);break;case"error":console.error(r),h(g.concat({id:It(),type:"error",text:r})),I(!0),L.recycle();break;case"ready":I(!0);break;case"print_batch":if(V===xt.ExecutingCode){var o=r.map((function(e){return{id:It(),type:"output",text:e}}));h((function(e){return e.concat(o)}))}break;case"print_done":D((function(e){switch(e){case xt.Testing:return(null==v?void 0:v.allTestsPassed)&&!c&&Y(),xt.ShowTestResults;default:return xt.Idle}})),L.recycle();break;case"test_results":var i=function(e){return e.map((function(e,t){var n,r,o,i=null!==(n=e.message)&&void 0!==n?n:"null",a=null!==(r=e.passed)&&void 0!==r&&r,l=null!==(o=e.name)&&void 0!==o?o:"noTestName";return{id:t.toString(),feedback:i,passed:a,testName:l}}))}(r);h([]),y({allTestsPassed:i.every((function(e){return e.passed})),points:[],testCases:i});break;case"start_run":D(xt.ExecutingCode);break;case"start_test":D(xt.Testing)}}));var z=function(e){V===xt.WaitingInput&&(D(xt.ExecutingCode),h(g.concat({id:It(),type:"input",text:e+"\n"})),L.postMessage({type:"input",msg:e}))};(0,l.useEffect)((function(){var e,t;P({value:s.projectFiles,timestamp:null!==(t=null===(e=s.submissionDetails)||void 0===e?void 0:e.createdAtMillis)&&void 0!==t?t:-1})}),[s.projectFiles,null===(t=s.submissionDetails)||void 0===t?void 0:t.createdAtMillis,P]),(0,l.useEffect)((function(){switch(a&&console.log(xt[V]),V){case xt.Submitting:r(Z).then((function(e){_(),y(e),h([]),D(e.allTestsPassed?xt.ShowPassedFeedbackForm:xt.ShowSubmissionResults)}));break;case xt.ExecutingCode:case xt.Testing:var e=f("infiniteLoopMessage"),t=setTimeout((function(){h([{id:It(),type:"output",text:e}]),U()}),1e4);H(t);break;case xt.Idle:case xt.RunAborted:case xt.ShowTestResults:case xt.WaitingInput:G&&clearTimeout(G)}}),[V]);var U=function(){C||L.terminate(),L.postMessage({type:"stop"}),D(xt.RunAborted),I(!0)},_=function(){var e;U(),null===(e=M.current)||void 0===e||e.close(),D(xt.Idle),h([])},Q=0==(V&(xt.WorkerActive|xt.Submitting));return l.createElement(ra,null,V===xt.ShowPassedFeedbackForm&&l.createElement(In,{awardedPoints:null==v?void 0:v.points,onSubmitFeedback:function(e){D(xt.ShowSubmissionResults),v&&(n(v,e),e.length>0&&j(!0))},onClose:function(){return D(xt.ShowSubmissionResults)},solutionUrl:null==v?void 0:v.solutionUrl,feedbackQuestions:null==v?void 0:v.feedbackQuestions}),Z.length>1&&l.createElement(l.Fragment,null,l.createElement(k.Z,{id:"label"},f("selectFile")),l.createElement(A.Z,{labelId:"label",native:!0,value:Z[O].shortName,onChange:function(e){var t;N(null!==(t=Z.findIndex((function(t){return t.shortName===e.target.value})))&&void 0!==t?t:0)},"data-cy":"select-file"},l.createElement(l.Fragment,null,Z.map((function(e){var t=e.shortName;return l.createElement("option",{key:t,value:t},t)}))))),!s.ready&&l.createElement(un,null,l.createElement(S.Z,{thickness:5,color:"inherit"})),l.createElement(ut,{editorValue:Z[O].content,setEditorValue:function(e){s.ready&&T((function(t){return t.map((function(t,n){return n!==O?t:ia(ia({},t),{content:e})}))}))},editorHeight:d,setIsEditorReady:function(e){return D(e?xt.Idle:xt.Initializing)}}),l.createElement("div",{style:{padding:"0.6em 0em"}},0==(V&xt.WorkerActive)?l.createElement(sa,{onClick:function(){var e;C?(h([]),y(void 0),I(!1),D(xt.WorkerInitializing),L.postMessage({type:"run",msg:{code:null!=e?e:Z[O].content,debug:a}})):console.log("Worker is busy")},className:X.runButton,disabled:!(C&&Q),"data-cy":"run-btn"},l.createElement(jn.G,{icon:Wn.zc}),l.createElement("span",{className:X.whiteText},f("runButtonText"))):l.createElement(sa,{className:X.stopButton,onClick:function(){return U()},"data-cy":"stop-btn"},l.createElement(jn.G,{icon:Wn.Bg$}),l.createElement("span",{className:X.whiteText},f("stopButtonText"))),l.createElement(sa,{onClick:function(){return function(e){if(C){var t=s.getTestProgram(null!=e?e:Z[O].content);h([]),y(void 0),I(!1),D(xt.WorkerInitializing),L.postMessage({type:"run_tests",msg:{code:t,debug:a}})}else console.log("Worker is busy")}()},disabled:!Q,className:X.testButton,"data-cy":"test-btn"},l.createElement(jn.G,{icon:Zi}),l.createElement("span",{style:{paddingLeft:"5px"}},f("testButtonText"))),l.createElement(Ji,{resetExercise:function(){T(s.projectFiles.map((function(e){return ia(ia({},e),{content:e.originalContent})}))),N(0),h([]),y(void 0)}}),u&&l.createElement(sa,{className:X.normalButton,onClick:function(){return window.open(u,"_blank")}},f("modelSolution")),s.templateIssues.length>0&&l.createElement(sa,{onClick:function(){var e;D(xt.ShowProblems),null===(e=M.current)||void 0===e||e.open()},disabled:(V&xt.WorkerActive)>0,className:X.problemsButton,"data-cy":"problems-btn"},l.createElement(jn.G,{icon:Wn.RLE}),l.createElement("span",{className:X.whiteText},f("problemsTitle")+" ("+s.templateIssues.length+")"))),l.createElement(mt,{isRunning:(V&xt.WorkerActive)>0,outputHeight:p,ref:M},function(){switch(V){case xt.ShowTestResults:return l.createElement(hi,{getPasteLink:function(){return o(Z)},onClose:_,outputHeight:p,onSubmit:function(){return Y()},submitDisabled:c,testResults:null!=v?v:{points:[],testCases:[]}});case xt.ShowPassedFeedbackForm:case xt.ShowSubmissionResults:return l.createElement(Ii,{onClose:_,onSubmit:function(){return Y()},testResults:null!=v?v:{points:[],testCases:[]},getPasteLink:function(){return o(Z)},pasteDisabled:c,outputHeight:p});case xt.Submitting:return l.createElement(ki,{onClose:_,getPasteLink:function(){return o(Z)},pasteDisabled:!0});case xt.ShowProblems:return l.createElement(Ei,{onClose:_,problems:s.templateIssues,outputHeight:p});default:return l.createElement(si,{editorState:V,getPasteLink:function(){return o(Z)},onClose:_,outputContent:g,outputHeight:p,pasteDisabled:c,sendInput:z})}}()),a&&l.createElement("div",null,l.createElement("div",null,"EditorState: ",xt[V]),l.createElement("div",null,"Cache key: ",i||"undefined"),l.createElement("div",null,"Active file: ",Z[O].fullName)),l.createElement(J,{open:W,autoHideDuration:5e3,onClose:function(e,t){"clickaway"!==t&&j(!1)},message:f("thankYouForFeedback"),anchorOrigin:{vertical:"bottom",horizontal:"center"},key:"bottom-center"}))};ua.defaultProps={submitProgrammingExercise:function(){return Promise.resolve({points:[],testCases:[]})},submitToPaste:function(){return Promise.resolve("default paste called")},exercise:{details:void 0,projectFiles:Tn,ready:!0,reset:function(){return console.log("Called for exercise reset.")},templateIssues:[],updateDetails:function(){return aa(void 0,void 0,void 0,(function(){return la(this,(function(e){return[2,console.log("Called for exercise details update.")]}))}))},getTestProgram:function(){return'print("Default test called.")'}}};var da,pa,fa,ma=n(96633),ga=n.n(ma),ha=n(62802),ba=n.n(ha),va=function(){return(va=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ya=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function l(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},wa=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(l){i=[6,l],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Ca="https://tmc.mooc.fi/api/v8",xa=function(e,t){return va(va({},t),{Authorization:"Bearer "+e,client:"moocfi_python_editor",client_version:"0.14.0"})},Ia=function(e,t){return ya(void 0,void 0,void 0,(function(){var n,r,o,i,a,l;return wa(this,(function(s){switch(s.label){case 0:n=t.t,r=t.token,s.label=1;case 1:return s.trys.push([1,4,,5]),o=new(ba()),[4,ga().get(e,{headers:xa(r),responseType:"arraybuffer"})];case 2:return i=s.sent(),[4,o.loadAsync(i.data)];case 3:return[2,s.sent()];case 4:throw a=s.sent(),(null===(l=null==a?void 0:a.response)||void 0===l?void 0:l.status)?new Error(a.response.status+": "+n("failedToDownloadExercise")):new Error("418: "+n("failedToEstablishConnectionToServer"));case 5:return[2]}}))}))},Ea=function(e,t,n,r){return ya(void 0,void 0,void 0,(function(){var o,i,a,l,s,c,u,d,p;return wa(this,(function(f){switch(f.label){case 0:o=r.t,i=r.token,a=Ca+"/org/"+e+"/courses/"+t+"/exercises/"+n,l=xa(i),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,ga().get(a,{headers:l,responseType:"json"})];case 2:return[2,{id:(s=f.sent().data).id,availablePoints:null===(u=s.available_points)||void 0===u?void 0:u.length,awardedPoints:null===(d=s.awarded_points)||void 0===d?void 0:d.length,completed:s.completed,deadline:s.deadline,downloadable:s.downloadable,expired:s.expired,softDeadline:s.soft_deadline,unlocked:s.unlocked}];case 3:throw c=f.sent(),(null===(p=null==c?void 0:c.response)||void 0===p?void 0:p.status)?new Error(c.response.status+": "+o("couldNotFindExerciseDetails")):new Error("418: "+o("failedToEstablishConnectionToServer"));case 4:return[2]}}))}))},Za=function(e,t,n,r){return ya(void 0,void 0,void 0,(function(){return wa(this,(function(o){return[2,Ia(Ca+"/org/"+e+"/courses/"+t+"/exercises/"+n+"/download",r)]}))}))},ka=function(e,t){return ya(void 0,void 0,void 0,(function(){var n,r,o,i,a,l,s;return wa(this,(function(c){switch(c.label){case 0:n=t.t,r=t.token,o=Ca+"/exercises/"+e+"/users/current/submissions",i=xa(r),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,ga().get(o,{headers:i,responseType:"json"})];case 2:return l=c.sent(),a=l.data,[3,4];case 3:throw s=c.sent(),new Error(s.response.status+": "+n("failedToDownloadExercise"));case 4:return[2,a.map((function(e){return{id:e.id,createdAtMillis:Date.parse(e.created_at)}}))]}}))}))},Aa=function(e,t){return ya(void 0,void 0,void 0,(function(){return wa(this,(function(n){return[2,Ia(Ca+"/core/submissions/"+e+"/download",t)]}))}))},Sa=function(e,t,n,r){return ya(void 0,void 0,void 0,(function(){var o,i,a,l,s,c,u,d,p,f,m,g,h;return wa(this,(function(b){switch(b.label){case 0:return o=n.t,i=n.token,a=xa(i,{"Content-Type":"multipart/form-data"}),l=(null==r?void 0:r.paste)||!1,s=new(ba()),t.forEach((function(e){s.file(e.fullName,e.content)})),c=new FormData,l&&c.append("paste","1"),d=(u=c).append,p=["submission[file]"],[4,s.generateAsync({type:"blob"})];case 1:d.apply(u,p.concat([b.sent()])),b.label=2;case 2:return b.trys.push([2,4,,5]),[4,ga().post(Ca+"/core/exercises/"+e+"/submissions",c,{headers:a})];case 3:return f=b.sent(),[2,{pasteUrl:l?f.data.paste_url:void 0,showSubmissionUrl:f.data.show_submission_url,submissionUrl:f.data.submission_url}];case 4:throw m=b.sent(),g=m.response.status,h=o(403===g?"authenticationRequired":"submissionProcessFailed"),console.error(m.response),new Error(g+": "+h);case 5:return[2]}}))}))},Ta=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Pa=(0,s.ZP)(Et.Z)(da||(da=Ta(["\n  background-color: #e8e8e8;\n  color: #ff9800;\n  border-radius: 3px 3px;\n  padding: 12px;\n  font-size: 1rem;\n"],["\n  background-color: #e8e8e8;\n  color: #ff9800;\n  border-radius: 3px 3px;\n  padding: 12px;\n  font-size: 1rem;\n"]))),Ba=s.ZP.span(pa||(pa=Ta(["\n  margin-left: 10px;\n  color: black;\n"],["\n  margin-left: 10px;\n  color: black;\n"]))),Oa=function(e){var t=e.children;switch(e.style){case"warning":default:return l.createElement(Pa,null,l.createElement(jn.G,{icon:Wn.eHv}),l.createElement(Ba,null,t))}},Na="function"==typeof btoa,Ra="function"==typeof Buffer,Wa=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder?new TextEncoder:void 0),ja=(0,At.Z)("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),Fa=(fa={},ja.forEach((function(e,t){return fa[e]=t})),String.fromCharCode.bind(String)),Ga=("function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),function(e){return e.replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=+$/m,"")}),Ha=function(e){for(var t,n,r,o,i="",a=e.length%3,l=0;l<e.length;){if((n=e.charCodeAt(l++))>255||(r=e.charCodeAt(l++))>255||(o=e.charCodeAt(l++))>255)throw new TypeError("invalid character found");i+=ja[(t=n<<16|r<<8|o)>>18&63]+ja[t>>12&63]+ja[t>>6&63]+ja[63&t]}return a?i.slice(0,a-3)+"===".substring(a):i},La=Na?function(e){return btoa(e)}:Ra?function(e){return Buffer.from(e,"binary").toString("base64")}:Ha,Ma=Ra?function(e){return Buffer.from(e).toString("base64")}:function(e){for(var t=[],n=0,r=e.length;n<r;n+=4096)t.push(Fa.apply(null,e.subarray(n,n+4096)));return La(t.join(""))},Ka=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?Fa(192|t>>>6)+Fa(128|63&t):Fa(224|t>>>12&15)+Fa(128|t>>>6&63)+Fa(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return Fa(240|t>>>18&7)+Fa(128|t>>>12&63)+Fa(128|t>>>6&63)+Fa(128|63&t)},Va=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Da=function(e){return e.replace(Va,Ka)},Xa=Ra?function(e){return Buffer.from(e,"utf8").toString("base64")}:Wa?function(e){return Ma(Wa.encode(e))}:function(e){return La(Da(e))},Ya=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?Ga(Xa(e)):Xa(e)},za=Ya,Ua=function(e,t){return Ja(e.content,[e.shortName],t)},Ja=function(e,t,n){var r=/^import \./,o=/^from \.\w+ import/;return e.split("\n").map((function(e,i){return e.match(r)?_a($a(e),t,n):e.match(o)?Qa(qa(e),i,t,n):e})).join("\n")},_a=function(e,t,n){var r=e.pkg+".py";if(t.includes(r))throw r+" has already been imported. Mutually recursive imports are not allowed.";var o=el(r,n);return"\n"+Ja(o,t.concat([r]),n)+"\n"},Qa=function(e,t,n,r){var o=e.pkg+".py";if(n.includes(o))throw o+" has already been imported. Mutually recursive imports are not allowed.";var i=el(o,r),a=Ja(i,n.concat([o]),r).split("\n").map((function(e){return"\t"+e})),l=e.names.join(", "),s="__wrap"+t;return"def "+s+"():\n"+(a.join("\n")+"\n")+("\treturn "+l+"\n")+(l+" = "+s+"()")},$a=function(e){var t=e.match(/^import \.(\w+)[ \t]*$/);if(t)return{pkg:t[1]};throw"Malformed import statement"},qa=function(e){var t=e.match(/^from \.(\w+) import ([\w,\s]+)/);if(t)return{pkg:t[1],names:t[2].split(",").map((function(e){return e.trim()}))};throw"Malformed import statement: "+e},el=function(e,t){return console.log(e),console.log(t),t.filter((function(t){return t.shortName===e}))[0].content},tl=function(){return(tl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},nl=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function l(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},rl=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(l){i=[6,l],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},ol=function(e,t){return nl(void 0,void 0,void 0,(function(){var n,r,o,i,a,l,s,c,u,d;return rl(this,(function(p){switch(p.label){case 0:return n=t.t,[4,il(e)];case 1:return r=p.sent(),[4,il(e,"src")];case 2:return o=p.sent(),[4,il(e,"test")];case 3:return i=p.sent(),[4,il(e,"tmc")];case 4:a=p.sent(),l=[],s=!0,c=function(e){return e.sort((function(e,t){return e.shortName.localeCompare(t.shortName)}))},0===(u=o.length>0?c(o):c(r)).length&&l.push(n("noExerciseFilesFound")),d="";try{d=cl(i,a)}catch(f){Array.isArray(f)?l.push.apply(l,f):l.push(f),s=!1}return[2,{problems:l,srcFiles:u,successful:s,testSource:d}]}}))}))},il=function(e,t,n){var r=t?RegExp(t+"/\\w*\\.py$"):/^\w+\/\w+\/\w*\.py$/,o=ll(e.file(r),n);return Promise.all(o.map((function(e){return al(e)})))},al=function(e){return nl(void 0,void 0,void 0,(function(){var t,n,r,o;return rl(this,(function(i){switch(i.label){case 0:return[4,e.async("string")];case 1:return t=i.sent(),n=e.name,r=n.match(/(\w+\.py)/),o=null,r?(o=r[0],[2,{fullName:n,shortName:o,originalContent:t,content:t}]):[2,{fullName:"",shortName:"",originalContent:"",content:""}]}}))}))},ll=function(e,t){if(t){var n=e.findIndex((function(e){return e.name.includes(t)}));if(n>-1){var r=e.splice(n,1)[0];return e.unshift(r),e}}return e},sl=function(e){return'"""\n'+e.replace(/\\/g,"\\\\").replace(/"""/g,'\\"\\"\\"')+'\n"""'},cl=function(e,t){var n=dl(e),r=ul("hmac_writer.py",t,{content:"# old template",fullName:"",originalContent:"",shortName:"hmac_writer.py"}),o=ul("points.py",t),i=ul("result.py",t),a=ul("runner.py",t),l=ul("utils.py",t);return'\nimport base64, contextlib, importlib, io, json, sys\nfrom types import ModuleType\n\n_stdout_pointer = 0\n\ndef __wrap_import(module_name, code):\n    mod = ModuleType(module_name)\n    sys.modules[module_name] = mod\n    exec(code, mod.__dict__)\n\n__wrap_import("tmc_webeditor", __webeditor_module_source)\n\n__wrap_import("tmc_hmac_writer", '+sl(fl(r,t))+')\n__wrap_import("tmc_points", '+sl(fl(o,t))+')\n__wrap_import("tmc_result", '+sl(fl(i,t))+')\n__wrap_import("tmc_runner", '+sl(fl(a,t))+')\n__wrap_import("tmc_utils", '+sl(fl(l,t))+")\n\n"+pl(n,"PythonEditorTest",e)+'\n\ntestOutput = ""\nfrom tmc_runner import TMCTestRunner\nfrom tmc_webeditor import code\n\nimport inspect\ndef getsource(module):\n    return code\ninspect.getsource = getsource\n\ntest_suite = unittest.TestLoader().loadTestsFromTestCase(PythonEditorTest)\nwith io.StringIO() as buf:\n    with contextlib.redirect_stdout(buf):\n        TMCTestRunner(stream=buf).run(test_suite)\n    from tmc_result import results\n    testOutput = json.dumps(results, ensure_ascii=False)\n    print(testOutput)\n'},ul=function(e,t,n){var r=t.find((function(t){return t.shortName===e}));if(!r){if(n)return n;throw'Expected to find file "'+e+'"'}return r},dl=function(e){var t=e.find((function(e){return"__init__.py"!==e.shortName}));if(!t)throw"Couldn't find test file";return t},pl=function(e,t,n){var r=e.content.split("\n").map((function(e){var n=e.match(/^from tmc import ([\w,\s]+)/);if(n)return n[1].split(",").map((function(e){return"from tmc_"+e.trim()+" import "+e.trim()})).join("\n");var r=e.match(/from tmc\.(\w+) import ([\w,\s]+)/);return r?"from tmc_"+r[1]+" import "+r[2]:e.replace(/\w+Test\(unittest.TestCase\)/,t+"(unittest.TestCase)")})).join("\n");return Ua(tl(tl({},e),{content:r}),n)},fl=function(e,t){var n=e.content.split("\n").map((function(e){var t=e.match(/^import \.(\w+)/);return t?"import tmc_"+t[1]:(t=e.match(/^from \.(\w+) import ([\w,\s]+)/))||(t=e.match(/from tmc\.(\w+) import ([\w,\s]+)/))?"from tmc_"+t[1]+" import "+t[2]:e})).join("\n");switch(e.shortName){case"utils.py":n=ml(n)}return Ua(tl(tl({},e),{content:n}),t)},ml=function(e){for(var t=!1,n=!1,r=!1,o=["import inspect","def getsource(module):","    return code","inspect.getsource = getsource"].concat(e.split("\n")),i=0;i<o.length;){var a=o[i];if(a.startsWith("_stdout_pointer"))t=!0,i++;else if(a.startsWith("def load_module")){n=!0;var l=hl(o,i),s='    from types import ModuleType\n    from tmc_webeditor import code\n    mod = ModuleType("editorcontent")\n    try:\n        exec(code, mod.__dict__)\n    except Exception as e:\n        return AssertionError(e)\n    return mod\n'.split("\n");o=gl(o,i+1,l,s),i+=s.length}else if(a.startsWith("def reload_module")){r=!0;l=hl(o,i),s='    global _stdout_pointer\n    if isinstance(module, AssertionError):\n        raise module\n    _stdout_pointer = len(sys.stdout.getvalue())\n    return load_module("editorcontent")\n'.split("\n");o=gl(o,i+1,l,s),i+=s.length}else i++}var c=[];if(!t&&c.push("Expected to find global `_stdout_pointer` from tmc/utils.py."),!n&&c.push("Expected to find function `load_module` from tmc/utils.py."),!r&&c.push("Expected to find function `reload_module` from tmc/utils.py."),c.length>0)throw c;return o.join("\n")},gl=function(e,t,n,r){return e.slice(0,t).concat(r).concat(e.slice(n))},hl=function(e,t){for(var n=bl(e[t]),r=t+1;r<e.length&&n<bl(e[r]);)r++;return r},bl=function(e){return""===e.trim()?Number.MAX_SAFE_INTEGER:e.search(/\S/)},vl=function(){return(vl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},yl=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function l(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},wl=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(l){i=[6,l],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Cl(e,t,n,r,o){var i=this,a=(0,l.useState)(!1),s=a[0],c=a[1],u=(0,l.useState)(),d=u[0],p=u[1],f=(0,l.useState)([Zn]),m=f[0],g=f[1],h=(0,l.useState)(),b=h[0],v=h[1],y=(0,l.useState)([]),w=y[0],C=y[1],I=(0,l.useState)(),E=I[0],Z=I[1],k=(0,x.$)()[0];return(0,l.useEffect)((function(){e&&t&&n?(c(!1),yl(i,void 0,void 0,(function(){var i,a,l,s,c,u,d,f;return wl(this,(function(m){switch(m.label){case 0:return m.trys.push([0,7,,8]),[4,Ea(e,t,n,i={token:o,t:k})];case 1:return a=m.sent(),p(a),a.downloadable?[4,xl(e,t,n,i)]:(g([vl(vl({},Zn),{content:"# "+k("exerciseNotYetUnlocked")})]),C([]),Z(void 0),[2]);case 2:return l=m.sent(),r&&o?[4,Il(a.id,i)]:(g(l.srcFiles),C(null!==(d=l.problems)&&void 0!==d?d:[]),Z(l.testSource),[2]);case 3:return(s=m.sent())?[4,El(s.id,i)]:[3,5];case 4:return c=m.sent(),g(c?l.srcFiles.map((function(e){var t=c.srcFiles.find((function(t){return t.fullName===e.fullName}));return t?vl(vl({},e),{content:t.content}):e})):l.srcFiles),[3,6];case 5:g(l.srcFiles),m.label=6;case 6:return v(s),C(null!==(f=l.problems)&&void 0!==f?f:[]),Z(l.testSource),[3,8];case 7:return u=m.sent(),p(void 0),g([vl(vl({},Zn),{content:"# "+u.message})]),v(void 0),C([]),Z(void 0),[3,8];case 8:return[2]}}))})).then((function(){return c(!0)}))):c(!0)}),[e,t,n,r,o,k]),{details:d,getTestProgram:(0,l.useCallback)((function(e){return"\n__webeditor_module_source = "+function(e){return'"""\nimport base64\ncode = base64.b64decode("'+za(e)+'").decode("utf-8")\n"""'}(e)+"\n"+E+"\n"}),[E]),templateIssues:w,projectFiles:m,ready:s,reset:(0,l.useCallback)((function(){g((function(e){return e.map((function(e){return vl(vl({},e),{content:e.originalContent})}))}))}),[]),submissionDetails:b,updateDetails:(0,l.useCallback)((function(){return yl(i,void 0,void 0,(function(){var r;return wl(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,Ea(e,t,n,{token:o,t:k})];case 1:return r=i.sent(),p(r),[3,3];case 2:return i.sent(),[3,3];case 3:return[2]}}))}))}),[e,t,n,o,k])}}var xl=function(e,t,n,r){return yl(void 0,void 0,void 0,(function(){var o;return wl(this,(function(i){switch(i.label){case 0:return[4,Za(e,t,n,r)];case 1:return o=i.sent(),[4,ol(o,r)];case 2:return[2,i.sent()]}}))}))},Il=function(e,t){return yl(void 0,void 0,void 0,(function(){var n;return wl(this,(function(r){switch(r.label){case 0:return[4,ka(e,t)];case 1:return(n=r.sent()).length<=0?[2,void 0]:[2,n.reduce((function(e,t){return t.createdAtMillis>e.createdAtMillis?t:e}),n[0])]}}))}))},El=function(e,t){return yl(void 0,void 0,void 0,(function(){var n;return wl(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,Aa(e,t)];case 1:return n=r.sent(),[4,ol(n,t)];case 2:return[2,r.sent()];case 3:return r.sent(),[2,void 0];case 4:return[2]}}))}))},Zl=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function l(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},kl=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(l){i=[6,l],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Al=function(e){var t,n,r,o,i,a=e.onExerciseDetailsChange,s=e.organization,c=e.course,u=e.exercise,d=e.token,p=e.userId,f=e.height,m=e.outputHeight,g=e.debug,h=e.language,b=void 0===h?"en":h,v=function(e){void 0===e&&(e=1e3);var t=(0,l.useState)(E()),n=t[0],r=t[1];return(0,l.useEffect)((function(){var t=setInterval((function(){return r(E())}),e);return function(){return clearInterval(t)}}),[e,r]),n}(1e4),y=(0,x.$)(),w=y[0],I=y[1],Z=Cl(s,c,u,p,d),k={t:w,token:d},A=p&&d,S=A&&(s&&c&&u)?p+":"+s+"-"+c+"-"+u:void 0,T=(0,l.useCallback)((function(e){return Zl(void 0,void 0,void 0,(function(){var t,n,r,o,i;return kl(this,(function(a){switch(a.label){case 0:if(t=function(e){return{points:[],testCases:[{id:"0",testName:"Exercise submission",passed:!1,feedback:"Error "+e}]}},!Z.details)return[2,t("418: Exercise details missing")];a.label=1;case 1:return a.trys.push([1,7,,8]),[4,Sa(Z.details.id,e,k)];case 2:n=a.sent(),a.label=3;case 3:return a.trys.push([3,5,,6]),[4,(l=n,s=k,ya(void 0,void 0,void 0,(function(){var e,t,n,r,o,i,a,c;return wa(this,(function(u){switch(u.label){case 0:e=s.t,t=s.token,n=xa(t),r=function(t){var r,o,i,a,s;return wa(this,(function(c){switch(c.label){case 0:return[4,new Promise((function(e){return setTimeout(e,t)}))];case 1:c.sent(),r=void 0,c.label=2;case 2:return c.trys.push([2,4,,5]),[4,ga().get(l.submissionUrl,{headers:n,responseType:"json"})];case 3:return r=c.sent().data,[3,5];case 4:return o=c.sent(),console.error(o.response),r={status:"error",statusCode:o.response.status},[3,5];case 5:if("error"===r.status)throw new Error(r.statusCode+": "+e("submissionProcessFailed"));return"processing"!==r.status?(i=r.test_cases,a=i.map((function(e,t){return{id:t.toString(),testName:e.name,passed:e.successful,feedback:e.message}})),s=r.points,[2,{value:{allTestsPassed:r.all_tests_passed,points:s,testCases:a,feedbackQuestions:r.feedback_questions,feedbackAnswerUrl:r.feedback_answer_url,solutionUrl:r.solution_url}}]):[2]}}))},o=0,i=[2e3,2e3,1e3,1e3,1e3,2e3,2e3,4e3,8e3,16e3],u.label=1;case 1:return o<i.length?(a=i[o],[5,r(a)]):[3,4];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return o++,[3,1];case 4:throw new Error("418: "+e("submissionTookTooLong"))}}))})))];case 4:return r=a.sent(),Z.updateDetails(),[2,r];case 5:return o=a.sent(),[2,t(o.message)];case 6:return[3,8];case 7:return i=a.sent(),[2,t(i.message)];case 8:return[2]}var l,s}))}))}),[Z.details]);(0,l.useEffect)((function(){var e=Z.details;e&&e.deadline&&!e.expired&&v>=C.ou.fromISO(e.deadline)&&Z.updateDetails()}),[Z,v]),(0,l.useEffect)((function(){null==a||a(Z.details)}),[Z.details,a]),(0,l.useEffect)((function(){I.changeLanguage(b)}),[b]);var P=(null===(t=Z.details)||void 0===t?void 0:t.expired)||!(null===(n=Z.details)||void 0===n?void 0:n.downloadable)||!A;return l.createElement("div",null,!A&&l.createElement(Oa,{style:"warning"},w("signInToSubmitExercise")),(null===(r=Z.details)||void 0===r?void 0:r.expired)&&l.createElement(Oa,{style:"warning"},w("deadlineExpired")),l.createElement(ua,{cacheKey:S,debug:g,exercise:Z,submitFeedback:function(e,t){e.feedbackAnswerUrl&&t.length>0&&function(e,t,n){ya(void 0,void 0,void 0,(function(){var r,o,i,a;return wa(this,(function(l){switch(l.label){case 0:if(r=n.token,o=xa(r,{"Content-Type":"multipart/form-data"}),!e.feedbackAnswerUrl||""===e.feedbackAnswerUrl)return[2];i=new FormData,t.forEach((function(e,t){i.append("answers["+t+"][question_id]",e.questionId.toString()),i.append("answers["+t+"][answer]",e.answer.toString())})),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,ga().post(e.feedbackAnswerUrl,i,{headers:o})];case 2:return l.sent(),[2];case 3:throw a=l.sent(),new Error(a.response.status+": "+JSON.parse(a.response));case 4:return[2]}}))}))}(e,t,k)},submitProgrammingExercise:T,submitToPaste:function(e){return Zl(void 0,void 0,void 0,(function(){var t,n,r;return kl(this,(function(o){switch(o.label){case 0:if(!Z.details)return[2,""];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,Sa(Z.details.id,e,k,{paste:!0})];case 2:return t=o.sent(),[2,null!==(r=t.pasteUrl)&&void 0!==r?r:""];case 3:return n=o.sent(),[2,Promise.reject(n.message)];case 4:return[2]}}))}))},submitDisabled:P,editorHeight:f,outputHeight:m,solutionUrl:(null===(o=Z.details)||void 0===o?void 0:o.completed)||(null===(i=Z.details)||void 0===i?void 0:i.expired)?"https://tmc.mooc.fi/exercises/"+Z.details.id+"/solution":void 0}))},Sl=function(){return(Sl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Tl=function(e){return l.createElement(h,{i18n:w},l.createElement(Al,Sl({},e)))},Pl=n(74222),Bl="en";"fi"===n.n(Pl)().language&&(Bl="fi");var Ol=s.ZP.div.withConfig({displayName:"MoocfiPythonEditorLoader__Wrapper",componentId:"a2lc5s-0"})(["padding 1rem;"]),Nl=(0,s.ZP)(Zt.Z).withConfig({displayName:"MoocfiPythonEditorLoader__StyledDeadlineText",componentId:"a2lc5s-1"})(["padding:0.25rem 0 1rem 0 !important;color:rgb(108,117,125) !important;font-size:0.8rem !important;font-weight:bold !important;"]),Rl=(0,s.ZP)(jn.G).withConfig({displayName:"MoocfiPythonEditorLoader__StyledIcon",componentId:"a2lc5s-2"})(["font-size:0.9rem !important;margin-right:0.25em !important;vertical-align:-0.1em !important;"]),Wl=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call(this,...r)||this).state={render:!1,exerciseDetails:void 0,organization:void 0,course:void 0,userId:void 0},t.onUpdate=function(e){t.setState({exerciseDetails:e})},t}(0,o.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=(0,r.Z)(a().mark((function e(){var t,n,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.zh)();case 2:if(t=e.sent,n=t.tmcOrganization,r=t.tmcCourse,e.t0=this.context.loggedIn,!e.t0){e.next=10;break}return e.next=9,(0,f.gb)();case 9:e.t0=e.sent;case 10:o=e.t0,this.setState({render:!0,organization:n,course:r,userId:null==o?void 0:o.id});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.render=function(){var e=this.props,t=e.t,n=e.name,r=e.tmcname,o=e.children,i=e.height,a=e.outputheight,s=e.outputposition,c=e.difficulty;if(!this.state.render)return l.createElement("div",null,"Loading");var u=l.createElement("div",{style:{padding:"1rem",textAlign:"center"}},l.createElement("p",null,t("loginToAttemptExercise")),l.createElement(d.Z,null)),p=this.context.loggedIn&&this.state.exerciseDetails,g=null!=p&&p.deadline?new Date(p.deadline):null;return l.createElement(m.Z,{name:n,points:null==p?void 0:p.availablePoints,awardedPoints:null==p?void 0:p.awardedPoints,allowRefresh:!1,completed:(null==p?void 0:p.completed)||!1,difficulty:c},l.createElement("div",null,g instanceof Date&&!isNaN(g.getTime())&&l.createElement(Nl,null,l.createElement(Rl,{icon:Wn.SZw}),"Deadline: "+g.toLocaleString("en-GB")),l.createElement(Ol,null,o),this.context.loggedIn?l.createElement(Tl,{onExerciseDetailsChange:this.onUpdate,organization:this.state.organization,course:this.state.course,exercise:r,userId:this.state.userId,token:(0,f.To)(),height:i||"300px",outputHeight:a||"auto",outputPosition:s||"relative",language:Bl}):u))},t}(l.Component);Wl.contextType=u.ZP;var jl=(0,c.Z)("common")((0,p.Z)(Wl))}}]);
//# sourceMappingURL=770-ecd419eb02666627524e.js.map